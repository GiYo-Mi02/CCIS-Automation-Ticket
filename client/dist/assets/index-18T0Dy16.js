function E0(e,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A0={exports:{}},fl={},v0={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),Oh=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),jh=Symbol.for("react.lazy"),Fc=Symbol.iterator;function Vh(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var S0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I0=Object.assign,N0={};function Pi(e,n,s){this.props=e,this.context=n,this.refs=N0,this.updater=s||S0}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T0(){}T0.prototype=Pi.prototype;function vu(e,n,s){this.props=e,this.context=n,this.refs=N0,this.updater=s||S0}var Su=vu.prototype=new T0;Su.constructor=vu;I0(Su,Pi.prototype);Su.isPureReactComponent=!0;var Uc=Array.isArray,_0=Object.prototype.hasOwnProperty,Iu={current:null},R0={key:!0,ref:!0,__self:!0,__source:!0};function b0(e,n,s){var a,c={},d=null,x=null;if(n!=null)for(a in n.ref!==void 0&&(x=n.ref),n.key!==void 0&&(d=""+n.key),n)_0.call(n,a)&&!R0.hasOwnProperty(a)&&(c[a]=n[a]);var w=arguments.length-2;if(w===1)c.children=s;else if(1<w){for(var y=Array(w),m=0;m<w;m++)y[m]=arguments[m+2];c.children=y}if(e&&e.defaultProps)for(a in w=e.defaultProps,w)c[a]===void 0&&(c[a]=w[a]);return{$$typeof:Us,type:e,key:d,ref:x,props:c,_owner:Iu.current}}function Wh(e,n){return{$$typeof:Us,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Us}function zh(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var jc=/\/+/g;function Ql(e,n){return typeof e=="object"&&e!==null&&e.key!=null?zh(""+e.key):n.toString(36)}function So(e,n,s,a,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case Us:case Oh:x=!0}}if(x)return x=e,c=c(x),e=a===""?"."+Ql(x,0):a,Uc(c)?(s="",e!=null&&(s=e.replace(jc,"$&/")+"/"),So(c,n,s,"",function(m){return m})):c!=null&&(Nu(c)&&(c=Wh(c,s+(!c.key||x&&x.key===c.key?"":(""+c.key).replace(jc,"$&/")+"/")+e)),n.push(c)),1;if(x=0,a=a===""?".":a+":",Uc(e))for(var w=0;w<e.length;w++){d=e[w];var y=a+Ql(d,w);x+=So(d,n,s,y,c)}else if(y=Vh(e),typeof y=="function")for(e=y.call(e),w=0;!(d=e.next()).done;)d=d.value,y=a+Ql(d,w++),x+=So(d,n,s,y,c);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return x}function so(e,n,s){if(e==null)return e;var a=[],c=0;return So(e,a,"","",function(d){return n.call(s,d,c++)}),a}function Hh(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},Io={transition:null},Gh={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Io,ReactCurrentOwner:Iu};function O0(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:so,forEach:function(e,n,s){so(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return so(e,function(){n++}),n},toArray:function(e){return so(e,function(n){return n})||[]},only:function(e){if(!Nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=Pi;Ae.Fragment=Dh;Ae.Profiler=kh;Ae.PureComponent=vu;Ae.StrictMode=Mh;Ae.Suspense=Fh;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;Ae.act=O0;Ae.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=I0({},e.props),c=e.key,d=e.ref,x=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,x=Iu.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(y in n)_0.call(n,y)&&!R0.hasOwnProperty(y)&&(a[y]=n[y]===void 0&&w!==void 0?w[y]:n[y])}var y=arguments.length-2;if(y===1)a.children=s;else if(1<y){w=Array(y);for(var m=0;m<y;m++)w[m]=arguments[m+2];a.children=w}return{$$typeof:Us,type:e.type,key:c,ref:d,props:a,_owner:x}};Ae.createContext=function(e){return e={$$typeof:Bh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ph,_context:e},e.Consumer=e};Ae.createElement=b0;Ae.createFactory=function(e){var n=b0.bind(null,e);return n.type=e,n};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:Lh,render:e}};Ae.isValidElement=Nu;Ae.lazy=function(e){return{$$typeof:jh,_payload:{_status:-1,_result:e},_init:Hh}};Ae.memo=function(e,n){return{$$typeof:Uh,type:e,compare:n===void 0?null:n}};Ae.startTransition=function(e){var n=Io.transition;Io.transition={};try{e()}finally{Io.transition=n}};Ae.unstable_act=O0;Ae.useCallback=function(e,n){return Ft.current.useCallback(e,n)};Ae.useContext=function(e){return Ft.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Ae.useEffect=function(e,n){return Ft.current.useEffect(e,n)};Ae.useId=function(){return Ft.current.useId()};Ae.useImperativeHandle=function(e,n,s){return Ft.current.useImperativeHandle(e,n,s)};Ae.useInsertionEffect=function(e,n){return Ft.current.useInsertionEffect(e,n)};Ae.useLayoutEffect=function(e,n){return Ft.current.useLayoutEffect(e,n)};Ae.useMemo=function(e,n){return Ft.current.useMemo(e,n)};Ae.useReducer=function(e,n,s){return Ft.current.useReducer(e,n,s)};Ae.useRef=function(e){return Ft.current.useRef(e)};Ae.useState=function(e){return Ft.current.useState(e)};Ae.useSyncExternalStore=function(e,n,s){return Ft.current.useSyncExternalStore(e,n,s)};Ae.useTransition=function(){return Ft.current.useTransition()};Ae.version="18.3.1";v0.exports=Ae;var U=v0.exports;const D0=C0(U),Xh=E0({__proto__:null,default:D0},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=U,Zh=Symbol.for("react.element"),Kh=Symbol.for("react.fragment"),Qh=Object.prototype.hasOwnProperty,qh=Yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jh={key:!0,ref:!0,__self:!0,__source:!0};function M0(e,n,s){var a,c={},d=null,x=null;s!==void 0&&(d=""+s),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(x=n.ref);for(a in n)Qh.call(n,a)&&!Jh.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:Zh,type:e,key:d,ref:x,props:c,_owner:qh.current}}fl.Fragment=Kh;fl.jsx=M0;fl.jsxs=M0;A0.exports=fl;var R=A0.exports,Sa={},k0={exports:{}},rn={},P0={exports:{}},B0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ne,ge){var pe=ne.length;ne.push(ge);e:for(;0<pe;){var Xe=pe-1>>>1,Ie=ne[Xe];if(0<c(Ie,ge))ne[Xe]=ge,ne[pe]=Ie,pe=Xe;else break e}}function s(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var ge=ne[0],pe=ne.pop();if(pe!==ge){ne[0]=pe;e:for(var Xe=0,Ie=ne.length,on=Ie>>>1;Xe<on;){var Ke=2*(Xe+1)-1,_r=ne[Ke],ue=Ke+1,qn=ne[ue];if(0>c(_r,pe))ue<Ie&&0>c(qn,_r)?(ne[Xe]=qn,ne[ue]=pe,Xe=ue):(ne[Xe]=_r,ne[Ke]=pe,Xe=Ke);else if(ue<Ie&&0>c(qn,pe))ne[Xe]=qn,ne[ue]=pe,Xe=ue;else break e}}return ge}function c(ne,ge){var pe=ne.sortIndex-ge.sortIndex;return pe!==0?pe:ne.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,w=x.now();e.unstable_now=function(){return x.now()-w}}var y=[],m=[],_=1,S=null,M=3,F=!1,H=!1,j=!1,$=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ne){for(var ge=s(m);ge!==null;){if(ge.callback===null)a(m);else if(ge.startTime<=ne)a(m),ge.sortIndex=ge.expirationTime,n(y,ge);else break;ge=s(m)}}function P(ne){if(j=!1,N(ne),!H)if(s(y)!==null)H=!0,et(X);else{var ge=s(m);ge!==null&&me(P,ge.startTime-ne)}}function X(ne,ge){H=!1,j&&(j=!1,b(Q),Q=-1),F=!0;var pe=M;try{for(N(ge),S=s(y);S!==null&&(!(S.expirationTime>ge)||ne&&!ce());){var Xe=S.callback;if(typeof Xe=="function"){S.callback=null,M=S.priorityLevel;var Ie=Xe(S.expirationTime<=ge);ge=e.unstable_now(),typeof Ie=="function"?S.callback=Ie:S===s(y)&&a(y),N(ge)}else a(y);S=s(y)}if(S!==null)var on=!0;else{var Ke=s(m);Ke!==null&&me(P,Ke.startTime-ge),on=!1}return on}finally{S=null,M=pe,F=!1}}var Z=!1,L=null,Q=-1,G=5,ae=-1;function ce(){return!(e.unstable_now()-ae<G)}function re(){if(L!==null){var ne=e.unstable_now();ae=ne;var ge=!0;try{ge=L(!0,ne)}finally{ge?Ee():(Z=!1,L=null)}}else Z=!1}var Ee;if(typeof v=="function")Ee=function(){v(re)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,z=Ne.port2;Ne.port1.onmessage=re,Ee=function(){z.postMessage(null)}}else Ee=function(){$(re,0)};function et(ne){L=ne,Z||(Z=!0,Ee())}function me(ne,ge){Q=$(function(){ne(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){H||F||(H=!0,et(X))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return s(y)},e.unstable_next=function(ne){switch(M){case 1:case 2:case 3:var ge=3;break;default:ge=M}var pe=M;M=ge;try{return ne()}finally{M=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ge){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var pe=M;M=ne;try{return ge()}finally{M=pe}},e.unstable_scheduleCallback=function(ne,ge,pe){var Xe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Xe+pe:Xe):pe=Xe,ne){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=pe+Ie,ne={id:_++,callback:ge,priorityLevel:ne,startTime:pe,expirationTime:Ie,sortIndex:-1},pe>Xe?(ne.sortIndex=pe,n(m,ne),s(y)===null&&ne===s(m)&&(j?(b(Q),Q=-1):j=!0,me(P,pe-Xe))):(ne.sortIndex=Ie,n(y,ne),H||F||(H=!0,et(X))),ne},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(ne){var ge=M;return function(){var pe=M;M=ge;try{return ne.apply(this,arguments)}finally{M=pe}}}})(B0);P0.exports=B0;var $h=P0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2=U,nn=$h;function q(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L0=new Set,Es={};function Zr(e,n){Ti(e,n),Ti(e+"Capture",n)}function Ti(e,n){for(Es[e]=n,e=0;e<n.length;e++)L0.add(n[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=Object.prototype.hasOwnProperty,t2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vc={},Wc={};function n2(e){return Ia.call(Wc,e)?!0:Ia.call(Vc,e)?!1:t2.test(e)?Wc[e]=!0:(Vc[e]=!0,!1)}function r2(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i2(e,n,s,a){if(n===null||typeof n>"u"||r2(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ut(e,n,s,a,c,d,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=x}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Tt[n]=new Ut(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tu=/[\-:]([a-z])/g;function _u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Tu,_u);Tt[n]=new Ut(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Tu,_u);Tt[n]=new Ut(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Tu,_u);Tt[n]=new Ut(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ru(e,n,s,a){var c=Tt.hasOwnProperty(n)?Tt[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(i2(n,s,c,a)&&(s=null),a||c===null?n2(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var Qn=e2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),ai=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),bu=Symbol.for("react.strict_mode"),Na=Symbol.for("react.profiler"),F0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),Ou=Symbol.for("react.forward_ref"),Ta=Symbol.for("react.suspense"),_a=Symbol.for("react.suspense_list"),Du=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),j0=Symbol.for("react.offscreen"),zc=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,ql;function os(e){if(ql===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ql=n&&n[1]||""}return`
`+ql+e}var Jl=!1;function $l(e,n){if(!e||Jl)return"";Jl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var a=m}Reflect.construct(e,[],n)}else{try{n.call()}catch(m){a=m}e.call(n.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var c=m.stack.split(`
`),d=a.stack.split(`
`),x=c.length-1,w=d.length-1;1<=x&&0<=w&&c[x]!==d[w];)w--;for(;1<=x&&0<=w;x--,w--)if(c[x]!==d[w]){if(x!==1||w!==1)do if(x--,w--,0>w||c[x]!==d[w]){var y=`
`+c[x].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=x&&0<=w);break}}}finally{Jl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?os(e):""}function s2(e){switch(e.tag){case 5:return os(e.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return e=$l(e.type,!1),e;case 11:return e=$l(e.type.render,!1),e;case 1:return e=$l(e.type,!0),e;default:return""}}function Ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ui:return"Fragment";case ai:return"Portal";case Na:return"Profiler";case bu:return"StrictMode";case Ta:return"Suspense";case _a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U0:return(e.displayName||"Context")+".Consumer";case F0:return(e._context.displayName||"Context")+".Provider";case Ou:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Du:return n=e.displayName||null,n!==null?n:Ra(e.type)||"Memo";case or:n=e._payload,e=e._init;try{return Ra(e(n))}catch{}}return null}function o2(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ra(n);case 8:return n===bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function l2(e){var n=V0(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function lo(e){e._valueTracker||(e._valueTracker=l2(e))}function W0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=V0(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function Bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ba(e,n){var s=n.checked;return $e({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Hc(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=Ar(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function z0(e,n){n=n.checked,n!=null&&Ru(e,"checked",n,!1)}function Oa(e,n){z0(e,n);var s=Ar(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Da(e,n.type,s):n.hasOwnProperty("defaultValue")&&Da(e,n.type,Ar(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Gc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Da(e,n,s){(n!=="number"||Bo(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ls=Array.isArray;function Ci(e,n,s,a){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Ar(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ma(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(q(91));return $e({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(q(92));if(ls(s)){if(1<s.length)throw Error(q(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Ar(s)}}function H0(e,n){var s=Ar(n.value),a=Ar(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Yc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function G0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?G0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,X0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Cs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a2=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(e){a2.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),fs[n]=fs[e]})});function Y0(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||fs.hasOwnProperty(e)&&fs[e]?(""+n).trim():n+"px"}function Z0(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Y0(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var u2=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,n){if(n){if(u2[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(q(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(q(61))}if(n.style!=null&&typeof n.style!="object")throw Error(q(62))}}function Ba(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=null;function Mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,Ai=null,vi=null;function Zc(e){if(e=Ws(e)){if(typeof Fa!="function")throw Error(q(280));var n=e.stateNode;n&&(n=pl(n),Fa(e.stateNode,e.type,n))}}function K0(e){Ai?vi?vi.push(e):vi=[e]:Ai=e}function Q0(){if(Ai){var e=Ai,n=vi;if(vi=Ai=null,Zc(e),n)for(e=0;e<n.length;e++)Zc(n[e])}}function q0(e,n){return e(n)}function J0(){}var ea=!1;function $0(e,n,s){if(ea)return e(n,s);ea=!0;try{return q0(e,n,s)}finally{ea=!1,(Ai!==null||vi!==null)&&(J0(),Q0())}}function As(e,n){var s=e.stateNode;if(s===null)return null;var a=pl(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(q(231,n,typeof s));return s}var Ua=!1;if(Xn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Ua=!1}function c2(e,n,s,a,c,d,x,w,y){var m=Array.prototype.slice.call(arguments,3);try{n.apply(s,m)}catch(_){this.onError(_)}}var ds=!1,Lo=null,Fo=!1,ja=null,f2={onError:function(e){ds=!0,Lo=e}};function d2(e,n,s,a,c,d,x,w,y){ds=!1,Lo=null,c2.apply(f2,arguments)}function h2(e,n,s,a,c,d,x,w,y){if(d2.apply(this,arguments),ds){if(ds){var m=Lo;ds=!1,Lo=null}else throw Error(q(198));Fo||(Fo=!0,ja=m)}}function Kr(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function ef(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Kc(e){if(Kr(e)!==e)throw Error(q(188))}function g2(e){var n=e.alternate;if(!n){if(n=Kr(e),n===null)throw Error(q(188));return n!==e?null:e}for(var s=e,a=n;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return Kc(c),e;if(d===a)return Kc(c),n;d=d.sibling}throw Error(q(188))}if(s.return!==a.return)s=c,a=d;else{for(var x=!1,w=c.child;w;){if(w===s){x=!0,s=c,a=d;break}if(w===a){x=!0,a=c,s=d;break}w=w.sibling}if(!x){for(w=d.child;w;){if(w===s){x=!0,s=d,a=c;break}if(w===a){x=!0,a=d,s=c;break}w=w.sibling}if(!x)throw Error(q(189))}}if(s.alternate!==a)throw Error(q(190))}if(s.tag!==3)throw Error(q(188));return s.stateNode.current===s?e:n}function tf(e){return e=g2(e),e!==null?nf(e):null}function nf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=nf(e);if(n!==null)return n;e=e.sibling}return null}var rf=nn.unstable_scheduleCallback,Qc=nn.unstable_cancelCallback,x2=nn.unstable_shouldYield,p2=nn.unstable_requestPaint,at=nn.unstable_now,m2=nn.unstable_getCurrentPriorityLevel,ku=nn.unstable_ImmediatePriority,sf=nn.unstable_UserBlockingPriority,Uo=nn.unstable_NormalPriority,w2=nn.unstable_LowPriority,of=nn.unstable_IdlePriority,dl=null,Ln=null;function y2(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:A2,E2=Math.log,C2=Math.LN2;function A2(e){return e>>>=0,e===0?32:31-(E2(e)/C2|0)|0}var uo=64,co=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,x=s&268435455;if(x!==0){var w=x&~c;w!==0?a=as(w):(d&=x,d!==0&&(a=as(d)))}else x=s&~c,x!==0?a=as(x):d!==0&&(a=as(d));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Sn(n),c=1<<s,a|=e[s],n&=~c;return a}function v2(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S2(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-Sn(d),w=1<<x,y=c[x];y===-1?(!(w&s)||w&a)&&(c[x]=v2(w,n)):y<=n&&(e.expiredLanes|=w),d&=~w}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lf(){var e=uo;return uo<<=1,!(uo&4194240)&&(uo=64),e}function ta(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function js(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Sn(n),e[n]=s}function I2(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Sn(s),d=1<<c;n[c]=0,a[c]=-1,e[c]=-1,s&=~d}}function Pu(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Sn(s),c=1<<a;c&n|e[a]&n&&(e[a]|=n),s&=~c}}var ke=0;function af(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uf,Bu,cf,ff,df,Wa=!1,fo=[],hr=null,gr=null,xr=null,vs=new Map,Ss=new Map,ar=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(e,n){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":vs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(n.pointerId)}}function es(e,n,s,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},n!==null&&(n=Ws(n),n!==null&&Bu(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function T2(e,n,s,a,c){switch(n){case"focusin":return hr=es(hr,e,n,s,a,c),!0;case"dragenter":return gr=es(gr,e,n,s,a,c),!0;case"mouseover":return xr=es(xr,e,n,s,a,c),!0;case"pointerover":var d=c.pointerId;return vs.set(d,es(vs.get(d)||null,e,n,s,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Ss.set(d,es(Ss.get(d)||null,e,n,s,a,c)),!0}return!1}function hf(e){var n=Lr(e.target);if(n!==null){var s=Kr(n);if(s!==null){if(n=s.tag,n===13){if(n=ef(s),n!==null){e.blockedOn=n,df(e.priority,function(){cf(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function No(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=za(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);La=a,s.target.dispatchEvent(a),La=null}else return n=Ws(s),n!==null&&Bu(n),e.blockedOn=s,!1;n.shift()}return!0}function Jc(e,n,s){No(e)&&s.delete(n)}function _2(){Wa=!1,hr!==null&&No(hr)&&(hr=null),gr!==null&&No(gr)&&(gr=null),xr!==null&&No(xr)&&(xr=null),vs.forEach(Jc),Ss.forEach(Jc)}function ts(e,n){e.blockedOn===n&&(e.blockedOn=null,Wa||(Wa=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,_2)))}function Is(e){function n(c){return ts(c,e)}if(0<fo.length){ts(fo[0],e);for(var s=1;s<fo.length;s++){var a=fo[s];a.blockedOn===e&&(a.blockedOn=null)}}for(hr!==null&&ts(hr,e),gr!==null&&ts(gr,e),xr!==null&&ts(xr,e),vs.forEach(n),Ss.forEach(n),s=0;s<ar.length;s++)a=ar[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<ar.length&&(s=ar[0],s.blockedOn===null);)hf(s),s.blockedOn===null&&ar.shift()}var Si=Qn.ReactCurrentBatchConfig,Vo=!0;function R2(e,n,s,a){var c=ke,d=Si.transition;Si.transition=null;try{ke=1,Lu(e,n,s,a)}finally{ke=c,Si.transition=d}}function b2(e,n,s,a){var c=ke,d=Si.transition;Si.transition=null;try{ke=4,Lu(e,n,s,a)}finally{ke=c,Si.transition=d}}function Lu(e,n,s,a){if(Vo){var c=za(e,n,s,a);if(c===null)fa(e,n,a,Wo,s),qc(e,a);else if(T2(c,e,n,s,a))a.stopPropagation();else if(qc(e,a),n&4&&-1<N2.indexOf(e)){for(;c!==null;){var d=Ws(c);if(d!==null&&uf(d),d=za(e,n,s,a),d===null&&fa(e,n,a,Wo,s),d===c)break;c=d}c!==null&&a.stopPropagation()}else fa(e,n,a,null,s)}}var Wo=null;function za(e,n,s,a){if(Wo=null,e=Mu(a),e=Lr(e),e!==null)if(n=Kr(e),n===null)e=null;else if(s=n.tag,s===13){if(e=ef(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Wo=e,null}function gf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m2()){case ku:return 1;case sf:return 4;case Uo:case w2:return 16;case of:return 536870912;default:return 16}default:return 16}}var cr=null,Fu=null,To=null;function xf(){if(To)return To;var e,n=Fu,s=n.length,a,c="value"in cr?cr.value:cr.textContent,d=c.length;for(e=0;e<s&&n[e]===c[e];e++);var x=s-e;for(a=1;a<=x&&n[s-a]===c[d-a];a++);return To=c.slice(e,1<a?1-a:void 0)}function _o(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function $c(){return!1}function sn(e){function n(s,a,c,d,x){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ho:$c,this.isPropagationStopped=$c,this}return $e(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=sn(Bi),Vs=$e({},Bi,{view:0,detail:0}),O2=sn(Vs),na,ra,ns,hl=$e({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(na=e.screenX-ns.screenX,ra=e.screenY-ns.screenY):ra=na=0,ns=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),e1=sn(hl),D2=$e({},hl,{dataTransfer:0}),M2=sn(D2),k2=$e({},Vs,{relatedTarget:0}),ia=sn(k2),P2=$e({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),B2=sn(P2),L2=$e({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F2=sn(L2),U2=$e({},Bi,{data:0}),t1=sn(U2),j2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=W2[e])?!!n[e]:!1}function ju(){return z2}var H2=$e({},Vs,{key:function(e){if(e.key){var n=j2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(e){return e.type==="keypress"?_o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G2=sn(H2),X2=$e({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n1=sn(X2),Y2=$e({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),Z2=sn(Y2),K2=$e({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q2=sn(K2),q2=$e({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J2=sn(q2),$2=[9,13,27,32],Vu=Xn&&"CompositionEvent"in window,hs=null;Xn&&"documentMode"in document&&(hs=document.documentMode);var eg=Xn&&"TextEvent"in window&&!hs,pf=Xn&&(!Vu||hs&&8<hs&&11>=hs),r1=" ",i1=!1;function mf(e,n){switch(e){case"keyup":return $2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ci=!1;function tg(e,n){switch(e){case"compositionend":return wf(n);case"keypress":return n.which!==32?null:(i1=!0,r1);case"textInput":return e=n.data,e===r1&&i1?null:e;default:return null}}function ng(e,n){if(ci)return e==="compositionend"||!Vu&&mf(e,n)?(e=xf(),To=Fu=cr=null,ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pf&&n.locale!=="ko"?null:n.data;default:return null}}var rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!rg[e.type]:n==="textarea"}function yf(e,n,s,a){K0(a),n=zo(n,"onChange"),0<n.length&&(s=new Uu("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var gs=null,Ns=null;function ig(e){bf(e,0)}function gl(e){var n=hi(e);if(W0(n))return e}function sg(e,n){if(e==="change")return n}var Ef=!1;if(Xn){var sa;if(Xn){var oa="oninput"in document;if(!oa){var o1=document.createElement("div");o1.setAttribute("oninput","return;"),oa=typeof o1.oninput=="function"}sa=oa}else sa=!1;Ef=sa&&(!document.documentMode||9<document.documentMode)}function l1(){gs&&(gs.detachEvent("onpropertychange",Cf),Ns=gs=null)}function Cf(e){if(e.propertyName==="value"&&gl(Ns)){var n=[];yf(n,Ns,e,Mu(e)),$0(ig,n)}}function og(e,n,s){e==="focusin"?(l1(),gs=n,Ns=s,gs.attachEvent("onpropertychange",Cf)):e==="focusout"&&l1()}function lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Ns)}function ag(e,n){if(e==="click")return gl(n)}function ug(e,n){if(e==="input"||e==="change")return gl(n)}function cg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:cg;function Ts(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!Ia.call(n,c)||!Nn(e[c],n[c]))return!1}return!0}function a1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u1(e,n){var s=a1(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=a1(s)}}function Af(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Af(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vf(){for(var e=window,n=Bo();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Bo(e.document)}return n}function Wu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function fg(e){var n=vf(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Af(s.ownerDocument.documentElement,s)){if(a!==null&&Wu(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=u1(s,d);var x=u1(s,a);c&&x&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dg=Xn&&"documentMode"in document&&11>=document.documentMode,fi=null,Ha=null,xs=null,Ga=!1;function c1(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ga||fi==null||fi!==Bo(a)||(a=fi,"selectionStart"in a&&Wu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),xs&&Ts(xs,a)||(xs=a,a=zo(Ha,"onSelect"),0<a.length&&(n=new Uu("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=fi)))}function go(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var di={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},la={},Sf={};Xn&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function xl(e){if(la[e])return la[e];if(!di[e])return e;var n=di[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sf)return la[e]=n[s];return e}var If=xl("animationend"),Nf=xl("animationiteration"),Tf=xl("animationstart"),_f=xl("transitionend"),Rf=new Map,f1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,n){Rf.set(e,n),Zr(n,[e])}for(var aa=0;aa<f1.length;aa++){var ua=f1[aa],hg=ua.toLowerCase(),gg=ua[0].toUpperCase()+ua.slice(1);Sr(hg,"on"+gg)}Sr(If,"onAnimationEnd");Sr(Nf,"onAnimationIteration");Sr(Tf,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(_f,"onTransitionEnd");Ti("onMouseEnter",["mouseout","mouseover"]);Ti("onMouseLeave",["mouseout","mouseover"]);Ti("onPointerEnter",["pointerout","pointerover"]);Ti("onPointerLeave",["pointerout","pointerover"]);Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function d1(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,h2(a,n,void 0,e),e.currentTarget=null}function bf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var x=a.length-1;0<=x;x--){var w=a[x],y=w.instance,m=w.currentTarget;if(w=w.listener,y!==d&&c.isPropagationStopped())break e;d1(c,w,m),d=y}else for(x=0;x<a.length;x++){if(w=a[x],y=w.instance,m=w.currentTarget,w=w.listener,y!==d&&c.isPropagationStopped())break e;d1(c,w,m),d=y}}}if(Fo)throw e=ja,Fo=!1,ja=null,e}function ze(e,n){var s=n[Qa];s===void 0&&(s=n[Qa]=new Set);var a=e+"__bubble";s.has(a)||(Of(n,e,2,!1),s.add(a))}function ca(e,n,s){var a=0;n&&(a|=4),Of(s,e,a,n)}var xo="_reactListening"+Math.random().toString(36).slice(2);function _s(e){if(!e[xo]){e[xo]=!0,L0.forEach(function(s){s!=="selectionchange"&&(xg.has(s)||ca(s,!1,e),ca(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xo]||(n[xo]=!0,ca("selectionchange",!1,n))}}function Of(e,n,s,a){switch(gf(n)){case 1:var c=R2;break;case 4:c=b2;break;default:c=Lu}s=c.bind(null,n,s,e),c=void 0,!Ua||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function fa(e,n,s,a,c){var d=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(x===4)for(x=a.return;x!==null;){var y=x.tag;if((y===3||y===4)&&(y=x.stateNode.containerInfo,y===c||y.nodeType===8&&y.parentNode===c))return;x=x.return}for(;w!==null;){if(x=Lr(w),x===null)return;if(y=x.tag,y===5||y===6){a=d=x;continue e}w=w.parentNode}}a=a.return}$0(function(){var m=d,_=Mu(s),S=[];e:{var M=Rf.get(e);if(M!==void 0){var F=Uu,H=e;switch(e){case"keypress":if(_o(s)===0)break e;case"keydown":case"keyup":F=G2;break;case"focusin":H="focus",F=ia;break;case"focusout":H="blur",F=ia;break;case"beforeblur":case"afterblur":F=ia;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=e1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=M2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Z2;break;case If:case Nf:case Tf:F=B2;break;case _f:F=Q2;break;case"scroll":F=O2;break;case"wheel":F=J2;break;case"copy":case"cut":case"paste":F=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=n1}var j=(n&4)!==0,$=!j&&e==="scroll",b=j?M!==null?M+"Capture":null:M;j=[];for(var v=m,N;v!==null;){N=v;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,b!==null&&(P=As(v,b),P!=null&&j.push(Rs(v,P,N)))),$)break;v=v.return}0<j.length&&(M=new F(M,H,null,s,_),S.push({event:M,listeners:j}))}}if(!(n&7)){e:{if(M=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",M&&s!==La&&(H=s.relatedTarget||s.fromElement)&&(Lr(H)||H[Yn]))break e;if((F||M)&&(M=_.window===_?_:(M=_.ownerDocument)?M.defaultView||M.parentWindow:window,F?(H=s.relatedTarget||s.toElement,F=m,H=H?Lr(H):null,H!==null&&($=Kr(H),H!==$||H.tag!==5&&H.tag!==6)&&(H=null)):(F=null,H=m),F!==H)){if(j=e1,P="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(j=n1,P="onPointerLeave",b="onPointerEnter",v="pointer"),$=F==null?M:hi(F),N=H==null?M:hi(H),M=new j(P,v+"leave",F,s,_),M.target=$,M.relatedTarget=N,P=null,Lr(_)===m&&(j=new j(b,v+"enter",H,s,_),j.target=N,j.relatedTarget=$,P=j),$=P,F&&H)t:{for(j=F,b=H,v=0,N=j;N;N=li(N))v++;for(N=0,P=b;P;P=li(P))N++;for(;0<v-N;)j=li(j),v--;for(;0<N-v;)b=li(b),N--;for(;v--;){if(j===b||b!==null&&j===b.alternate)break t;j=li(j),b=li(b)}j=null}else j=null;F!==null&&h1(S,M,F,j,!1),H!==null&&$!==null&&h1(S,$,H,j,!0)}}e:{if(M=m?hi(m):window,F=M.nodeName&&M.nodeName.toLowerCase(),F==="select"||F==="input"&&M.type==="file")var X=sg;else if(s1(M))if(Ef)X=ug;else{X=lg;var Z=og}else(F=M.nodeName)&&F.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(X=ag);if(X&&(X=X(e,m))){yf(S,X,s,_);break e}Z&&Z(e,M,m),e==="focusout"&&(Z=M._wrapperState)&&Z.controlled&&M.type==="number"&&Da(M,"number",M.value)}switch(Z=m?hi(m):window,e){case"focusin":(s1(Z)||Z.contentEditable==="true")&&(fi=Z,Ha=m,xs=null);break;case"focusout":xs=Ha=fi=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,c1(S,s,_);break;case"selectionchange":if(dg)break;case"keydown":case"keyup":c1(S,s,_)}var L;if(Vu)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else ci?mf(e,s)&&(Q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Q="onCompositionStart");Q&&(pf&&s.locale!=="ko"&&(ci||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&ci&&(L=xf()):(cr=_,Fu="value"in cr?cr.value:cr.textContent,ci=!0)),Z=zo(m,Q),0<Z.length&&(Q=new t1(Q,e,null,s,_),S.push({event:Q,listeners:Z}),L?Q.data=L:(L=wf(s),L!==null&&(Q.data=L)))),(L=eg?tg(e,s):ng(e,s))&&(m=zo(m,"onBeforeInput"),0<m.length&&(_=new t1("onBeforeInput","beforeinput",null,s,_),S.push({event:_,listeners:m}),_.data=L))}bf(S,n)})}function Rs(e,n,s){return{instance:e,listener:n,currentTarget:s}}function zo(e,n){for(var s=n+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=As(e,s),d!=null&&a.unshift(Rs(e,d,c)),d=As(e,n),d!=null&&a.push(Rs(e,d,c))),e=e.return}return a}function li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function h1(e,n,s,a,c){for(var d=n._reactName,x=[];s!==null&&s!==a;){var w=s,y=w.alternate,m=w.stateNode;if(y!==null&&y===a)break;w.tag===5&&m!==null&&(w=m,c?(y=As(s,d),y!=null&&x.unshift(Rs(s,y,w))):c||(y=As(s,d),y!=null&&x.push(Rs(s,y,w)))),s=s.return}x.length!==0&&e.push({event:n,listeners:x})}var pg=/\r\n?/g,mg=/\u0000|\uFFFD/g;function g1(e){return(typeof e=="string"?e:""+e).replace(pg,`
`).replace(mg,"")}function po(e,n,s){if(n=g1(n),g1(e)!==n&&s)throw Error(q(425))}function Ho(){}var Xa=null,Ya=null;function Za(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,wg=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,yg=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(e){return x1.resolve(null).then(e).catch(Eg)}:Ka;function Eg(e){setTimeout(function(){throw e})}function da(e,n){var s=n,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),Is(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);Is(n)}function pr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function p1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Li=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Li,bs="__reactProps$"+Li,Yn="__reactContainer$"+Li,Qa="__reactEvents$"+Li,Cg="__reactListeners$"+Li,Ag="__reactHandles$"+Li;function Lr(e){var n=e[Bn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yn]||s[Bn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=p1(e);e!==null;){if(s=e[Bn])return s;e=p1(e)}return n}e=s,s=e.parentNode}return null}function Ws(e){return e=e[Bn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function pl(e){return e[bs]||null}var qa=[],gi=-1;function Ir(e){return{current:e}}function Ge(e){0>gi||(e.current=qa[gi],qa[gi]=null,gi--)}function Ve(e,n){gi++,qa[gi]=e.current,e.current=n}var vr={},Mt=Ir(vr),Zt=Ir(!1),Wr=vr;function _i(e,n){var s=e.type.contextTypes;if(!s)return vr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=n[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function Kt(e){return e=e.childContextTypes,e!=null}function Go(){Ge(Zt),Ge(Mt)}function m1(e,n,s){if(Mt.current!==vr)throw Error(q(168));Ve(Mt,n),Ve(Zt,s)}function Df(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(q(108,o2(e)||"Unknown",c));return $e({},s,a)}function Xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Wr=Mt.current,Ve(Mt,e),Ve(Zt,Zt.current),!0}function w1(e,n,s){var a=e.stateNode;if(!a)throw Error(q(169));s?(e=Df(e,n,Wr),a.__reactInternalMemoizedMergedChildContext=e,Ge(Zt),Ge(Mt),Ve(Mt,e)):Ge(Zt),Ve(Zt,s)}var Wn=null,ml=!1,ha=!1;function Mf(e){Wn===null?Wn=[e]:Wn.push(e)}function vg(e){ml=!0,Mf(e)}function Nr(){if(!ha&&Wn!==null){ha=!0;var e=0,n=ke;try{var s=Wn;for(ke=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Wn=null,ml=!1}catch(c){throw Wn!==null&&(Wn=Wn.slice(e+1)),rf(ku,Nr),c}finally{ke=n,ha=!1}}return null}var xi=[],pi=0,Yo=null,Zo=0,fn=[],dn=0,zr=null,zn=1,Hn="";function Pr(e,n){xi[pi++]=Zo,xi[pi++]=Yo,Yo=e,Zo=n}function kf(e,n,s){fn[dn++]=zn,fn[dn++]=Hn,fn[dn++]=zr,zr=e;var a=zn;e=Hn;var c=32-Sn(a)-1;a&=~(1<<c),s+=1;var d=32-Sn(n)+c;if(30<d){var x=c-c%5;d=(a&(1<<x)-1).toString(32),a>>=x,c-=x,zn=1<<32-Sn(n)+c|s<<c|a,Hn=d+e}else zn=1<<d|s<<c|a,Hn=e}function zu(e){e.return!==null&&(Pr(e,1),kf(e,1,0))}function Hu(e){for(;e===Yo;)Yo=xi[--pi],xi[pi]=null,Zo=xi[--pi],xi[pi]=null;for(;e===zr;)zr=fn[--dn],fn[dn]=null,Hn=fn[--dn],fn[dn]=null,zn=fn[--dn],fn[dn]=null}var tn=null,en=null,Ze=!1,vn=null;function Pf(e,n){var s=hn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function y1(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,tn=e,en=pr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,tn=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=zr!==null?{id:zn,overflow:Hn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=hn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,tn=e,en=null,!0):!1;default:return!1}}function Ja(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $a(e){if(Ze){var n=en;if(n){var s=n;if(!y1(e,n)){if(Ja(e))throw Error(q(418));n=pr(s.nextSibling);var a=tn;n&&y1(e,n)?Pf(a,s):(e.flags=e.flags&-4097|2,Ze=!1,tn=e)}}else{if(Ja(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ze=!1,tn=e}}}function E1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function mo(e){if(e!==tn)return!1;if(!Ze)return E1(e),Ze=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Za(e.type,e.memoizedProps)),n&&(n=en)){if(Ja(e))throw Bf(),Error(q(418));for(;n;)Pf(e,n),n=pr(n.nextSibling)}if(E1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){en=pr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}en=null}}else en=tn?pr(e.stateNode.nextSibling):null;return!0}function Bf(){for(var e=en;e;)e=pr(e.nextSibling)}function Ri(){en=tn=null,Ze=!1}function Gu(e){vn===null?vn=[e]:vn.push(e)}var Sg=Qn.ReactCurrentBatchConfig;function rs(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(q(309));var a=s.stateNode}if(!a)throw Error(q(147,e));var c=a,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(x){var w=c.refs;x===null?delete w[d]:w[d]=x},n._stringRef=d,n)}if(typeof e!="string")throw Error(q(284));if(!s._owner)throw Error(q(290,e))}return e}function wo(e,n){throw e=Object.prototype.toString.call(n),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function C1(e){var n=e._init;return n(e._payload)}function Lf(e){function n(b,v){if(e){var N=b.deletions;N===null?(b.deletions=[v],b.flags|=16):N.push(v)}}function s(b,v){if(!e)return null;for(;v!==null;)n(b,v),v=v.sibling;return null}function a(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function c(b,v){return b=Er(b,v),b.index=0,b.sibling=null,b}function d(b,v,N){return b.index=N,e?(N=b.alternate,N!==null?(N=N.index,N<v?(b.flags|=2,v):N):(b.flags|=2,v)):(b.flags|=1048576,v)}function x(b){return e&&b.alternate===null&&(b.flags|=2),b}function w(b,v,N,P){return v===null||v.tag!==6?(v=Ea(N,b.mode,P),v.return=b,v):(v=c(v,N),v.return=b,v)}function y(b,v,N,P){var X=N.type;return X===ui?_(b,v,N.props.children,P,N.key):v!==null&&(v.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===or&&C1(X)===v.type)?(P=c(v,N.props),P.ref=rs(b,v,N),P.return=b,P):(P=Po(N.type,N.key,N.props,null,b.mode,P),P.ref=rs(b,v,N),P.return=b,P)}function m(b,v,N,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=Ca(N,b.mode,P),v.return=b,v):(v=c(v,N.children||[]),v.return=b,v)}function _(b,v,N,P,X){return v===null||v.tag!==7?(v=Vr(N,b.mode,P,X),v.return=b,v):(v=c(v,N),v.return=b,v)}function S(b,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ea(""+v,b.mode,N),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oo:return N=Po(v.type,v.key,v.props,null,b.mode,N),N.ref=rs(b,null,v),N.return=b,N;case ai:return v=Ca(v,b.mode,N),v.return=b,v;case or:var P=v._init;return S(b,P(v._payload),N)}if(ls(v)||Ji(v))return v=Vr(v,b.mode,N,null),v.return=b,v;wo(b,v)}return null}function M(b,v,N,P){var X=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return X!==null?null:w(b,v,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case oo:return N.key===X?y(b,v,N,P):null;case ai:return N.key===X?m(b,v,N,P):null;case or:return X=N._init,M(b,v,X(N._payload),P)}if(ls(N)||Ji(N))return X!==null?null:_(b,v,N,P,null);wo(b,N)}return null}function F(b,v,N,P,X){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(N)||null,w(v,b,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case oo:return b=b.get(P.key===null?N:P.key)||null,y(v,b,P,X);case ai:return b=b.get(P.key===null?N:P.key)||null,m(v,b,P,X);case or:var Z=P._init;return F(b,v,N,Z(P._payload),X)}if(ls(P)||Ji(P))return b=b.get(N)||null,_(v,b,P,X,null);wo(v,P)}return null}function H(b,v,N,P){for(var X=null,Z=null,L=v,Q=v=0,G=null;L!==null&&Q<N.length;Q++){L.index>Q?(G=L,L=null):G=L.sibling;var ae=M(b,L,N[Q],P);if(ae===null){L===null&&(L=G);break}e&&L&&ae.alternate===null&&n(b,L),v=d(ae,v,Q),Z===null?X=ae:Z.sibling=ae,Z=ae,L=G}if(Q===N.length)return s(b,L),Ze&&Pr(b,Q),X;if(L===null){for(;Q<N.length;Q++)L=S(b,N[Q],P),L!==null&&(v=d(L,v,Q),Z===null?X=L:Z.sibling=L,Z=L);return Ze&&Pr(b,Q),X}for(L=a(b,L);Q<N.length;Q++)G=F(L,b,Q,N[Q],P),G!==null&&(e&&G.alternate!==null&&L.delete(G.key===null?Q:G.key),v=d(G,v,Q),Z===null?X=G:Z.sibling=G,Z=G);return e&&L.forEach(function(ce){return n(b,ce)}),Ze&&Pr(b,Q),X}function j(b,v,N,P){var X=Ji(N);if(typeof X!="function")throw Error(q(150));if(N=X.call(N),N==null)throw Error(q(151));for(var Z=X=null,L=v,Q=v=0,G=null,ae=N.next();L!==null&&!ae.done;Q++,ae=N.next()){L.index>Q?(G=L,L=null):G=L.sibling;var ce=M(b,L,ae.value,P);if(ce===null){L===null&&(L=G);break}e&&L&&ce.alternate===null&&n(b,L),v=d(ce,v,Q),Z===null?X=ce:Z.sibling=ce,Z=ce,L=G}if(ae.done)return s(b,L),Ze&&Pr(b,Q),X;if(L===null){for(;!ae.done;Q++,ae=N.next())ae=S(b,ae.value,P),ae!==null&&(v=d(ae,v,Q),Z===null?X=ae:Z.sibling=ae,Z=ae);return Ze&&Pr(b,Q),X}for(L=a(b,L);!ae.done;Q++,ae=N.next())ae=F(L,b,Q,ae.value,P),ae!==null&&(e&&ae.alternate!==null&&L.delete(ae.key===null?Q:ae.key),v=d(ae,v,Q),Z===null?X=ae:Z.sibling=ae,Z=ae);return e&&L.forEach(function(re){return n(b,re)}),Ze&&Pr(b,Q),X}function $(b,v,N,P){if(typeof N=="object"&&N!==null&&N.type===ui&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case oo:e:{for(var X=N.key,Z=v;Z!==null;){if(Z.key===X){if(X=N.type,X===ui){if(Z.tag===7){s(b,Z.sibling),v=c(Z,N.props.children),v.return=b,b=v;break e}}else if(Z.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===or&&C1(X)===Z.type){s(b,Z.sibling),v=c(Z,N.props),v.ref=rs(b,Z,N),v.return=b,b=v;break e}s(b,Z);break}else n(b,Z);Z=Z.sibling}N.type===ui?(v=Vr(N.props.children,b.mode,P,N.key),v.return=b,b=v):(P=Po(N.type,N.key,N.props,null,b.mode,P),P.ref=rs(b,v,N),P.return=b,b=P)}return x(b);case ai:e:{for(Z=N.key;v!==null;){if(v.key===Z)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){s(b,v.sibling),v=c(v,N.children||[]),v.return=b,b=v;break e}else{s(b,v);break}else n(b,v);v=v.sibling}v=Ca(N,b.mode,P),v.return=b,b=v}return x(b);case or:return Z=N._init,$(b,v,Z(N._payload),P)}if(ls(N))return H(b,v,N,P);if(Ji(N))return j(b,v,N,P);wo(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(s(b,v.sibling),v=c(v,N),v.return=b,b=v):(s(b,v),v=Ea(N,b.mode,P),v.return=b,b=v),x(b)):s(b,v)}return $}var bi=Lf(!0),Ff=Lf(!1),Ko=Ir(null),Qo=null,mi=null,Xu=null;function Yu(){Xu=mi=Qo=null}function Zu(e){var n=Ko.current;Ge(Ko),e._currentValue=n}function eu(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function Ii(e,n){Qo=e,Xu=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Yt=!0),e.firstContext=null)}function xn(e){var n=e._currentValue;if(Xu!==e)if(e={context:e,memoizedValue:n,next:null},mi===null){if(Qo===null)throw Error(q(308));mi=e,Qo.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return n}var Fr=null;function Ku(e){Fr===null?Fr=[e]:Fr.push(e)}function Uf(e,n,s,a){var c=n.interleaved;return c===null?(s.next=s,Ku(n)):(s.next=c.next,c.next=s),n.interleaved=s,Zn(e,a)}function Zn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var lr=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function mr(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Re&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,Zn(e,s)}return c=a.interleaved,c===null?(n.next=n,Ku(a)):(n.next=c.next,c.next=n),a.interleaved=n,Zn(e,s)}function Ro(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Pu(e,s)}}function A1(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=x:d=d.next=x,s=s.next}while(s!==null);d===null?c=d=n:d=d.next=n}else c=d=n;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function qo(e,n,s,a){var c=e.updateQueue;lr=!1;var d=c.firstBaseUpdate,x=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var y=w,m=y.next;y.next=null,x===null?d=m:x.next=m,x=y;var _=e.alternate;_!==null&&(_=_.updateQueue,w=_.lastBaseUpdate,w!==x&&(w===null?_.firstBaseUpdate=m:w.next=m,_.lastBaseUpdate=y))}if(d!==null){var S=c.baseState;x=0,_=m=y=null,w=d;do{var M=w.lane,F=w.eventTime;if((a&M)===M){_!==null&&(_=_.next={eventTime:F,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var H=e,j=w;switch(M=n,F=s,j.tag){case 1:if(H=j.payload,typeof H=="function"){S=H.call(F,S,M);break e}S=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=j.payload,M=typeof H=="function"?H.call(F,S,M):H,M==null)break e;S=$e({},S,M);break e;case 2:lr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[w]:M.push(w))}else F={eventTime:F,lane:M,tag:w.tag,payload:w.payload,callback:w.callback,next:null},_===null?(m=_=F,y=S):_=_.next=F,x|=M;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;M=w,w=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(_===null&&(y=S),c.baseState=y,c.firstBaseUpdate=m,c.lastBaseUpdate=_,n=c.shared.interleaved,n!==null){c=n;do x|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);Gr|=x,e.lanes=x,e.memoizedState=S}}function v1(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(q(191,c));c.call(a)}}}var zs={},Fn=Ir(zs),Os=Ir(zs),Ds=Ir(zs);function Ur(e){if(e===zs)throw Error(q(174));return e}function qu(e,n){switch(Ve(Ds,n),Ve(Os,e),Ve(Fn,zs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ka(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ka(n,e)}Ge(Fn),Ve(Fn,n)}function Oi(){Ge(Fn),Ge(Os),Ge(Ds)}function Vf(e){Ur(Ds.current);var n=Ur(Fn.current),s=ka(n,e.type);n!==s&&(Ve(Os,e),Ve(Fn,s))}function Ju(e){Os.current===e&&(Ge(Fn),Ge(Os))}var qe=Ir(0);function Jo(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ga=[];function $u(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var bo=Qn.ReactCurrentDispatcher,xa=Qn.ReactCurrentBatchConfig,Hr=0,Je=null,gt=null,yt=null,$o=!1,ps=!1,Ms=0,Ig=0;function bt(){throw Error(q(321))}function ec(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function tc(e,n,s,a,c,d){if(Hr=d,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,bo.current=e===null||e.memoizedState===null?Rg:bg,e=s(a,c),ps){d=0;do{if(ps=!1,Ms=0,25<=d)throw Error(q(301));d+=1,yt=gt=null,n.updateQueue=null,bo.current=Og,e=s(a,c)}while(ps)}if(bo.current=el,n=gt!==null&&gt.next!==null,Hr=0,yt=gt=Je=null,$o=!1,n)throw Error(q(300));return e}function nc(){var e=Ms!==0;return Ms=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=e:yt=yt.next=e,yt}function pn(){if(gt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var n=yt===null?Je.memoizedState:yt.next;if(n!==null)yt=n,gt=e;else{if(e===null)throw Error(q(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},yt===null?Je.memoizedState=yt=e:yt=yt.next=e}return yt}function ks(e,n){return typeof n=="function"?n(e):n}function pa(e){var n=pn(),s=n.queue;if(s===null)throw Error(q(311));s.lastRenderedReducer=e;var a=gt,c=a.baseQueue,d=s.pending;if(d!==null){if(c!==null){var x=c.next;c.next=d.next,d.next=x}a.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,a=a.baseState;var w=x=null,y=null,m=d;do{var _=m.lane;if((Hr&_)===_)y!==null&&(y=y.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var S={lane:_,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};y===null?(w=y=S,x=a):y=y.next=S,Je.lanes|=_,Gr|=_}m=m.next}while(m!==null&&m!==d);y===null?x=a:y.next=w,Nn(a,n.memoizedState)||(Yt=!0),n.memoizedState=a,n.baseState=x,n.baseQueue=y,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do d=c.lane,Je.lanes|=d,Gr|=d,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ma(e){var n=pn(),s=n.queue;if(s===null)throw Error(q(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,d=n.memoizedState;if(c!==null){s.pending=null;var x=c=c.next;do d=e(d,x.action),x=x.next;while(x!==c);Nn(d,n.memoizedState)||(Yt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,a]}function Wf(){}function zf(e,n){var s=Je,a=pn(),c=n(),d=!Nn(a.memoizedState,c);if(d&&(a.memoizedState=c,Yt=!0),a=a.queue,rc(Xf.bind(null,s,a,e),[e]),a.getSnapshot!==n||d||yt!==null&&yt.memoizedState.tag&1){if(s.flags|=2048,Ps(9,Gf.bind(null,s,a,c,n),void 0,null),Et===null)throw Error(q(349));Hr&30||Hf(s,n,c)}return c}function Hf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Gf(e,n,s,a){n.value=s,n.getSnapshot=a,Yf(n)&&Zf(e)}function Xf(e,n,s){return s(function(){Yf(n)&&Zf(e)})}function Yf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function Zf(e){var n=Zn(e,1);n!==null&&In(n,e,1,-1)}function S1(e){var n=Pn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},n.queue=e,e=e.dispatch=_g.bind(null,Je,e),[n.memoizedState,e]}function Ps(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function Kf(){return pn().memoizedState}function Oo(e,n,s,a){var c=Pn();Je.flags|=e,c.memoizedState=Ps(1|n,s,void 0,a===void 0?null:a)}function wl(e,n,s,a){var c=pn();a=a===void 0?null:a;var d=void 0;if(gt!==null){var x=gt.memoizedState;if(d=x.destroy,a!==null&&ec(a,x.deps)){c.memoizedState=Ps(n,s,d,a);return}}Je.flags|=e,c.memoizedState=Ps(1|n,s,d,a)}function I1(e,n){return Oo(8390656,8,e,n)}function rc(e,n){return wl(2048,8,e,n)}function Qf(e,n){return wl(4,2,e,n)}function qf(e,n){return wl(4,4,e,n)}function Jf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $f(e,n,s){return s=s!=null?s.concat([e]):null,wl(4,4,Jf.bind(null,n,e),s)}function ic(){}function ed(e,n){var s=pn();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&ec(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function td(e,n){var s=pn();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&ec(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function nd(e,n,s){return Hr&21?(Nn(s,n)||(s=lf(),Je.lanes|=s,Gr|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Yt=!0),e.memoizedState=s)}function Ng(e,n){var s=ke;ke=s!==0&&4>s?s:4,e(!0);var a=xa.transition;xa.transition={};try{e(!1),n()}finally{ke=s,xa.transition=a}}function rd(){return pn().memoizedState}function Tg(e,n,s){var a=yr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},id(e))sd(n,s);else if(s=Uf(e,n,s,a),s!==null){var c=Lt();In(s,e,a,c),od(s,n,a)}}function _g(e,n,s){var a=yr(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(id(e))sd(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var x=n.lastRenderedState,w=d(x,s);if(c.hasEagerState=!0,c.eagerState=w,Nn(w,x)){var y=n.interleaved;y===null?(c.next=c,Ku(n)):(c.next=y.next,y.next=c),n.interleaved=c;return}}catch{}finally{}s=Uf(e,n,c,a),s!==null&&(c=Lt(),In(s,e,a,c),od(s,n,a))}}function id(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function sd(e,n){ps=$o=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function od(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Pu(e,s)}}var el={readContext:xn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Rg={readContext:xn,useCallback:function(e,n){return Pn().memoizedState=[e,n===void 0?null:n],e},useContext:xn,useEffect:I1,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Oo(4194308,4,Jf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Oo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Oo(4,2,e,n)},useMemo:function(e,n){var s=Pn();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Pn();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Tg.bind(null,Je,e),[a.memoizedState,e]},useRef:function(e){var n=Pn();return e={current:e},n.memoizedState=e},useState:S1,useDebugValue:ic,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=S1(!1),n=e[0];return e=Ng.bind(null,e[1]),Pn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=Je,c=Pn();if(Ze){if(s===void 0)throw Error(q(407));s=s()}else{if(s=n(),Et===null)throw Error(q(349));Hr&30||Hf(a,n,s)}c.memoizedState=s;var d={value:s,getSnapshot:n};return c.queue=d,I1(Xf.bind(null,a,d,e),[e]),a.flags|=2048,Ps(9,Gf.bind(null,a,d,s,n),void 0,null),s},useId:function(){var e=Pn(),n=Et.identifierPrefix;if(Ze){var s=Hn,a=zn;s=(a&~(1<<32-Sn(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ms++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Ig++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},bg={readContext:xn,useCallback:ed,useContext:xn,useEffect:rc,useImperativeHandle:$f,useInsertionEffect:Qf,useLayoutEffect:qf,useMemo:td,useReducer:pa,useRef:Kf,useState:function(){return pa(ks)},useDebugValue:ic,useDeferredValue:function(e){var n=pn();return nd(n,gt.memoizedState,e)},useTransition:function(){var e=pa(ks)[0],n=pn().memoizedState;return[e,n]},useMutableSource:Wf,useSyncExternalStore:zf,useId:rd,unstable_isNewReconciler:!1},Og={readContext:xn,useCallback:ed,useContext:xn,useEffect:rc,useImperativeHandle:$f,useInsertionEffect:Qf,useLayoutEffect:qf,useMemo:td,useReducer:ma,useRef:Kf,useState:function(){return ma(ks)},useDebugValue:ic,useDeferredValue:function(e){var n=pn();return gt===null?n.memoizedState=e:nd(n,gt.memoizedState,e)},useTransition:function(){var e=ma(ks)[0],n=pn().memoizedState;return[e,n]},useMutableSource:Wf,useSyncExternalStore:zf,useId:rd,unstable_isNewReconciler:!1};function Cn(e,n){if(e&&e.defaultProps){n=$e({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function tu(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:$e({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yl={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=Lt(),c=yr(e),d=Gn(a,c);d.payload=n,s!=null&&(d.callback=s),n=mr(e,d,c),n!==null&&(In(n,e,c,a),Ro(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=Lt(),c=yr(e),d=Gn(a,c);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=mr(e,d,c),n!==null&&(In(n,e,c,a),Ro(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Lt(),a=yr(e),c=Gn(s,a);c.tag=2,n!=null&&(c.callback=n),n=mr(e,c,a),n!==null&&(In(n,e,a,s),Ro(n,e,a))}};function N1(e,n,s,a,c,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,x):n.prototype&&n.prototype.isPureReactComponent?!Ts(s,a)||!Ts(c,d):!0}function ld(e,n,s){var a=!1,c=vr,d=n.contextType;return typeof d=="object"&&d!==null?d=xn(d):(c=Kt(n)?Wr:Mt.current,a=n.contextTypes,d=(a=a!=null)?_i(e,c):vr),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=yl,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function T1(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&yl.enqueueReplaceState(n,n.state,null)}function nu(e,n,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Qu(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=xn(d):(d=Kt(n)?Wr:Mt.current,c.context=_i(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(tu(e,n,d,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&yl.enqueueReplaceState(c,c.state,null),qo(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Di(e,n){try{var s="",a=n;do s+=s2(a),a=a.return;while(a);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function wa(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ru(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Dg=typeof WeakMap=="function"?WeakMap:Map;function ad(e,n,s){s=Gn(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){nl||(nl=!0,hu=a),ru(e,n)},s}function ud(e,n,s){s=Gn(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;s.payload=function(){return a(c)},s.callback=function(){ru(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){ru(e,n),typeof a!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),s}function _1(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Dg;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(s)||(c.add(s),e=Xg.bind(null,e,n,s),n.then(e,e))}function R1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function b1(e,n,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Gn(-1,1),n.tag=2,mr(s,n,1))),s.lanes|=1),e)}var Mg=Qn.ReactCurrentOwner,Yt=!1;function Bt(e,n,s,a){n.child=e===null?Ff(n,null,s,a):bi(n,e.child,s,a)}function O1(e,n,s,a,c){s=s.render;var d=n.ref;return Ii(n,c),a=tc(e,n,s,a,d,c),s=nc(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Kn(e,n,c)):(Ze&&s&&zu(n),n.flags|=1,Bt(e,n,a,c),n.child)}function D1(e,n,s,a,c){if(e===null){var d=s.type;return typeof d=="function"&&!dc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,cd(e,n,d,a,c)):(e=Po(s.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&c)){var x=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ts,s(x,a)&&e.ref===n.ref)return Kn(e,n,c)}return n.flags|=1,e=Er(d,a),e.ref=n.ref,e.return=n,n.child=e}function cd(e,n,s,a,c){if(e!==null){var d=e.memoizedProps;if(Ts(d,a)&&e.ref===n.ref)if(Yt=!1,n.pendingProps=a=d,(e.lanes&c)!==0)e.flags&131072&&(Yt=!0);else return n.lanes=e.lanes,Kn(e,n,c)}return iu(e,n,s,a,c)}function fd(e,n,s){var a=n.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(yi,$t),$t|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(yi,$t),$t|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:s,Ve(yi,$t),$t|=a}else d!==null?(a=d.baseLanes|s,n.memoizedState=null):a=s,Ve(yi,$t),$t|=a;return Bt(e,n,c,s),n.child}function dd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function iu(e,n,s,a,c){var d=Kt(s)?Wr:Mt.current;return d=_i(n,d),Ii(n,c),s=tc(e,n,s,a,d,c),a=nc(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Kn(e,n,c)):(Ze&&a&&zu(n),n.flags|=1,Bt(e,n,s,c),n.child)}function M1(e,n,s,a,c){if(Kt(s)){var d=!0;Xo(n)}else d=!1;if(Ii(n,c),n.stateNode===null)Do(e,n),ld(n,s,a),nu(n,s,a,c),a=!0;else if(e===null){var x=n.stateNode,w=n.memoizedProps;x.props=w;var y=x.context,m=s.contextType;typeof m=="object"&&m!==null?m=xn(m):(m=Kt(s)?Wr:Mt.current,m=_i(n,m));var _=s.getDerivedStateFromProps,S=typeof _=="function"||typeof x.getSnapshotBeforeUpdate=="function";S||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==a||y!==m)&&T1(n,x,a,m),lr=!1;var M=n.memoizedState;x.state=M,qo(n,a,x,c),y=n.memoizedState,w!==a||M!==y||Zt.current||lr?(typeof _=="function"&&(tu(n,s,_,a),y=n.memoizedState),(w=lr||N1(n,s,w,a,M,y,m))?(S||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=y),x.props=a,x.state=y,x.context=m,a=w):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{x=n.stateNode,jf(e,n),w=n.memoizedProps,m=n.type===n.elementType?w:Cn(n.type,w),x.props=m,S=n.pendingProps,M=x.context,y=s.contextType,typeof y=="object"&&y!==null?y=xn(y):(y=Kt(s)?Wr:Mt.current,y=_i(n,y));var F=s.getDerivedStateFromProps;(_=typeof F=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==S||M!==y)&&T1(n,x,a,y),lr=!1,M=n.memoizedState,x.state=M,qo(n,a,x,c);var H=n.memoizedState;w!==S||M!==H||Zt.current||lr?(typeof F=="function"&&(tu(n,s,F,a),H=n.memoizedState),(m=lr||N1(n,s,m,a,M,H,y)||!1)?(_||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(a,H,y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(a,H,y)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=H),x.props=a,x.state=H,x.context=y,a=m):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),a=!1)}return su(e,n,s,a,d,c)}function su(e,n,s,a,c,d){dd(e,n);var x=(n.flags&128)!==0;if(!a&&!x)return c&&w1(n,s,!1),Kn(e,n,d);a=n.stateNode,Mg.current=n;var w=x&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&x?(n.child=bi(n,e.child,null,d),n.child=bi(n,null,w,d)):Bt(e,n,w,d),n.memoizedState=a.state,c&&w1(n,s,!0),n.child}function hd(e){var n=e.stateNode;n.pendingContext?m1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&m1(e,n.context,!1),qu(e,n.containerInfo)}function k1(e,n,s,a,c){return Ri(),Gu(c),n.flags|=256,Bt(e,n,s,a),n.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function gd(e,n,s){var a=n.pendingProps,c=qe.current,d=!1,x=(n.flags&128)!==0,w;if((w=x)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ve(qe,c&1),e===null)return $a(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(x=a.children,e=a.fallback,d?(a=n.mode,d=n.child,x={mode:"hidden",children:x},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=Al(x,a,0,null),e=Vr(e,a,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=lu(s),n.memoizedState=ou,e):sc(n,x));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return kg(e,n,x,a,w,c,s);if(d){d=a.fallback,x=n.mode,c=e.child,w=c.sibling;var y={mode:"hidden",children:a.children};return!(x&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=y,n.deletions=null):(a=Er(c,y),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?d=Er(w,d):(d=Vr(d,x,s,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,x=e.child.memoizedState,x=x===null?lu(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~s,n.memoizedState=ou,a}return d=e.child,e=d.sibling,a=Er(d,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function sc(e,n){return n=Al({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function yo(e,n,s,a){return a!==null&&Gu(a),bi(n,e.child,null,s),e=sc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kg(e,n,s,a,c,d,x){if(s)return n.flags&256?(n.flags&=-257,a=wa(Error(q(422))),yo(e,n,x,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=a.fallback,c=n.mode,a=Al({mode:"visible",children:a.children},c,0,null),d=Vr(d,c,x,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,n.mode&1&&bi(n,e.child,null,x),n.child.memoizedState=lu(x),n.memoizedState=ou,d);if(!(n.mode&1))return yo(e,n,x,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(q(419)),a=wa(d,a,void 0),yo(e,n,x,a)}if(w=(x&e.childLanes)!==0,Yt||w){if(a=Et,a!==null){switch(x&-x){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|x)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Zn(e,c),In(a,e,c,-1))}return fc(),a=wa(Error(q(421))),yo(e,n,x,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Yg.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,en=pr(c.nextSibling),tn=n,Ze=!0,vn=null,e!==null&&(fn[dn++]=zn,fn[dn++]=Hn,fn[dn++]=zr,zn=e.id,Hn=e.overflow,zr=n),n=sc(n,a.children),n.flags|=4096,n)}function P1(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),eu(e.return,n,s)}function ya(e,n,s,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=c)}function xd(e,n,s){var a=n.pendingProps,c=a.revealOrder,d=a.tail;if(Bt(e,n,a.children,s),a=qe.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P1(e,s,n);else if(e.tag===19)P1(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ve(qe,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Jo(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),ya(n,!1,c,s,d);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Jo(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}ya(n,!0,s,null,d);break;case"together":ya(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Do(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Kn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Gr|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(q(153));if(n.child!==null){for(e=n.child,s=Er(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Er(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pg(e,n,s){switch(n.tag){case 3:hd(n),Ri();break;case 5:Vf(n);break;case 1:Kt(n.type)&&Xo(n);break;case 4:qu(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Ve(Ko,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ve(qe,qe.current&1),n.flags|=128,null):s&n.child.childLanes?gd(e,n,s):(Ve(qe,qe.current&1),e=Kn(e,n,s),e!==null?e.sibling:null);Ve(qe,qe.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return xd(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(qe,qe.current),a)break;return null;case 22:case 23:return n.lanes=0,fd(e,n,s)}return Kn(e,n,s)}var pd,au,md,wd;pd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};au=function(){};md=function(e,n,s,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Ur(Fn.current);var d=null;switch(s){case"input":c=ba(e,c),a=ba(e,a),d=[];break;case"select":c=$e({},c,{value:void 0}),a=$e({},a,{value:void 0}),d=[];break;case"textarea":c=Ma(e,c),a=Ma(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ho)}Pa(s,a);var x;s=null;for(m in c)if(!a.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!=null)if(m==="style"){var w=c[m];for(x in w)w.hasOwnProperty(x)&&(s||(s={}),s[x]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Es.hasOwnProperty(m)?d||(d=[]):(d=d||[]).push(m,null));for(m in a){var y=a[m];if(w=c!=null?c[m]:void 0,a.hasOwnProperty(m)&&y!==w&&(y!=null||w!=null))if(m==="style")if(w){for(x in w)!w.hasOwnProperty(x)||y&&y.hasOwnProperty(x)||(s||(s={}),s[x]="");for(x in y)y.hasOwnProperty(x)&&w[x]!==y[x]&&(s||(s={}),s[x]=y[x])}else s||(d||(d=[]),d.push(m,s)),s=y;else m==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,w=w?w.__html:void 0,y!=null&&w!==y&&(d=d||[]).push(m,y)):m==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(m,""+y):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Es.hasOwnProperty(m)?(y!=null&&m==="onScroll"&&ze("scroll",e),d||w===y||(d=[])):(d=d||[]).push(m,y))}s&&(d=d||[]).push("style",s);var m=d;(n.updateQueue=m)&&(n.flags|=4)}};wd=function(e,n,s,a){s!==a&&(n.flags|=4)};function is(e,n){if(!Ze)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ot(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function Bg(e,n,s){var a=n.pendingProps;switch(Hu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(n),null;case 1:return Kt(n.type)&&Go(),Ot(n),null;case 3:return a=n.stateNode,Oi(),Ge(Zt),Ge(Mt),$u(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(mo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,vn!==null&&(pu(vn),vn=null))),au(e,n),Ot(n),null;case 5:Ju(n);var c=Ur(Ds.current);if(s=n.type,e!==null&&n.stateNode!=null)md(e,n,s,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(q(166));return Ot(n),null}if(e=Ur(Fn.current),mo(n)){a=n.stateNode,s=n.type;var d=n.memoizedProps;switch(a[Bn]=n,a[bs]=d,e=(n.mode&1)!==0,s){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(c=0;c<us.length;c++)ze(us[c],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":Hc(a,d),ze("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},ze("invalid",a);break;case"textarea":Xc(a,d),ze("invalid",a)}Pa(s,d),c=null;for(var x in d)if(d.hasOwnProperty(x)){var w=d[x];x==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&po(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&po(a.textContent,w,e),c=["children",""+w]):Es.hasOwnProperty(x)&&w!=null&&x==="onScroll"&&ze("scroll",a)}switch(s){case"input":lo(a),Gc(a,d,!0);break;case"textarea":lo(a),Yc(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Ho)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{x=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=G0(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=x.createElement(s,{is:a.is}):(e=x.createElement(s),s==="select"&&(x=e,a.multiple?x.multiple=!0:a.size&&(x.size=a.size))):e=x.createElementNS(e,s),e[Bn]=n,e[bs]=a,pd(e,n,!1,!1),n.stateNode=e;e:{switch(x=Ba(s,a),s){case"dialog":ze("cancel",e),ze("close",e),c=a;break;case"iframe":case"object":case"embed":ze("load",e),c=a;break;case"video":case"audio":for(c=0;c<us.length;c++)ze(us[c],e);c=a;break;case"source":ze("error",e),c=a;break;case"img":case"image":case"link":ze("error",e),ze("load",e),c=a;break;case"details":ze("toggle",e),c=a;break;case"input":Hc(e,a),c=ba(e,a),ze("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=$e({},a,{value:void 0}),ze("invalid",e);break;case"textarea":Xc(e,a),c=Ma(e,a),ze("invalid",e);break;default:c=a}Pa(s,c),w=c;for(d in w)if(w.hasOwnProperty(d)){var y=w[d];d==="style"?Z0(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&X0(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Cs(e,y):typeof y=="number"&&Cs(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Es.hasOwnProperty(d)?y!=null&&d==="onScroll"&&ze("scroll",e):y!=null&&Ru(e,d,y,x))}switch(s){case"input":lo(e),Gc(e,a,!1);break;case"textarea":lo(e),Yc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ar(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Ci(e,!!a.multiple,d,!1):a.defaultValue!=null&&Ci(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ho)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ot(n),null;case 6:if(e&&n.stateNode!=null)wd(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(q(166));if(s=Ur(Ds.current),Ur(Fn.current),mo(n)){if(a=n.stateNode,s=n.memoizedProps,a[Bn]=n,(d=a.nodeValue!==s)&&(e=tn,e!==null))switch(e.tag){case 3:po(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&po(a.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Bn]=n,n.stateNode=a}return Ot(n),null;case 13:if(Ge(qe),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&en!==null&&n.mode&1&&!(n.flags&128))Bf(),Ri(),n.flags|=98560,d=!1;else if(d=mo(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(q(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(q(317));d[Bn]=n}else Ri(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ot(n),d=!1}else vn!==null&&(pu(vn),vn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||qe.current&1?xt===0&&(xt=3):fc())),n.updateQueue!==null&&(n.flags|=4),Ot(n),null);case 4:return Oi(),au(e,n),e===null&&_s(n.stateNode.containerInfo),Ot(n),null;case 10:return Zu(n.type._context),Ot(n),null;case 17:return Kt(n.type)&&Go(),Ot(n),null;case 19:if(Ge(qe),d=n.memoizedState,d===null)return Ot(n),null;if(a=(n.flags&128)!==0,x=d.rendering,x===null)if(a)is(d,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(x=Jo(e),x!==null){for(n.flags|=128,is(d,!1),a=x.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)d=s,e=a,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ve(qe,qe.current&1|2),n.child}e=e.sibling}d.tail!==null&&at()>Mi&&(n.flags|=128,a=!0,is(d,!1),n.lanes=4194304)}else{if(!a)if(e=Jo(x),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),is(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Ze)return Ot(n),null}else 2*at()-d.renderingStartTime>Mi&&s!==1073741824&&(n.flags|=128,a=!0,is(d,!1),n.lanes=4194304);d.isBackwards?(x.sibling=n.child,n.child=x):(s=d.last,s!==null?s.sibling=x:n.child=x,d.last=x)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=at(),n.sibling=null,s=qe.current,Ve(qe,a?s&1|2:s&1),n):(Ot(n),null);case 22:case 23:return cc(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?$t&1073741824&&(Ot(n),n.subtreeFlags&6&&(n.flags|=8192)):Ot(n),null;case 24:return null;case 25:return null}throw Error(q(156,n.tag))}function Lg(e,n){switch(Hu(n),n.tag){case 1:return Kt(n.type)&&Go(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(),Ge(Zt),Ge(Mt),$u(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ju(n),null;case 13:if(Ge(qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(q(340));Ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(qe),null;case 4:return Oi(),null;case 10:return Zu(n.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var Eo=!1,Dt=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,oe=null;function wi(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){st(e,n,a)}else s.current=null}function uu(e,n,s){try{s()}catch(a){st(e,n,a)}}var B1=!1;function Ug(e,n){if(Xa=Vo,e=vf(),Wu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var x=0,w=-1,y=-1,m=0,_=0,S=e,M=null;t:for(;;){for(var F;S!==s||c!==0&&S.nodeType!==3||(w=x+c),S!==d||a!==0&&S.nodeType!==3||(y=x+a),S.nodeType===3&&(x+=S.nodeValue.length),(F=S.firstChild)!==null;)M=S,S=F;for(;;){if(S===e)break t;if(M===s&&++m===c&&(w=x),M===d&&++_===a&&(y=x),(F=S.nextSibling)!==null)break;S=M,M=S.parentNode}S=F}s=w===-1||y===-1?null:{start:w,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ya={focusedElem:e,selectionRange:s},Vo=!1,oe=n;oe!==null;)if(n=oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,oe=e;else for(;oe!==null;){n=oe;try{var H=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var j=H.memoizedProps,$=H.memoizedState,b=n.stateNode,v=b.getSnapshotBeforeUpdate(n.elementType===n.type?j:Cn(n.type,j),$);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(P){st(n,n.return,P)}if(e=n.sibling,e!==null){e.return=n.return,oe=e;break}oe=n.return}return H=B1,B1=!1,H}function ms(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&uu(n,s,d)}c=c.next}while(c!==a)}}function El(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function cu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function yd(e){var n=e.alternate;n!==null&&(e.alternate=null,yd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Bn],delete n[bs],delete n[Qa],delete n[Cg],delete n[Ag])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ed(e){return e.tag===5||e.tag===3||e.tag===4}function L1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ho));else if(a!==4&&(e=e.child,e!==null))for(fu(e,n,s),e=e.sibling;e!==null;)fu(e,n,s),e=e.sibling}function du(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(du(e,n,s),e=e.sibling;e!==null;)du(e,n,s),e=e.sibling}var It=null,An=!1;function sr(e,n,s){for(s=s.child;s!==null;)Cd(e,n,s),s=s.sibling}function Cd(e,n,s){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(dl,s)}catch{}switch(s.tag){case 5:Dt||wi(s,n);case 6:var a=It,c=An;It=null,sr(e,n,s),It=a,An=c,It!==null&&(An?(e=It,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):It.removeChild(s.stateNode));break;case 18:It!==null&&(An?(e=It,s=s.stateNode,e.nodeType===8?da(e.parentNode,s):e.nodeType===1&&da(e,s),Is(e)):da(It,s.stateNode));break;case 4:a=It,c=An,It=s.stateNode.containerInfo,An=!0,sr(e,n,s),It=a,An=c;break;case 0:case 11:case 14:case 15:if(!Dt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&uu(s,n,x),c=c.next}while(c!==a)}sr(e,n,s);break;case 1:if(!Dt&&(wi(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(w){st(s,n,w)}sr(e,n,s);break;case 21:sr(e,n,s);break;case 22:s.mode&1?(Dt=(a=Dt)||s.memoizedState!==null,sr(e,n,s),Dt=a):sr(e,n,s);break;default:sr(e,n,s)}}function F1(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Fg),n.forEach(function(a){var c=Zg.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function En(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var d=e,x=n,w=x;e:for(;w!==null;){switch(w.tag){case 5:It=w.stateNode,An=!1;break e;case 3:It=w.stateNode.containerInfo,An=!0;break e;case 4:It=w.stateNode.containerInfo,An=!0;break e}w=w.return}if(It===null)throw Error(q(160));Cd(d,x,c),It=null,An=!1;var y=c.alternate;y!==null&&(y.return=null),c.return=null}catch(m){st(c,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ad(n,e),n=n.sibling}function Ad(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(n,e),kn(e),a&4){try{ms(3,e,e.return),El(3,e)}catch(j){st(e,e.return,j)}try{ms(5,e,e.return)}catch(j){st(e,e.return,j)}}break;case 1:En(n,e),kn(e),a&512&&s!==null&&wi(s,s.return);break;case 5:if(En(n,e),kn(e),a&512&&s!==null&&wi(s,s.return),e.flags&32){var c=e.stateNode;try{Cs(c,"")}catch(j){st(e,e.return,j)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,x=s!==null?s.memoizedProps:d,w=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&z0(c,d),Ba(w,x);var m=Ba(w,d);for(x=0;x<y.length;x+=2){var _=y[x],S=y[x+1];_==="style"?Z0(c,S):_==="dangerouslySetInnerHTML"?X0(c,S):_==="children"?Cs(c,S):Ru(c,_,S,m)}switch(w){case"input":Oa(c,d);break;case"textarea":H0(c,d);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?Ci(c,!!d.multiple,F,!1):M!==!!d.multiple&&(d.defaultValue!=null?Ci(c,!!d.multiple,d.defaultValue,!0):Ci(c,!!d.multiple,d.multiple?[]:"",!1))}c[bs]=d}catch(j){st(e,e.return,j)}}break;case 6:if(En(n,e),kn(e),a&4){if(e.stateNode===null)throw Error(q(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(j){st(e,e.return,j)}}break;case 3:if(En(n,e),kn(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Is(n.containerInfo)}catch(j){st(e,e.return,j)}break;case 4:En(n,e),kn(e);break;case 13:En(n,e),kn(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(ac=at())),a&4&&F1(e);break;case 22:if(_=s!==null&&s.memoizedState!==null,e.mode&1?(Dt=(m=Dt)||_,En(n,e),Dt=m):En(n,e),kn(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!_&&e.mode&1)for(oe=e,_=e.child;_!==null;){for(S=oe=_;oe!==null;){switch(M=oe,F=M.child,M.tag){case 0:case 11:case 14:case 15:ms(4,M,M.return);break;case 1:wi(M,M.return);var H=M.stateNode;if(typeof H.componentWillUnmount=="function"){a=M,s=M.return;try{n=a,H.props=n.memoizedProps,H.state=n.memoizedState,H.componentWillUnmount()}catch(j){st(a,s,j)}}break;case 5:wi(M,M.return);break;case 22:if(M.memoizedState!==null){j1(S);continue}}F!==null?(F.return=M,oe=F):j1(S)}_=_.sibling}e:for(_=null,S=e;;){if(S.tag===5){if(_===null){_=S;try{c=S.stateNode,m?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=S.stateNode,y=S.memoizedProps.style,x=y!=null&&y.hasOwnProperty("display")?y.display:null,w.style.display=Y0("display",x))}catch(j){st(e,e.return,j)}}}else if(S.tag===6){if(_===null)try{S.stateNode.nodeValue=m?"":S.memoizedProps}catch(j){st(e,e.return,j)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;_===S&&(_=null),S=S.return}_===S&&(_=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:En(n,e),kn(e),a&4&&F1(e);break;case 21:break;default:En(n,e),kn(e)}}function kn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Ed(s)){var a=s;break e}s=s.return}throw Error(q(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Cs(c,""),a.flags&=-33);var d=L1(e);du(e,d,c);break;case 3:case 4:var x=a.stateNode.containerInfo,w=L1(e);fu(e,w,x);break;default:throw Error(q(161))}}catch(y){st(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jg(e,n,s){oe=e,vd(e)}function vd(e,n,s){for(var a=(e.mode&1)!==0;oe!==null;){var c=oe,d=c.child;if(c.tag===22&&a){var x=c.memoizedState!==null||Eo;if(!x){var w=c.alternate,y=w!==null&&w.memoizedState!==null||Dt;w=Eo;var m=Dt;if(Eo=x,(Dt=y)&&!m)for(oe=c;oe!==null;)x=oe,y=x.child,x.tag===22&&x.memoizedState!==null?V1(c):y!==null?(y.return=x,oe=y):V1(c);for(;d!==null;)oe=d,vd(d),d=d.sibling;oe=c,Eo=w,Dt=m}U1(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,oe=d):U1(e)}}function U1(e){for(;oe!==null;){var n=oe;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Dt||El(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Dt)if(s===null)a.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Cn(n.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&v1(n,d,a);break;case 3:var x=n.updateQueue;if(x!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}v1(n,x,s)}break;case 5:var w=n.stateNode;if(s===null&&n.flags&4){s=w;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var _=m.memoizedState;if(_!==null){var S=_.dehydrated;S!==null&&Is(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Dt||n.flags&512&&cu(n)}catch(M){st(n,n.return,M)}}if(n===e){oe=null;break}if(s=n.sibling,s!==null){s.return=n.return,oe=s;break}oe=n.return}}function j1(e){for(;oe!==null;){var n=oe;if(n===e){oe=null;break}var s=n.sibling;if(s!==null){s.return=n.return,oe=s;break}oe=n.return}}function V1(e){for(;oe!==null;){var n=oe;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{El(4,n)}catch(y){st(n,s,y)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(y){st(n,c,y)}}var d=n.return;try{cu(n)}catch(y){st(n,d,y)}break;case 5:var x=n.return;try{cu(n)}catch(y){st(n,x,y)}}}catch(y){st(n,n.return,y)}if(n===e){oe=null;break}var w=n.sibling;if(w!==null){w.return=n.return,oe=w;break}oe=n.return}}var Vg=Math.ceil,tl=Qn.ReactCurrentDispatcher,oc=Qn.ReactCurrentOwner,gn=Qn.ReactCurrentBatchConfig,Re=0,Et=null,ct=null,Nt=0,$t=0,yi=Ir(0),xt=0,Bs=null,Gr=0,Cl=0,lc=0,ws=null,Xt=null,ac=0,Mi=1/0,Vn=null,nl=!1,hu=null,wr=null,Co=!1,fr=null,rl=0,ys=0,gu=null,Mo=-1,ko=0;function Lt(){return Re&6?at():Mo!==-1?Mo:Mo=at()}function yr(e){return e.mode&1?Re&2&&Nt!==0?Nt&-Nt:Sg.transition!==null?(ko===0&&(ko=lf()),ko):(e=ke,e!==0||(e=window.event,e=e===void 0?16:gf(e.type)),e):1}function In(e,n,s,a){if(50<ys)throw ys=0,gu=null,Error(q(185));js(e,s,a),(!(Re&2)||e!==Et)&&(e===Et&&(!(Re&2)&&(Cl|=s),xt===4&&ur(e,Nt)),Qt(e,a),s===1&&Re===0&&!(n.mode&1)&&(Mi=at()+500,ml&&Nr()))}function Qt(e,n){var s=e.callbackNode;S2(e,n);var a=jo(e,e===Et?Nt:0);if(a===0)s!==null&&Qc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&Qc(s),n===1)e.tag===0?vg(W1.bind(null,e)):Mf(W1.bind(null,e)),yg(function(){!(Re&6)&&Nr()}),s=null;else{switch(af(a)){case 1:s=ku;break;case 4:s=sf;break;case 16:s=Uo;break;case 536870912:s=of;break;default:s=Uo}s=Od(s,Sd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Sd(e,n){if(Mo=-1,ko=0,Re&6)throw Error(q(327));var s=e.callbackNode;if(Ni()&&e.callbackNode!==s)return null;var a=jo(e,e===Et?Nt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=il(e,a);else{n=a;var c=Re;Re|=2;var d=Nd();(Et!==e||Nt!==n)&&(Vn=null,Mi=at()+500,jr(e,n));do try{Hg();break}catch(w){Id(e,w)}while(!0);Yu(),tl.current=d,Re=c,ct!==null?n=0:(Et=null,Nt=0,n=xt)}if(n!==0){if(n===2&&(c=Va(e),c!==0&&(a=c,n=xu(e,c))),n===1)throw s=Bs,jr(e,0),ur(e,a),Qt(e,at()),s;if(n===6)ur(e,a);else{if(c=e.current.alternate,!(a&30)&&!Wg(c)&&(n=il(e,a),n===2&&(d=Va(e),d!==0&&(a=d,n=xu(e,d))),n===1))throw s=Bs,jr(e,0),ur(e,a),Qt(e,at()),s;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(q(345));case 2:Br(e,Xt,Vn);break;case 3:if(ur(e,a),(a&130023424)===a&&(n=ac+500-at(),10<n)){if(jo(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Lt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ka(Br.bind(null,e,Xt,Vn),n);break}Br(e,Xt,Vn);break;case 4:if(ur(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var x=31-Sn(a);d=1<<x,x=n[x],x>c&&(c=x),a&=~d}if(a=c,a=at()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Vg(a/1960))-a,10<a){e.timeoutHandle=Ka(Br.bind(null,e,Xt,Vn),a);break}Br(e,Xt,Vn);break;case 5:Br(e,Xt,Vn);break;default:throw Error(q(329))}}}return Qt(e,at()),e.callbackNode===s?Sd.bind(null,e):null}function xu(e,n){var s=ws;return e.current.memoizedState.isDehydrated&&(jr(e,n).flags|=256),e=il(e,n),e!==2&&(n=Xt,Xt=s,n!==null&&pu(n)),e}function pu(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function Wg(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],d=c.getSnapshot;c=c.value;try{if(!Nn(d(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ur(e,n){for(n&=~lc,n&=~Cl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Sn(n),a=1<<s;e[s]=-1,n&=~a}}function W1(e){if(Re&6)throw Error(q(327));Ni();var n=jo(e,0);if(!(n&1))return Qt(e,at()),null;var s=il(e,n);if(e.tag!==0&&s===2){var a=Va(e);a!==0&&(n=a,s=xu(e,a))}if(s===1)throw s=Bs,jr(e,0),ur(e,n),Qt(e,at()),s;if(s===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Br(e,Xt,Vn),Qt(e,at()),null}function uc(e,n){var s=Re;Re|=1;try{return e(n)}finally{Re=s,Re===0&&(Mi=at()+500,ml&&Nr())}}function Xr(e){fr!==null&&fr.tag===0&&!(Re&6)&&Ni();var n=Re;Re|=1;var s=gn.transition,a=ke;try{if(gn.transition=null,ke=1,e)return e()}finally{ke=a,gn.transition=s,Re=n,!(Re&6)&&Nr()}}function cc(){$t=yi.current,Ge(yi)}function jr(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,wg(s)),ct!==null)for(s=ct.return;s!==null;){var a=s;switch(Hu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Go();break;case 3:Oi(),Ge(Zt),Ge(Mt),$u();break;case 5:Ju(a);break;case 4:Oi();break;case 13:Ge(qe);break;case 19:Ge(qe);break;case 10:Zu(a.type._context);break;case 22:case 23:cc()}s=s.return}if(Et=e,ct=e=Er(e.current,null),Nt=$t=n,xt=0,Bs=null,lc=Cl=Gr=0,Xt=ws=null,Fr!==null){for(n=0;n<Fr.length;n++)if(s=Fr[n],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,d=s.pending;if(d!==null){var x=d.next;d.next=c,a.next=x}s.pending=a}Fr=null}return e}function Id(e,n){do{var s=ct;try{if(Yu(),bo.current=el,$o){for(var a=Je.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}$o=!1}if(Hr=0,yt=gt=Je=null,ps=!1,Ms=0,oc.current=null,s===null||s.return===null){xt=1,Bs=n,ct=null;break}e:{var d=e,x=s.return,w=s,y=n;if(n=Nt,w.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var m=y,_=w,S=_.tag;if(!(_.mode&1)&&(S===0||S===11||S===15)){var M=_.alternate;M?(_.updateQueue=M.updateQueue,_.memoizedState=M.memoizedState,_.lanes=M.lanes):(_.updateQueue=null,_.memoizedState=null)}var F=R1(x);if(F!==null){F.flags&=-257,b1(F,x,w,d,n),F.mode&1&&_1(d,m,n),n=F,y=m;var H=n.updateQueue;if(H===null){var j=new Set;j.add(y),n.updateQueue=j}else H.add(y);break e}else{if(!(n&1)){_1(d,m,n),fc();break e}y=Error(q(426))}}else if(Ze&&w.mode&1){var $=R1(x);if($!==null){!($.flags&65536)&&($.flags|=256),b1($,x,w,d,n),Gu(Di(y,w));break e}}d=y=Di(y,w),xt!==4&&(xt=2),ws===null?ws=[d]:ws.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var b=ad(d,y,n);A1(d,b);break e;case 1:w=y;var v=d.type,N=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wr===null||!wr.has(N)))){d.flags|=65536,n&=-n,d.lanes|=n;var P=ud(d,w,n);A1(d,P);break e}}d=d.return}while(d!==null)}_d(s)}catch(X){n=X,ct===s&&s!==null&&(ct=s=s.return);continue}break}while(!0)}function Nd(){var e=tl.current;return tl.current=el,e===null?el:e}function fc(){(xt===0||xt===3||xt===2)&&(xt=4),Et===null||!(Gr&268435455)&&!(Cl&268435455)||ur(Et,Nt)}function il(e,n){var s=Re;Re|=2;var a=Nd();(Et!==e||Nt!==n)&&(Vn=null,jr(e,n));do try{zg();break}catch(c){Id(e,c)}while(!0);if(Yu(),Re=s,tl.current=a,ct!==null)throw Error(q(261));return Et=null,Nt=0,xt}function zg(){for(;ct!==null;)Td(ct)}function Hg(){for(;ct!==null&&!x2();)Td(ct)}function Td(e){var n=bd(e.alternate,e,$t);e.memoizedProps=e.pendingProps,n===null?_d(e):ct=n,oc.current=null}function _d(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Lg(s,n),s!==null){s.flags&=32767,ct=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ct=null;return}}else if(s=Bg(s,n,$t),s!==null){ct=s;return}if(n=n.sibling,n!==null){ct=n;return}ct=n=e}while(n!==null);xt===0&&(xt=5)}function Br(e,n,s){var a=ke,c=gn.transition;try{gn.transition=null,ke=1,Gg(e,n,s,a)}finally{gn.transition=c,ke=a}return null}function Gg(e,n,s,a){do Ni();while(fr!==null);if(Re&6)throw Error(q(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(I2(e,d),e===Et&&(ct=Et=null,Nt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Co||(Co=!0,Od(Uo,function(){return Ni(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=gn.transition,gn.transition=null;var x=ke;ke=1;var w=Re;Re|=4,oc.current=null,Ug(e,s),Ad(s,e),fg(Ya),Vo=!!Xa,Ya=Xa=null,e.current=s,jg(s),p2(),Re=w,ke=x,gn.transition=d}else e.current=s;if(Co&&(Co=!1,fr=e,rl=c),d=e.pendingLanes,d===0&&(wr=null),y2(s.stateNode),Qt(e,at()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(nl)throw nl=!1,e=hu,hu=null,e;return rl&1&&e.tag!==0&&Ni(),d=e.pendingLanes,d&1?e===gu?ys++:(ys=0,gu=e):ys=0,Nr(),null}function Ni(){if(fr!==null){var e=af(rl),n=gn.transition,s=ke;try{if(gn.transition=null,ke=16>e?16:e,fr===null)var a=!1;else{if(e=fr,fr=null,rl=0,Re&6)throw Error(q(331));var c=Re;for(Re|=4,oe=e.current;oe!==null;){var d=oe,x=d.child;if(oe.flags&16){var w=d.deletions;if(w!==null){for(var y=0;y<w.length;y++){var m=w[y];for(oe=m;oe!==null;){var _=oe;switch(_.tag){case 0:case 11:case 15:ms(8,_,d)}var S=_.child;if(S!==null)S.return=_,oe=S;else for(;oe!==null;){_=oe;var M=_.sibling,F=_.return;if(yd(_),_===m){oe=null;break}if(M!==null){M.return=F,oe=M;break}oe=F}}}var H=d.alternate;if(H!==null){var j=H.child;if(j!==null){H.child=null;do{var $=j.sibling;j.sibling=null,j=$}while(j!==null)}}oe=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,oe=x;else e:for(;oe!==null;){if(d=oe,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ms(9,d,d.return)}var b=d.sibling;if(b!==null){b.return=d.return,oe=b;break e}oe=d.return}}var v=e.current;for(oe=v;oe!==null;){x=oe;var N=x.child;if(x.subtreeFlags&2064&&N!==null)N.return=x,oe=N;else e:for(x=v;oe!==null;){if(w=oe,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:El(9,w)}}catch(X){st(w,w.return,X)}if(w===x){oe=null;break e}var P=w.sibling;if(P!==null){P.return=w.return,oe=P;break e}oe=w.return}}if(Re=c,Nr(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(dl,e)}catch{}a=!0}return a}finally{ke=s,gn.transition=n}}return!1}function z1(e,n,s){n=Di(s,n),n=ad(e,n,1),e=mr(e,n,1),n=Lt(),e!==null&&(js(e,1,n),Qt(e,n))}function st(e,n,s){if(e.tag===3)z1(e,e,s);else for(;n!==null;){if(n.tag===3){z1(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wr===null||!wr.has(a))){e=Di(s,e),e=ud(n,e,1),n=mr(n,e,1),e=Lt(),n!==null&&(js(n,1,e),Qt(n,e));break}}n=n.return}}function Xg(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=Lt(),e.pingedLanes|=e.suspendedLanes&s,Et===e&&(Nt&s)===s&&(xt===4||xt===3&&(Nt&130023424)===Nt&&500>at()-ac?jr(e,0):lc|=s),Qt(e,n)}function Rd(e,n){n===0&&(e.mode&1?(n=co,co<<=1,!(co&130023424)&&(co=4194304)):n=1);var s=Lt();e=Zn(e,n),e!==null&&(js(e,n,s),Qt(e,s))}function Yg(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Rd(e,s)}function Zg(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(q(314))}a!==null&&a.delete(n),Rd(e,s)}var bd;bd=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||Zt.current)Yt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Yt=!1,Pg(e,n,s);Yt=!!(e.flags&131072)}else Yt=!1,Ze&&n.flags&1048576&&kf(n,Zo,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Do(e,n),e=n.pendingProps;var c=_i(n,Mt.current);Ii(n,s),c=tc(null,n,a,e,c,s);var d=nc();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(a)?(d=!0,Xo(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Qu(n),c.updater=yl,n.stateNode=c,c._reactInternals=n,nu(n,a,e,s),n=su(null,n,a,!0,d,s)):(n.tag=0,Ze&&d&&zu(n),Bt(null,n,c,s),n=n.child),n;case 16:a=n.elementType;e:{switch(Do(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Qg(a),e=Cn(a,e),c){case 0:n=iu(null,n,a,e,s);break e;case 1:n=M1(null,n,a,e,s);break e;case 11:n=O1(null,n,a,e,s);break e;case 14:n=D1(null,n,a,Cn(a.type,e),s);break e}throw Error(q(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Cn(a,c),iu(e,n,a,c,s);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Cn(a,c),M1(e,n,a,c,s);case 3:e:{if(hd(n),e===null)throw Error(q(387));a=n.pendingProps,d=n.memoizedState,c=d.element,jf(e,n),qo(n,a,null,s);var x=n.memoizedState;if(a=x.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=Di(Error(q(423)),n),n=k1(e,n,a,s,c);break e}else if(a!==c){c=Di(Error(q(424)),n),n=k1(e,n,a,s,c);break e}else for(en=pr(n.stateNode.containerInfo.firstChild),tn=n,Ze=!0,vn=null,s=Ff(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ri(),a===c){n=Kn(e,n,s);break e}Bt(e,n,a,s)}n=n.child}return n;case 5:return Vf(n),e===null&&$a(n),a=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,x=c.children,Za(a,c)?x=null:d!==null&&Za(a,d)&&(n.flags|=32),dd(e,n),Bt(e,n,x,s),n.child;case 6:return e===null&&$a(n),null;case 13:return gd(e,n,s);case 4:return qu(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=bi(n,null,a,s):Bt(e,n,a,s),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Cn(a,c),O1(e,n,a,c,s);case 7:return Bt(e,n,n.pendingProps,s),n.child;case 8:return Bt(e,n,n.pendingProps.children,s),n.child;case 12:return Bt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,d=n.memoizedProps,x=c.value,Ve(Ko,a._currentValue),a._currentValue=x,d!==null)if(Nn(d.value,x)){if(d.children===c.children&&!Zt.current){n=Kn(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){x=d.child;for(var y=w.firstContext;y!==null;){if(y.context===a){if(d.tag===1){y=Gn(-1,s&-s),y.tag=2;var m=d.updateQueue;if(m!==null){m=m.shared;var _=m.pending;_===null?y.next=y:(y.next=_.next,_.next=y),m.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),eu(d.return,s,n),w.lanes|=s;break}y=y.next}}else if(d.tag===10)x=d.type===n.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(q(341));x.lanes|=s,w=x.alternate,w!==null&&(w.lanes|=s),eu(x,s,n),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===n){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}Bt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Ii(n,s),c=xn(c),a=a(c),n.flags|=1,Bt(e,n,a,s),n.child;case 14:return a=n.type,c=Cn(a,n.pendingProps),c=Cn(a.type,c),D1(e,n,a,c,s);case 15:return cd(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Cn(a,c),Do(e,n),n.tag=1,Kt(a)?(e=!0,Xo(n)):e=!1,Ii(n,s),ld(n,a,c),nu(n,a,c,s),su(null,n,a,!0,e,s);case 19:return xd(e,n,s);case 22:return fd(e,n,s)}throw Error(q(156,n.tag))};function Od(e,n){return rf(e,n)}function Kg(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,s,a){return new Kg(e,n,s,a)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qg(e){if(typeof e=="function")return dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ou)return 11;if(e===Du)return 14}return 2}function Er(e,n){var s=e.alternate;return s===null?(s=hn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Po(e,n,s,a,c,d){var x=2;if(a=e,typeof e=="function")dc(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case ui:return Vr(s.children,c,d,n);case bu:x=8,c|=8;break;case Na:return e=hn(12,s,n,c|2),e.elementType=Na,e.lanes=d,e;case Ta:return e=hn(13,s,n,c),e.elementType=Ta,e.lanes=d,e;case _a:return e=hn(19,s,n,c),e.elementType=_a,e.lanes=d,e;case j0:return Al(s,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F0:x=10;break e;case U0:x=9;break e;case Ou:x=11;break e;case Du:x=14;break e;case or:x=16,a=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return n=hn(x,s,n,c),n.elementType=e,n.type=a,n.lanes=d,n}function Vr(e,n,s,a){return e=hn(7,e,a,n),e.lanes=s,e}function Al(e,n,s,a){return e=hn(22,e,a,n),e.elementType=j0,e.lanes=s,e.stateNode={isHidden:!1},e}function Ea(e,n,s){return e=hn(6,e,null,n),e.lanes=s,e}function Ca(e,n,s){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function qg(e,n,s,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function hc(e,n,s,a,c,d,x,w,y){return e=new qg(e,n,s,w,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=hn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(d),e}function Jg(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function Dd(e){if(!e)return vr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(q(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(q(171))}if(e.tag===1){var s=e.type;if(Kt(s))return Df(e,s,n)}return n}function Md(e,n,s,a,c,d,x,w,y){return e=hc(s,a,!0,e,c,d,x,w,y),e.context=Dd(null),s=e.current,a=Lt(),c=yr(s),d=Gn(a,c),d.callback=n??null,mr(s,d,c),e.current.lanes=c,js(e,c,a),Qt(e,a),e}function vl(e,n,s,a){var c=n.current,d=Lt(),x=yr(c);return s=Dd(s),n.context===null?n.context=s:n.pendingContext=s,n=Gn(d,x),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=mr(c,n,x),e!==null&&(In(e,c,x,d),Ro(e,c,x)),x}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function H1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function gc(e,n){H1(e,n),(e=e.alternate)&&H1(e,n)}function $g(){return null}var kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}Sl.prototype.render=xc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(q(409));vl(e,n,null,null)};Sl.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xr(function(){vl(null,e,null,null)}),n[Yn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var n=ff();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ar.length&&n!==0&&n<ar[s].priority;s++);ar.splice(s,0,e),s===0&&hf(e)}};function pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function G1(){}function ex(e,n,s,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var m=sl(x);d.call(m)}}var x=Md(n,a,e,0,null,!1,!1,"",G1);return e._reactRootContainer=x,e[Yn]=x.current,_s(e.nodeType===8?e.parentNode:e),Xr(),x}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var m=sl(y);w.call(m)}}var y=hc(e,0,!1,null,null,!1,!1,"",G1);return e._reactRootContainer=y,e[Yn]=y.current,_s(e.nodeType===8?e.parentNode:e),Xr(function(){vl(n,y,s,a)}),y}function Nl(e,n,s,a,c){var d=s._reactRootContainer;if(d){var x=d;if(typeof c=="function"){var w=c;c=function(){var y=sl(x);w.call(y)}}vl(n,x,e,c)}else x=ex(s,n,e,c,a);return sl(x)}uf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=as(n.pendingLanes);s!==0&&(Pu(n,s|1),Qt(n,at()),!(Re&6)&&(Mi=at()+500,Nr()))}break;case 13:Xr(function(){var a=Zn(e,1);if(a!==null){var c=Lt();In(a,e,1,c)}}),gc(e,1)}};Bu=function(e){if(e.tag===13){var n=Zn(e,134217728);if(n!==null){var s=Lt();In(n,e,134217728,s)}gc(e,134217728)}};cf=function(e){if(e.tag===13){var n=yr(e),s=Zn(e,n);if(s!==null){var a=Lt();In(s,e,n,a)}gc(e,n)}};ff=function(){return ke};df=function(e,n){var s=ke;try{return ke=e,n()}finally{ke=s}};Fa=function(e,n,s){switch(n){case"input":if(Oa(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var c=pl(a);if(!c)throw Error(q(90));W0(a),Oa(a,c)}}}break;case"textarea":H0(e,s);break;case"select":n=s.value,n!=null&&Ci(e,!!s.multiple,n,!1)}};q0=uc;J0=Xr;var tx={usingClientEntryPoint:!1,Events:[Ws,hi,pl,K0,Q0,uc]},ss={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nx={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tf(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||$g,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{dl=Ao.inject(nx),Ln=Ao}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx;rn.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(n))throw Error(q(200));return Jg(e,n,null,s)};rn.createRoot=function(e,n){if(!pc(e))throw Error(q(299));var s=!1,a="",c=kd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=hc(e,1,!1,null,null,s,!1,a,c),e[Yn]=n.current,_s(e.nodeType===8?e.parentNode:e),new xc(n)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=tf(n),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return Xr(e)};rn.hydrate=function(e,n,s){if(!Il(n))throw Error(q(200));return Nl(null,e,n,!0,s)};rn.hydrateRoot=function(e,n,s){if(!pc(e))throw Error(q(405));var a=s!=null&&s.hydratedSources||null,c=!1,d="",x=kd;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),n=Md(n,null,e,1,s??null,c,!1,d,x),e[Yn]=n.current,_s(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Sl(n)};rn.render=function(e,n,s){if(!Il(n))throw Error(q(200));return Nl(null,e,n,!1,s)};rn.unmountComponentAtNode=function(e){if(!Il(e))throw Error(q(40));return e._reactRootContainer?(Xr(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};rn.unstable_batchedUpdates=uc;rn.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!Il(s))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Nl(e,n,s,!1,a)};rn.version="18.3.1-next-f1338f8080-20240426";function Pd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pd)}catch(e){console.error(e)}}Pd(),k0.exports=rn;var rx=k0.exports,X1=rx;Sa.createRoot=X1.createRoot,Sa.hydrateRoot=X1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ls.apply(this,arguments)}var dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dr||(dr={}));const Y1="popstate";function ix(e){e===void 0&&(e={});function n(a,c){let{pathname:d,search:x,hash:w}=a.location;return mu("",{pathname:d,search:x,hash:w},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:ol(c)}return ox(n,s,null,e)}function ot(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Bd(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function sx(){return Math.random().toString(36).substr(2,8)}function Z1(e,n){return{usr:e.state,key:e.key,idx:n}}function mu(e,n,s,a){return s===void 0&&(s=null),Ls({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Fi(n):n,{state:s,key:n&&n.key||a||sx()})}function ol(e){let{pathname:n="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function Fi(e){let n={};if(e){let s=e.indexOf("#");s>=0&&(n.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}function ox(e,n,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,x=c.history,w=dr.Pop,y=null,m=_();m==null&&(m=0,x.replaceState(Ls({},x.state,{idx:m}),""));function _(){return(x.state||{idx:null}).idx}function S(){w=dr.Pop;let $=_(),b=$==null?null:$-m;m=$,y&&y({action:w,location:j.location,delta:b})}function M($,b){w=dr.Push;let v=mu(j.location,$,b);m=_()+1;let N=Z1(v,m),P=j.createHref(v);try{x.pushState(N,"",P)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;c.location.assign(P)}d&&y&&y({action:w,location:j.location,delta:1})}function F($,b){w=dr.Replace;let v=mu(j.location,$,b);m=_();let N=Z1(v,m),P=j.createHref(v);x.replaceState(N,"",P),d&&y&&y({action:w,location:j.location,delta:0})}function H($){let b=c.location.origin!=="null"?c.location.origin:c.location.href,v=typeof $=="string"?$:ol($);return v=v.replace(/ $/,"%20"),ot(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let j={get action(){return w},get location(){return e(c,x)},listen($){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(Y1,S),y=$,()=>{c.removeEventListener(Y1,S),y=null}},createHref($){return n(c,$)},createURL:H,encodeLocation($){let b=H($);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:M,replace:F,go($){return x.go($)}};return j}var K1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(K1||(K1={}));function lx(e,n,s){return s===void 0&&(s="/"),ax(e,n,s)}function ax(e,n,s,a){let c=typeof n=="string"?Fi(n):n,d=ki(c.pathname||"/",s);if(d==null)return null;let x=Ld(e);ux(x);let w=null;for(let y=0;w==null&&y<x.length;++y){let m=Ex(d);w=wx(x[y],m)}return w}function Ld(e,n,s,a){n===void 0&&(n=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(d,x,w)=>{let y={relativePath:w===void 0?d.path||"":w,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};y.relativePath.startsWith("/")&&(ot(y.relativePath.startsWith(a),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(a.length));let m=Cr([a,y.relativePath]),_=s.concat(y);d.children&&d.children.length>0&&(ot(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Ld(d.children,n,_,m)),!(d.path==null&&!d.index)&&n.push({path:m,score:px(m,d.index),routesMeta:_})};return e.forEach((d,x)=>{var w;if(d.path===""||!((w=d.path)!=null&&w.includes("?")))c(d,x);else for(let y of Fd(d.path))c(d,x,y)}),n}function Fd(e){let n=e.split("/");if(n.length===0)return[];let[s,...a]=n,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let x=Fd(a.join("/")),w=[];return w.push(...x.map(y=>y===""?d:[d,y].join("/"))),c&&w.push(...x),w.map(y=>e.startsWith("/")&&y===""?"/":y)}function ux(e){e.sort((n,s)=>n.score!==s.score?s.score-n.score:mx(n.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const cx=/^:[\w-]+$/,fx=3,dx=2,hx=1,gx=10,xx=-2,Q1=e=>e==="*";function px(e,n){let s=e.split("/"),a=s.length;return s.some(Q1)&&(a+=xx),n&&(a+=dx),s.filter(c=>!Q1(c)).reduce((c,d)=>c+(cx.test(d)?fx:d===""?hx:gx),a)}function mx(e,n){return e.length===n.length&&e.slice(0,-1).every((a,c)=>a===n[c])?e[e.length-1]-n[n.length-1]:0}function wx(e,n,s){let{routesMeta:a}=e,c={},d="/",x=[];for(let w=0;w<a.length;++w){let y=a[w],m=w===a.length-1,_=d==="/"?n:n.slice(d.length)||"/",S=wu({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},_),M=y.route;if(!S)return null;Object.assign(c,S.params),x.push({params:c,pathname:Cr([d,S.pathname]),pathnameBase:Sx(Cr([d,S.pathnameBase])),route:M}),S.pathnameBase!=="/"&&(d=Cr([d,S.pathnameBase]))}return x}function wu(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=yx(e.path,e.caseSensitive,e.end),c=n.match(s);if(!c)return null;let d=c[0],x=d.replace(/(.)\/+$/,"$1"),w=c.slice(1);return{params:a.reduce((m,_,S)=>{let{paramName:M,isOptional:F}=_;if(M==="*"){let j=w[S]||"";x=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const H=w[S];return F&&!H?m[M]=void 0:m[M]=(H||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:x,pattern:e}}function yx(e,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),Bd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,w,y)=>(a.push({paramName:w,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),a]}function Ex(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Bd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function ki(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function Cx(e,n){n===void 0&&(n="/");let{pathname:s,search:a="",hash:c=""}=typeof e=="string"?Fi(e):e;return{pathname:s?s.startsWith("/")?s:Ax(s,n):n,search:Ix(a),hash:Nx(c)}}function Ax(e,n){let s=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Aa(e,n,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vx(e){return e.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Ud(e,n){let s=vx(e);return n?s.map((a,c)=>c===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function jd(e,n,s,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=Fi(e):(c=Ls({},e),ot(!c.pathname||!c.pathname.includes("?"),Aa("?","pathname","search",c)),ot(!c.pathname||!c.pathname.includes("#"),Aa("#","pathname","hash",c)),ot(!c.search||!c.search.includes("#"),Aa("#","search","hash",c)));let d=e===""||c.pathname==="",x=d?"/":c.pathname,w;if(x==null)w=s;else{let S=n.length-1;if(!a&&x.startsWith("..")){let M=x.split("/");for(;M[0]==="..";)M.shift(),S-=1;c.pathname=M.join("/")}w=S>=0?n[S]:"/"}let y=Cx(c,w),m=x&&x!=="/"&&x.endsWith("/"),_=(d||x===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(m||_)&&(y.pathname+="/"),y}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),Sx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Nx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vd=["post","put","patch","delete"];new Set(Vd);const _x=["get",...Vd];new Set(_x);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Fs.apply(this,arguments)}const Tl=U.createContext(null),Wd=U.createContext(null),Tr=U.createContext(null),_l=U.createContext(null),Qr=U.createContext({outlet:null,matches:[],isDataRoute:!1}),zd=U.createContext(null);function Rx(e,n){let{relative:s}=n===void 0?{}:n;Hs()||ot(!1);let{basename:a,navigator:c}=U.useContext(Tr),{hash:d,pathname:x,search:w}=Rl(e,{relative:s}),y=x;return a!=="/"&&(y=x==="/"?a:Cr([a,x])),c.createHref({pathname:y,search:w,hash:d})}function Hs(){return U.useContext(_l)!=null}function Gs(){return Hs()||ot(!1),U.useContext(_l).location}function Hd(e){U.useContext(Tr).static||U.useLayoutEffect(e)}function bx(){let{isDataRoute:e}=U.useContext(Qr);return e?zx():Ox()}function Ox(){Hs()||ot(!1);let e=U.useContext(Tl),{basename:n,future:s,navigator:a}=U.useContext(Tr),{matches:c}=U.useContext(Qr),{pathname:d}=Gs(),x=JSON.stringify(Ud(c,s.v7_relativeSplatPath)),w=U.useRef(!1);return Hd(()=>{w.current=!0}),U.useCallback(function(m,_){if(_===void 0&&(_={}),!w.current)return;if(typeof m=="number"){a.go(m);return}let S=jd(m,JSON.parse(x),d,_.relative==="path");e==null&&n!=="/"&&(S.pathname=S.pathname==="/"?n:Cr([n,S.pathname])),(_.replace?a.replace:a.push)(S,_.state,_)},[n,a,x,d,e])}function Rl(e,n){let{relative:s}=n===void 0?{}:n,{future:a}=U.useContext(Tr),{matches:c}=U.useContext(Qr),{pathname:d}=Gs(),x=JSON.stringify(Ud(c,a.v7_relativeSplatPath));return U.useMemo(()=>jd(e,JSON.parse(x),d,s==="path"),[e,x,d,s])}function Dx(e,n){return Mx(e,n)}function Mx(e,n,s,a){Hs()||ot(!1);let{navigator:c}=U.useContext(Tr),{matches:d}=U.useContext(Qr),x=d[d.length-1],w=x?x.params:{};x&&x.pathname;let y=x?x.pathnameBase:"/";x&&x.route;let m=Gs(),_;if(n){var S;let $=typeof n=="string"?Fi(n):n;y==="/"||(S=$.pathname)!=null&&S.startsWith(y)||ot(!1),_=$}else _=m;let M=_.pathname||"/",F=M;if(y!=="/"){let $=y.replace(/^\//,"").split("/");F="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let H=lx(e,{pathname:F}),j=Fx(H&&H.map($=>Object.assign({},$,{params:Object.assign({},w,$.params),pathname:Cr([y,c.encodeLocation?c.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Cr([y,c.encodeLocation?c.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),d,s,a);return n&&j?U.createElement(_l.Provider,{value:{location:Fs({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:dr.Pop}},j):j}function kx(){let e=Wx(),n=Tx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},n),s?U.createElement("pre",{style:c},s):null,null)}const Px=U.createElement(kx,null);class Bx extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?U.createElement(Qr.Provider,{value:this.props.routeContext},U.createElement(zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lx(e){let{routeContext:n,match:s,children:a}=e,c=U.useContext(Tl);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),U.createElement(Qr.Provider,{value:n},a)}function Fx(e,n,s,a){var c;if(n===void 0&&(n=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var d;if(!s)return null;if(s.errors)e=s.matches;else if((d=a)!=null&&d.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let x=e,w=(c=s)==null?void 0:c.errors;if(w!=null){let _=x.findIndex(S=>S.route.id&&(w==null?void 0:w[S.route.id])!==void 0);_>=0||ot(!1),x=x.slice(0,Math.min(x.length,_+1))}let y=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let _=0;_<x.length;_++){let S=x[_];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=_),S.route.id){let{loaderData:M,errors:F}=s,H=S.route.loader&&M[S.route.id]===void 0&&(!F||F[S.route.id]===void 0);if(S.route.lazy||H){y=!0,m>=0?x=x.slice(0,m+1):x=[x[0]];break}}}return x.reduceRight((_,S,M)=>{let F,H=!1,j=null,$=null;s&&(F=w&&S.route.id?w[S.route.id]:void 0,j=S.route.errorElement||Px,y&&(m<0&&M===0?(Hx("route-fallback"),H=!0,$=null):m===M&&(H=!0,$=S.route.hydrateFallbackElement||null)));let b=n.concat(x.slice(0,M+1)),v=()=>{let N;return F?N=j:H?N=$:S.route.Component?N=U.createElement(S.route.Component,null):S.route.element?N=S.route.element:N=_,U.createElement(Lx,{match:S,routeContext:{outlet:_,matches:b,isDataRoute:s!=null},children:N})};return s&&(S.route.ErrorBoundary||S.route.errorElement||M===0)?U.createElement(Bx,{location:s.location,revalidation:s.revalidation,component:j,error:F,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var Gd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gd||{}),Xd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xd||{});function Ux(e){let n=U.useContext(Tl);return n||ot(!1),n}function jx(e){let n=U.useContext(Wd);return n||ot(!1),n}function Vx(e){let n=U.useContext(Qr);return n||ot(!1),n}function Yd(e){let n=Vx(),s=n.matches[n.matches.length-1];return s.route.id||ot(!1),s.route.id}function Wx(){var e;let n=U.useContext(zd),s=jx(),a=Yd();return n!==void 0?n:(e=s.errors)==null?void 0:e[a]}function zx(){let{router:e}=Ux(Gd.UseNavigateStable),n=Yd(Xd.UseNavigateStable),s=U.useRef(!1);return Hd(()=>{s.current=!0}),U.useCallback(function(c,d){d===void 0&&(d={}),s.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Fs({fromRouteId:n},d)))},[e,n])}const q1={};function Hx(e,n,s){q1[e]||(q1[e]=!0)}function Gx(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cs(e){ot(!1)}function Xx(e){let{basename:n="/",children:s=null,location:a,navigationType:c=dr.Pop,navigator:d,static:x=!1,future:w}=e;Hs()&&ot(!1);let y=n.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:y,navigator:d,static:x,future:Fs({v7_relativeSplatPath:!1},w)}),[y,w,d,x]);typeof a=="string"&&(a=Fi(a));let{pathname:_="/",search:S="",hash:M="",state:F=null,key:H="default"}=a,j=U.useMemo(()=>{let $=ki(_,y);return $==null?null:{location:{pathname:$,search:S,hash:M,state:F,key:H},navigationType:c}},[y,_,S,M,F,H,c]);return j==null?null:U.createElement(Tr.Provider,{value:m},U.createElement(_l.Provider,{children:s,value:j}))}function Yx(e){let{children:n,location:s}=e;return Dx(yu(n),s)}new Promise(()=>{});function yu(e,n){n===void 0&&(n=[]);let s=[];return U.Children.forEach(e,(a,c)=>{if(!U.isValidElement(a))return;let d=[...n,c];if(a.type===U.Fragment){s.push.apply(s,yu(a.props.children,d));return}a.type!==cs&&ot(!1),!a.props.index||!a.props.children||ot(!1);let x={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(x.children=yu(a.props.children,d)),s.push(x)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ll.apply(this,arguments)}function Zd(e,n){if(e==null)return{};var s={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(n.indexOf(c)>=0)&&(s[c]=e[c]);return s}function Zx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kx(e,n){return e.button===0&&(!n||n==="_self")&&!Zx(e)}const Qx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Jx="6";try{window.__reactRouterVersion=Jx}catch{}const $x=U.createContext({isTransitioning:!1}),ep="startTransition",J1=Xh[ep];function tp(e){let{basename:n,children:s,future:a,window:c}=e,d=U.useRef();d.current==null&&(d.current=ix({window:c,v5Compat:!0}));let x=d.current,[w,y]=U.useState({action:x.action,location:x.location}),{v7_startTransition:m}=a||{},_=U.useCallback(S=>{m&&J1?J1(()=>y(S)):y(S)},[y,m]);return U.useLayoutEffect(()=>x.listen(_),[x,_]),U.useEffect(()=>Gx(a),[a]),U.createElement(Xx,{basename:n,children:s,location:w.location,navigationType:w.action,navigator:x,future:a})}const np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ip=U.forwardRef(function(n,s){let{onClick:a,relative:c,reloadDocument:d,replace:x,state:w,target:y,to:m,preventScrollReset:_,viewTransition:S}=n,M=Zd(n,Qx),{basename:F}=U.useContext(Tr),H,j=!1;if(typeof m=="string"&&rp.test(m)&&(H=m,np))try{let N=new URL(window.location.href),P=m.startsWith("//")?new URL(N.protocol+m):new URL(m),X=ki(P.pathname,F);P.origin===N.origin&&X!=null?m=X+P.search+P.hash:j=!0}catch{}let $=Rx(m,{relative:c}),b=lp(m,{replace:x,state:w,target:y,preventScrollReset:_,relative:c,viewTransition:S});function v(N){a&&a(N),N.defaultPrevented||b(N)}return U.createElement("a",ll({},M,{href:H||$,onClick:j||d?a:v,ref:s,target:y}))}),sp=U.forwardRef(function(n,s){let{"aria-current":a="page",caseSensitive:c=!1,className:d="",end:x=!1,style:w,to:y,viewTransition:m,children:_}=n,S=Zd(n,qx),M=Rl(y,{relative:S.relative}),F=Gs(),H=U.useContext(Wd),{navigator:j,basename:$}=U.useContext(Tr),b=H!=null&&ap(M)&&m===!0,v=j.encodeLocation?j.encodeLocation(M).pathname:M.pathname,N=F.pathname,P=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;c||(N=N.toLowerCase(),P=P?P.toLowerCase():null,v=v.toLowerCase()),P&&$&&(P=ki(P,$)||P);const X=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let Z=N===v||!x&&N.startsWith(v)&&N.charAt(X)==="/",L=P!=null&&(P===v||!x&&P.startsWith(v)&&P.charAt(v.length)==="/"),Q={isActive:Z,isPending:L,isTransitioning:b},G=Z?a:void 0,ae;typeof d=="function"?ae=d(Q):ae=[d,Z?"active":null,L?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let ce=typeof w=="function"?w(Q):w;return U.createElement(ip,ll({},S,{"aria-current":G,className:ae,ref:s,style:ce,to:y,viewTransition:m}),typeof _=="function"?_(Q):_)});var Eu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Eu||(Eu={}));var $1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($1||($1={}));function op(e){let n=U.useContext(Tl);return n||ot(!1),n}function lp(e,n){let{target:s,replace:a,state:c,preventScrollReset:d,relative:x,viewTransition:w}=n===void 0?{}:n,y=bx(),m=Gs(),_=Rl(e,{relative:x});return U.useCallback(S=>{if(Kx(S,s)){S.preventDefault();let M=a!==void 0?a:ol(m)===ol(_);y(e,{replace:M,state:c,preventScrollReset:d,relative:x,viewTransition:w})}},[m,y,_,a,c,s,e,d,x,w])}function ap(e,n){n===void 0&&(n={});let s=U.useContext($x);s==null&&ot(!1);let{basename:a}=op(Eu.useViewTransitionState),c=Rl(e,{relative:n.relative});if(!s.isTransitioning)return!1;let d=ki(s.currentLocation.pathname,a)||s.currentLocation.pathname,x=ki(s.nextLocation.pathname,a)||s.nextLocation.pathname;return wu(c.pathname,x)!=null||wu(c.pathname,d)!=null}function up({title:e,titleId:n,...s},a){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},s),e?U.createElement("title",{id:n},e):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const cp=U.forwardRef(up);function fp({title:e,titleId:n,...s},a){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},s),e?U.createElement("title",{id:n},e):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const dp=U.forwardRef(fp);function hp({title:e,titleId:n,...s},a){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},s),e?U.createElement("title",{id:n},e):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const gp=U.forwardRef(hp);function xp({title:e,titleId:n,...s},a){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},s),e?U.createElement("title",{id:n},e):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Kd=U.forwardRef(xp);function pp({title:e,titleId:n,...s},a){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},s),e?U.createElement("title",{id:n},e):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const mp=U.forwardRef(pp);function wp({title:e,titleId:n,...s},a){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},s),e?U.createElement("title",{id:n},e):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const yp=U.forwardRef(wp);function Ep({title:e,titleId:n,...s},a){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},s),e?U.createElement("title",{id:n},e):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const Cp=U.forwardRef(Ep),Ap="http://localhost:4000";function vp(e={}){const n={...e},{body:s}=n;s&&!(s instanceof FormData)&&typeof s!="string"&&(n.body=JSON.stringify(s));const a=new Headers(e.headers||{});return!(n.body instanceof FormData)&&!a.has("Content-Type")&&a.set("Content-Type","application/json"),n.headers=a,n}async function Yr(e,n={}){const s=await fetch(`${Ap}${e}`,vp(n));if(!s.ok){let c=null;try{c=await s.json()}catch{}const d=new Error((c==null?void 0:c.error)||"Request failed");throw d.status=s.status,c&&typeof c=="object"&&(d.payload=c),d}if(s.status===204)return null;const a=await s.text();if(!a)return null;try{return JSON.parse(a)}catch(c){throw console.error("Failed to parse JSON response",c),new Error("Failed to parse server response")}}const e0={available:"bg-emerald-100 text-emerald-800 border border-emerald-500/40",reserved:"bg-amber-100 text-amber-800 border border-amber-500/40",sold:"bg-slate-800 text-white border border-slate-900/60",blocked:"bg-slate-200 text-slate-500 border border-slate-300"};function Sp({seats:e,isLoading:n}){const s=U.useMemo(()=>{const a=new Map;return e.forEach(c=>{a.has(c.row_label)||a.set(c.row_label,[]),a.get(c.row_label).push(c)}),Array.from(a.entries()).sort((c,d)=>c[0].localeCompare(d[0],void 0,{numeric:!0})).map(([c,d])=>({rowLabel:c,seats:d.sort((x,w)=>x.col_idx-w.col_idx)}))},[e]);return n?R.jsx("div",{className:"flex h-64 items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white",children:R.jsx("p",{className:"text-sm text-slate-500",children:"Loading seats"})}):e.length?R.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[R.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[R.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Seat Map"}),R.jsx("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:Object.entries(e0).map(([a,c])=>R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:`block h-3 w-3 rounded ${c}`}),R.jsx("span",{className:"capitalize",children:a})]},a))})]}),R.jsx("div",{className:"max-h-[70vh] overflow-auto px-4 py-4 text-sm",children:R.jsx("div",{className:"space-y-3",children:s.map(({rowLabel:a,seats:c})=>R.jsxs("div",{children:[R.jsxs("div",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-slate-400",children:["Row ",a]}),R.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>R.jsx("div",{title:`${a}-${d.seat_number}`,className:`flex h-8 w-8 items-center justify-center rounded-md text-xs font-semibold ${e0[d.status]||"bg-slate-100 text-slate-500 border border-slate-200"}`,children:d.seat_number},d.id))})]},a))})})]}):R.jsx("div",{className:"flex h-64 items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white",children:R.jsx("p",{className:"text-sm text-slate-500",children:"No seats found for this event."})})}const Ip="Your Ticket for {{event}}",Np=`<!doctype html>
<p>Hi {{name}},</p>
<p>We're excited to see you at <strong>{{event}}</strong>.</p>
<ul>
  <li><strong>Seat:</strong> {{seat}}</li>
  <li><strong>Ticket Code:</strong> {{ticket_code}}</li>
  <li><strong>Starts:</strong> {{event_starts}}</li>
</ul>
<p>Show this QR code at the entrance:</p>
<p><img src="cid:{{qr_cid}}" alt="Ticket QR" style="max-width:260px" /></p>
<p>If you have any questions, reply to this email.</p>`;function Tp({eventId:e,onQueued:n}){var v,N,P;const s=U.useRef(null),[a,c]=U.useState(""),[d,x]=U.useState(!1),[w,y]=U.useState(!1),[m,_]=U.useState(null),[S,M]=U.useState(Ip),[F,H]=U.useState(Np),j=U.useMemo(()=>t0(a),[a]),$=async X=>{var Q,G;X.preventDefault();const Z=(G=(Q=s.current)==null?void 0:Q.files)==null?void 0:G[0],L=[];if(Z){const ae=await Z.text(),ce=t0(ae);L.push(...ce)}if(L.push(...j),L.length===0){alert("Add recipients using the CSV upload or the manual list.");return}x(!0);try{const ae=await Yr("/api/admin/emails/bulk",{method:"POST",body:{event_id:e,list:L,subject:S,bodyTemplate:F}});_({type:"queue",queued:ae.queued,at:new Date,details:ae.details||[]}),n==null||n(ae.queued),s.current&&(s.current.value=""),c(""),alert(`Queued ${ae.queued} emails.`)}catch(ae){console.error(ae),alert(ae.message||"Failed to queue emails")}finally{x(!1)}},b=async()=>{y(!0);try{const X=await Yr("/api/admin/emails/send-now",{method:"POST",body:{limit:200}});_({type:"send",result:X,at:new Date}),alert(`Sent ${X.sent} emails, ${X.failed} failed (pending batch size ${X.pending}).`)}catch(X){console.error(X),alert(X.message||"Failed to send queued emails")}finally{y(!1)}};return R.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[R.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Bulk Email Queue"}),R.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Upload a CSV or enter recipients manually. Seats are automatically assigned in order starting from Row A / Seat 1. Names are optional."}),R.jsxs("form",{onSubmit:$,className:"mt-4 space-y-4",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"CSV upload"}),R.jsx("input",{ref:s,type:"file",accept:".csv",className:"block w-full text-sm text-slate-600 file:mr-4 file:rounded-md file:border-0 file:bg-brand file:px-4 file:py-2 file:text-sm file:font-semibold file:text-white hover:file:bg-brand-dark"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",htmlFor:"manual-list",children:"Manual entries"}),R.jsx("textarea",{id:"manual-list",rows:"4",value:a,onChange:X=>c(X.target.value),placeholder:["user@example.com","another@example.com"].join(`
`),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20"}),R.jsx("p",{className:"text-xs text-slate-500",children:"Separate recipients by new lines. Provide an email per line; names are optional."})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",htmlFor:"subject-template",children:"Email subject template"}),R.jsx("input",{id:"subject-template",type:"text",value:S,onChange:X=>M(X.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20"}),R.jsxs("p",{className:"text-xs text-slate-500",children:["Use placeholders like ",R.jsx("code",{children:"{{event}}"}),", ",R.jsx("code",{children:"{{seat}}"}),", ",R.jsx("code",{children:"{{ticket_code}}"}),"."]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",htmlFor:"body-template",children:"Email body template (HTML allowed)"}),R.jsx("textarea",{id:"body-template",rows:"8",value:F,onChange:X=>H(X.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20 font-mono text-xs"}),R.jsxs("div",{className:"text-xs text-slate-500 space-y-1",children:[R.jsxs("p",{children:["Available placeholders: ",R.jsx("code",{children:"{{name}}"}),", ",R.jsx("code",{children:"{{email}}"}),", ",R.jsx("code",{children:"{{event}}"}),", ",R.jsx("code",{children:"{{seat}}"}),", ",R.jsx("code",{children:"{{ticket_code}}"}),", ",R.jsx("code",{children:"{{qr_cid}}"}),", ",R.jsx("code",{children:"{{qr_data_url}}"}),", ",R.jsx("code",{children:"{{event_starts}}"}),"."]}),R.jsxs("p",{children:["For the inline QR image, use ",R.jsx("code",{children:'<img src="cid:{{qr_cid}}" alt="QR code" />'}),"."]})]})]}),R.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[R.jsxs("span",{children:["Manual recipients: ",j.length]}),R.jsx("span",{children:(N=(v=s.current)==null?void 0:v.files)!=null&&N.length?"CSV attached":"No CSV file"})]}),R.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[R.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center justify-center gap-2 rounded-md bg-brand px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-dark disabled:opacity-60",children:d?"Queueing":"Queue Emails"}),R.jsx("button",{type:"button",onClick:b,disabled:w,className:"inline-flex items-center justify-center gap-2 rounded-md border border-brand px-4 py-2 text-sm font-semibold text-brand transition hover:bg-brand/10 disabled:opacity-60",children:w?"Sending":"Send queued now"})]})]}),m&&R.jsxs("div",{className:"mt-4 space-y-2 text-xs text-slate-500",children:[m.type==="queue"&&R.jsxs(R.Fragment,{children:[R.jsxs("p",{children:["Last queued ",m.queued," recipient",m.queued===1?"":"s"," at"," ",m.at.toLocaleTimeString(),"."]}),(P=m.details)!=null&&P.length?R.jsx("ul",{className:"max-h-40 overflow-y-auto rounded-md border border-slate-200 bg-slate-50 p-2 font-mono text-[11px]",children:m.details.map(X=>R.jsxs("li",{children:[X.email,"  ",X.seat," (",X.ticketCode,")"]},`${X.email}-${X.ticketCode}`))}):null]}),m.type==="send"&&m.result&&R.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2",children:[R.jsxs("p",{children:["Last send run at ",m.at.toLocaleTimeString(),":"]}),R.jsxs("ul",{className:"ml-4 list-disc",children:[R.jsxs("li",{children:["Sent: ",m.result.sent]}),R.jsxs("li",{children:["Failed: ",m.result.failed]}),R.jsxs("li",{children:["Processed from queue: ",m.result.pending]})]})]})]})]})}function t0(e){if(!e)return[];const n=e.split(/\r?\n/).map(a=>a.trim()).filter(Boolean),s=[];for(const a of n){const[c,d="",x=""]=a.split(","),w=c==null?void 0:c.trim();w&&s.push({email:w,name:d.trim(),ticketData:x.trim()})}return s}function vo({label:e,value:n,accent:s="bg-brand"}){return R.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm",children:[R.jsx("p",{className:"text-sm font-medium text-slate-500",children:e}),R.jsx("p",{className:"mt-2 text-3xl font-semibold text-slate-900",children:n}),R.jsx("span",{className:`mt-4 inline-block h-1 w-12 rounded-full ${s}`})]})}const n0=1,va={available:"bg-emerald-500/60",reserved:"bg-amber-500/60",sold:"bg-slate-900"};function r0(){const[e,n]=U.useState(n0),[s,a]=U.useState(n0.toString()),[c,d]=U.useState([]),[x,w]=U.useState(!1),[y,m]=U.useState(1),[_,S]=U.useState(null),M=U.useCallback(async b=>{w(!0);try{const v=await Yr(`/api/admin/events/${b}/seats`);d(Array.isArray(v)?v:[])}catch(v){console.error(v),alert(v.message||"Failed to load seats"),d([])}finally{w(!1)}},[]);U.useEffect(()=>{M(e)},[e,M]);const F=U.useMemo(()=>c.reduce((v,N)=>(v[N.status]=(v[N.status]||0)+1,v.total+=1,v),{total:0}),[c]),H=b=>{a(b.target.value)},j=b=>{b.preventDefault();const v=Number(s);if(!Number.isInteger(v)||v<=0){alert("Event ID must be a positive number");return}n(v)},$=async b=>{b.preventDefault();const v=Number(y);if(!Number.isInteger(v)||v<1){alert("Quantity must be at least 1");return}try{const N=await Yr(`/api/admin/events/${e}/auto-assign`,{method:"POST",body:JSON.stringify({qty:v})});S(N),await M(e),alert(`Reserved ${N.reserved.length} seats until ${new Date(N.reservedUntil).toLocaleTimeString()}`)}catch(N){console.error(N),alert(N.message||"Failed to reserve seats")}};return R.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-6",children:[R.jsxs("section",{className:"flex flex-col items-start justify-between gap-4 rounded-3xl bg-white px-6 py-6 shadow-sm md:flex-row md:items-center",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Event Administration"}),R.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["Manage seat inventory, reservations, and outbound communications for event #",e,"."]})]}),R.jsxs("form",{onSubmit:j,className:"flex items-center gap-3",children:[R.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"eventId",children:"Event ID"}),R.jsx("input",{id:"eventId",type:"number",min:"1",value:s,onChange:H,className:"w-24 rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20"}),R.jsx("button",{type:"submit",className:"rounded-md bg-brand px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-dark",children:"Load"})]})]}),R.jsxs("section",{className:"grid gap-5 md:grid-cols-4",children:[R.jsx(vo,{label:"Total seats",value:F.total??"",accent:"bg-brand"}),R.jsx(vo,{label:"Available",value:F.available??0,accent:va.available}),R.jsx(vo,{label:"Reserved",value:F.reserved??0,accent:va.reserved}),R.jsx(vo,{label:"Sold",value:F.sold??0,accent:va.sold})]}),R.jsxs("section",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[R.jsx(Sp,{seats:c,isLoading:x}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[R.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Auto assign contiguous seats"}),R.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Quickly reserve seats for walk-ins or manual processing."}),R.jsxs("form",{onSubmit:$,className:"mt-4 space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"qty",className:"text-sm font-medium text-slate-600",children:"Quantity"}),R.jsx("input",{id:"qty",type:"number",min:"1",value:y,onChange:b=>m(b.target.value),className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20"})]}),R.jsx("button",{type:"submit",className:"w-full rounded-md bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-700",children:"Reserve block"})]}),_&&R.jsxs("div",{className:"mt-4 rounded-lg bg-slate-100 px-3 py-2 text-xs text-slate-600",children:[R.jsxs("p",{children:["Reserved seats:",R.jsx("span",{className:"ml-1 font-medium text-slate-900",children:_.reserved.join(", ")})]}),R.jsxs("p",{children:["Token: ",_.reservedToken]}),R.jsxs("p",{children:["Expires: ",new Date(_.reservedUntil).toLocaleString()]})]})]}),R.jsx(Tp,{eventId:e,onQueued:()=>M(e)})]})]})]})}const _p="http://localhost:4000",i0={id:null,name:"",description:"",starts_at:"",ends_at:"",capacity:"",posterFile:null,posterPreview:null,posterUrl:null,removePoster:!1};function Rp(){const[e,n]=U.useState([]),[s,a]=U.useState(!1),[c,d]=U.useState(!1),[x,w]=U.useState(i0),y=U.useRef(null),m=U.useRef(null),_=U.useCallback(async()=>{a(!0);try{const v=await Yr("/api/admin/events");n(Array.isArray(v)?v:[])}catch(v){console.error(v),alert(v.message||"Failed to load events"),n([])}finally{a(!1)}},[]);U.useEffect(()=>{_()},[_]),U.useEffect(()=>()=>{m.current&&URL.revokeObjectURL(m.current)},[]);const S=v=>{var X;const N=(X=v.target.files)==null?void 0:X[0];if(!N)return;m.current&&URL.revokeObjectURL(m.current);const P=URL.createObjectURL(N);m.current=P,w(Z=>({...Z,posterFile:N,posterPreview:P,posterUrl:null,removePoster:!1}))},M=()=>{m.current&&(URL.revokeObjectURL(m.current),m.current=null),w(i0),y.current&&(y.current.value="")},F=v=>{m.current&&(URL.revokeObjectURL(m.current),m.current=null);const N=v.starts_at||v.performance_at,P=v.ends_at;w({id:v.id,name:v.name??"",description:v.description??"",starts_at:s0(N),ends_at:s0(P),capacity:v.capacity??"",posterFile:null,posterPreview:Qd(v.poster_url),posterUrl:v.poster_url??null,removePoster:!1}),y.current&&(y.current.value="")},H=()=>{m.current&&(URL.revokeObjectURL(m.current),m.current=null),w(v=>({...v,posterFile:null,posterPreview:null,posterUrl:null,removePoster:!0})),y.current&&(y.current.value="")},j=async v=>{if(v.preventDefault(),!x.name.trim()){alert("Event name is required");return}d(!0);try{const N=new FormData;N.append("name",x.name.trim()),N.append("description",x.description),x.starts_at&&N.append("starts_at",x.starts_at),x.ends_at&&N.append("ends_at",x.ends_at),x.capacity!==""&&N.append("capacity",Number(x.capacity)),x.posterFile&&N.append("poster",x.posterFile),x.removePoster&&!x.posterFile&&N.append("poster_url","");const P=x.id?"PUT":"POST",X=x.id?`/api/admin/events/${x.id}`:"/api/admin/events";await Yr(X,{method:P,body:N}),await _(),M(),alert(`Event ${x.id?"updated":"created"} successfully`)}catch(N){console.error(N),alert(N.message||"Failed to save event")}finally{d(!1)}},$=U.useMemo(()=>[...e].sort((v,N)=>{const P=new Date(v.starts_at||v.performance_at||v.created_at||0).getTime();return new Date(N.starts_at||N.performance_at||N.created_at||0).getTime()-P}),[e]),b=!!x.id;return R.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-6",children:[R.jsx("section",{className:"rounded-3xl bg-white px-6 py-6 shadow-sm",children:R.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Manage Events"}),R.jsx("p",{className:"mt-1 max-w-xl text-sm text-slate-500",children:"Publish new events, update schedules, and manage promotional posters. Changes sync instantly with the admin dashboard and scanners."})]}),R.jsxs("button",{type:"button",onClick:M,className:"inline-flex items-center gap-2 rounded-md bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-700",children:[R.jsx(yp,{className:"h-4 w-4"}),"New event"]})]})}),R.jsxs("section",{className:"grid gap-6 lg:grid-cols-[2fr_1.2fr]",children:[R.jsx("div",{className:"space-y-4",children:s?R.jsx("div",{className:"flex h-40 items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white text-sm text-slate-500",children:"Loading events"}):$.length===0?R.jsx("div",{className:"flex h-40 items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white text-sm text-slate-500",children:"No events yet. Create your first event using the form."}):R.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:$.map(v=>R.jsx(bp,{event:v,onEdit:F,isActive:x.id===v.id},v.id))})}),R.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h3",{className:"text-base font-semibold text-slate-800",children:b?"Update event":"Create new event"}),b&&R.jsx("button",{type:"button",onClick:M,className:"text-xs font-semibold text-brand hover:underline",children:"Cancel edit"})]}),R.jsxs("form",{onSubmit:j,className:"mt-5 space-y-4",children:[R.jsxs("div",{className:"space-y-1",children:[R.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"event-name",children:"Event name"}),R.jsx("input",{id:"event-name",type:"text",value:x.name,onChange:v=>w(N=>({...N,name:v.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20",placeholder:"e.g. CCIS Recognition Night",required:!0})]}),R.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[R.jsxs("div",{className:"space-y-1",children:[R.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"event-start",children:"Starts"}),R.jsx("input",{id:"event-start",type:"datetime-local",value:x.starts_at,onChange:v=>w(N=>({...N,starts_at:v.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20"})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"event-end",children:"Ends"}),R.jsx("input",{id:"event-end",type:"datetime-local",value:x.ends_at,onChange:v=>w(N=>({...N,ends_at:v.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20"})]})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"event-capacity",children:"Capacity"}),R.jsx("input",{id:"event-capacity",type:"number",min:"0",value:x.capacity,onChange:v=>w(N=>({...N,capacity:v.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20",placeholder:"1196"})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"event-description",children:"Description"}),R.jsx("textarea",{id:"event-description",rows:"3",value:x.description,onChange:v=>w(N=>({...N,description:v.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20",placeholder:"Highlight key details attendees should know."})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Poster"}),R.jsxs("div",{className:"flex items-start gap-4",children:[R.jsx("div",{className:"flex h-32 w-24 items-center justify-center overflow-hidden rounded-lg border border-dashed border-slate-300 bg-slate-50",children:x.posterPreview?R.jsx("img",{src:x.posterPreview,alt:"Event poster",className:"h-full w-full object-cover"}):R.jsx(mp,{className:"h-10 w-10 text-slate-300"})}),R.jsxs("div",{className:"flex-1 space-y-3 text-sm text-slate-600",children:[R.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:S,className:"block w-full text-sm text-slate-600 file:mr-4 file:rounded-md file:border-0 file:bg-brand file:px-4 file:py-2 file:text-sm file:font-semibold file:text-white hover:file:bg-brand-dark"}),R.jsx("p",{className:"text-xs text-slate-500",children:"Maximum size 5MB. JPG or PNG recommended."}),(x.posterPreview||x.posterUrl)&&R.jsx("button",{type:"button",onClick:H,className:"text-xs font-semibold text-rose-500 hover:underline",children:"Remove poster"})]})]})]}),R.jsx("button",{type:"submit",disabled:c,className:"inline-flex w-full items-center justify-center gap-2 rounded-md bg-brand px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-dark disabled:opacity-60",children:c?R.jsxs(R.Fragment,{children:[R.jsx(cp,{className:"h-4 w-4 animate-spin"}),"Saving"]}):R.jsxs(R.Fragment,{children:[R.jsx(Kd,{className:"h-4 w-4"}),b?"Update event":"Create event"]})})]})]})]})]})}function bp({event:e,onEdit:n,isActive:s}){const a=o0(e.starts_at||e.performance_at),c=o0(e.ends_at),d=Qd(e.poster_url);return R.jsxs("div",{className:`relative h-full rounded-xl border ${s?"border-brand ring-2 ring-brand/40":"border-slate-200"} bg-white p-5 shadow-sm transition hover:shadow-md`,children:[R.jsxs("div",{className:"flex gap-4",children:[R.jsx("div",{className:"h-32 w-24 overflow-hidden rounded-lg bg-slate-100",children:d?R.jsx("img",{src:d,alt:`${e.name} poster`,className:"h-full w-full object-cover"}):R.jsx("div",{className:"flex h-full w-full items-center justify-center bg-slate-200 text-xs uppercase tracking-wide text-slate-500",children:"No poster"})}),R.jsxs("div",{className:"flex-1 space-y-2",children:[R.jsxs("div",{children:[R.jsx("h4",{className:"text-base font-semibold text-slate-900",children:e.name}),R.jsxs("p",{className:"text-xs text-slate-500",children:["Capacity: ",e.capacity??""]})]}),R.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[a&&R.jsxs("p",{children:["Starts: ",a]}),c&&R.jsxs("p",{children:["Ends: ",c]})]}),e.description&&R.jsx("p",{className:"text-sm text-slate-600",children:e.description.length>160?`${e.description.slice(0,157)}...`:e.description})]})]}),R.jsx("div",{className:"mt-4 flex justify-end",children:R.jsxs("button",{type:"button",onClick:()=>n(e),className:"inline-flex items-center gap-2 rounded-md border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-brand hover:text-brand",children:[R.jsx(Kd,{className:"h-4 w-4"}),"Edit"]})})]})}function s0(e){if(!e)return"";const n=new Date(e);if(Number.isNaN(n.getTime()))return"";const s=y=>`${y}`.padStart(2,"0"),a=n.getFullYear(),c=s(n.getMonth()+1),d=s(n.getDate()),x=s(n.getHours()),w=s(n.getMinutes());return`${a}-${c}-${d}T${x}:${w}`}function o0(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":n.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}function Qd(e){return e?/^https?:\/\//i.test(e)?e:`${_p}${e}`:null}var se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var l0=new Map([[se.QR_CODE,"QR_CODE"],[se.AZTEC,"AZTEC"],[se.CODABAR,"CODABAR"],[se.CODE_39,"CODE_39"],[se.CODE_93,"CODE_93"],[se.CODE_128,"CODE_128"],[se.DATA_MATRIX,"DATA_MATRIX"],[se.MAXICODE,"MAXICODE"],[se.ITF,"ITF"],[se.EAN_13,"EAN_13"],[se.EAN_8,"EAN_8"],[se.PDF_417,"PDF_417"],[se.RSS_14,"RSS_14"],[se.RSS_EXPANDED,"RSS_EXPANDED"],[se.UPC_A,"UPC_A"],[se.UPC_E,"UPC_E"],[se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),a0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(a0||(a0={}));function Op(e){return Object.values(se).includes(e)}var al;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(al||(al={}));var Dp=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[al.SCAN_TYPE_CAMERA,al.SCAN_TYPE_FILE],e}(),qd=function(){function e(n,s){this.format=n,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!l0.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,l0.get(n))},e}(),u0=function(){function e(){}return e.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Cu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Cu||(Cu={}));var Mp=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Cu.UNKWOWN_ERROR}},e}(),kp=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function jn(e){return typeof e>"u"||e===null}var Ei=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Jd=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var a=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),x=Object.keys(n),w=0,y=x;w<y.length;w++){var m=y[w];if(d.has(m))return s.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Au={exports:{}};(function(e,n){(function(s,a){a(n)})(qi,function(s){function a(E){return E==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,t){E.__proto__=t}||function(E,t){for(var r in t)t.hasOwnProperty(r)&&(E[r]=t[r])};function d(E,t){c(E,t);function r(){this.constructor=E}E.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function x(E,t){var r=Object.setPrototypeOf;r?r(E,t):E.__proto__=t}function w(E,t){t===void 0&&(t=E.constructor);var r=Error.captureStackTrace;r&&r(E,t)}var y=function(E){d(t,E);function t(r){var i=this.constructor,o=E.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),x(o,i.prototype),w(o),o}return t}(Error);class m extends y{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}m.kind="Exception";class _ extends m{}_.kind="ArgumentException";class S extends m{}S.kind="IllegalArgumentException";class M{constructor(t){if(this.binarizer=t,t===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,o){const l=this.binarizer.getLuminanceSource().crop(t,r,i,o);return new M(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class F extends m{static getChecksumInstance(){return new F}}F.kind="ChecksumException";class H{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(t,r,i,o,l){for(;l--;)i[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class $ extends m{}$.kind="IndexOutOfBoundsException";class b extends ${constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}b.kind="ArrayIndexOutOfBoundsException";class v{static fill(t,r){for(let i=0,o=t.length;i<o;i++)t[i]=r}static fillWithin(t,r,i,o){v.rangeCheck(t.length,r,i);for(let l=r;l<i;l++)t[l]=o}static rangeCheck(t,r,i){if(r>i)throw new S("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new b(r);if(i>t)throw new b(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const o=i-r,l=new Int32Array(o);return j.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,i){i===void 0&&(i=v.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const u=l+o>>1,f=i(r,t[u]);if(f>0)o=u+1;else if(f<0)l=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class N{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=P.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=P.makeArray(t);j.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),l=i[o];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++o===u)return r;l=i[o]}const f=o*32+N.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),l=~i[o];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++o===u)return r;l=~i[o]}const f=o*32+N.numberOfTrailingZeros(l);return f>r?r:f}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new S;if(r===t)return;r--;const i=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let u=i;u<=o;u++){const f=u>i?0:t&31,g=(2<<(u<o?31:r&31))-(1<<f);l[u]|=g}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new S;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let f=o;f<=l;f++){const h=f>o?0:t&31,p=(2<<(f<l?31:r&31))-(1<<h)&4294967295;if((u[f]&p)!==(i?p:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new S("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=t.bits[i]}toBytes(t,r,i,o){for(let l=0;l<o;l++){let u=0;for(let f=0;f<8;f++)this.get(t)&&(u|=1<<7-f),t++;r[i+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let l=0;l<i;l++){let u=o[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==i*32){const l=i*32-this.size;let u=t[0]>>>l;for(let f=1;f<i;f++){const h=t[f];u|=h<<32-l,t[f-1]=u,u=h>>>l}t[i-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof P))return!1;const r=t;return this.size===r.size&&v.equals(this.bits,r.bits)}hashCode(){return 31*this.size+v.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new P(this.size,this.bits.slice())}}var X;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var Z=X;class L extends m{static getFormatInstance(){return new L}}L.kind="FormatException";var Q;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class G{constructor(t,r,i,...o){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(i,this);const l=this.values;for(let u=0,f=l.length;u!==f;u++){const h=l[u];G.VALUES_TO_ECI.set(h,this)}for(const u of o)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new L("incorect value");const r=G.VALUES_TO_ECI.get(t);if(r===void 0)throw new L("incorect value");return r}static getCharacterSetECIByName(t){const r=G.NAME_TO_ECI.get(t);if(r===void 0)throw new L("incorect value");return r}equals(t){if(!(t instanceof G))return!1;const r=t;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(Q.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(Q.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(Q.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(Q.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(Q.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(Q.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(Q.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(Q.Big5,28,"Big5"),G.GB18030=new G(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(Q.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends m{}ae.kind="UnsupportedOperationException";class ce{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!ce.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(ce.isDecodeFallbackSupported(i)){let o="";for(let l=0,u=t.length;l<u;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(i.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ae(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class re{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return ce.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(Z.CHARACTER_SET)!==void 0)return r.get(Z.CHARACTER_SET).toString();const i=t.length;let o=!0,l=!0,u=!0,f=0,h=0,g=0,p=0,C=0,A=0,T=0,O=0,D=0,k=0,W=0;const J=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ee=0;ee<i&&(o||l||u);ee++){const K=t[ee]&255;u&&(f>0?K&128?f--:u=!1:K&128&&(K&64?(f++,K&32?(f++,K&16?(f++,K&8?u=!1:p++):g++):h++):u=!1)),o&&(K>127&&K<160?o=!1:K>159&&(K<192||K===215||K===247)&&W++),l&&(C>0?K<64||K===127||K>252?l=!1:C--:K===128||K===160||K>239?l=!1:K>160&&K<224?(A++,O=0,T++,T>D&&(D=T)):K>127?(C++,T=0,O++,O>k&&(k=O)):(T=0,O=0))}return u&&f>0&&(u=!1),l&&C>0&&(l=!1),u&&(J||h+g+p>0)?re.UTF8:l&&(re.ASSUME_SHIFT_JIS||D>=3||k>=3)?re.SHIFT_JIS:o&&l?D===2&&A===2||W*10>=i?re.SHIFT_JIS:re.ISO88591:o?re.ISO88591:l?re.SHIFT_JIS:u?re.UTF8:re.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function o(u,f,h,g,p,C){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,T;switch(C){case"s":T=r[i];break;case"c":T=r[i][0];break;case"f":T=parseFloat(r[i]).toFixed(u);break;case"p":T=parseFloat(r[i]).toPrecision(u);break;case"e":T=parseFloat(r[i]).toExponential(u);break;case"x":T=parseInt(r[i]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[i],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;T.length<O;)T=f!==void 0?T+D:D+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return ce.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}re.SHIFT_JIS=G.SJIS.getName(),re.GB2312="GB2312",re.ISO88591=G.ISO8859_1.getName(),re.EUC_JP="EUC_JP",re.UTF8=G.UTF8.getName(),re.PLATFORM_DEFAULT_ENCODING=re.UTF8,re.ASSUME_SHIFT_JIS=!1;class Ee{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=re.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let o=r;r<r+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Ne{constructor(t,r,i,o){if(this.width=t,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new S("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,o=new Ne(i,r);for(let l=0;l<r;l++){const u=t[l];for(let f=0;f<i;f++)u[f]&&o.set(f,l)}return o}static parseFromString(t,r,i){if(t===null)throw new S("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,u=0,f=-1,h=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");u=l,h++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,o[l]=!0,l++;else if(t.substring(g,g+i.length)===i)g+=i.length,o[l]=!1,l++;else throw new S("illegal character encountered: "+t.substring(g));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");h++}const p=new Ne(f,h);for(let C=0;C<l;C++)o[C]&&p.set(Math.floor(C%f),Math.floor(C/f));return p}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new S("input matrix dimensions do not match");const r=new P(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,u=this.height;l<u;l++){const f=l*i,h=t.getRow(l,r).getBitArray();for(let g=0;g<i;g++)o[f+g]^=h[g]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,o){if(r<0||t<0)throw new S("Left and top must be nonnegative");if(o<1||i<1)throw new S("Height and width must be at least 1");const l=t+i,u=r+o;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let g=r;g<u;g++){const p=g*f;for(let C=t;C<l;C++)h[p+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new P(this.width):r.clear();const i=this.rowSize,o=this.bits,l=t*i;for(let u=0;u<i;u++)r.setBulk(u*32,o[l+u]);return r}setRow(t,r){j.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new P(t),o=new P(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)i=this.getRow(l,i),o=this.getRow(r-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,o=this.bits;let l=t,u=r,f=-1,h=-1;for(let g=0;g<r;g++)for(let p=0;p<i;p++){const C=o[g*i+p];if(C!==0){if(g<u&&(u=g),g>h&&(h=g),p*32<l){let A=0;for(;!(C<<31-A&4294967295);)A++;p*32+A<l&&(l=p*32+A)}if(p*32+31>f){let A=31;for(;!(C>>>A);)A--;p*32+A>f&&(f=p*32+A)}}}return f<l||h<u?null:Int32Array.from([l,u,f-l+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/t;let l=i%t*32;const u=r[i];let f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let l=Math.floor(i%t)*32;const u=r[i];let f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ne))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&v.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+v.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let o=new Ee;for(let l=0,u=this.height;l<u;l++){for(let f=0,h=this.width;f<h;f++)o.append(this.get(f,l)?t:r);o.append(i)}return o.toString()}clone(){return new Ne(this.width,this.height,this.rowSize,this.bits.slice())}}class z extends m{static getNotFoundInstance(){return new z}}z.kind="NotFoundException";class et extends H{constructor(t){super(t),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new P(o):r.clear(),this.initArrays(o);const l=i.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<o;h++)u[(l[h]&255)>>et.LUMINANCE_SHIFT]++;const f=et.estimateBlackPoint(u);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<f&&r.set(h);else{let h=l[0]&255,g=l[1]&255;for(let p=1;p<o-1;p++){const C=l[p+1]&255;(g*4-h-C)/2<f&&r.set(p),h=g,g=C}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new Ne(r,i);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(i*h/5),p=t.getRow(g,this.luminances),C=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<C;A++){const T=p[A]&255;l[T>>et.LUMINANCE_SHIFT]++}}const u=et.estimateBlackPoint(l),f=t.getMatrix();for(let h=0;h<i;h++){const g=h*r;for(let p=0;p<r;p++)(f[g+p]&255)<u&&o.set(p,h)}return o}createBinarizer(t){return new et(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<et.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,o=0,l=0;for(let p=0;p<r;p++)t[p]>l&&(o=p,l=t[p]),t[p]>i&&(i=t[p]);let u=0,f=0;for(let p=0;p<r;p++){const C=p-o,A=t[p]*C*C;A>f&&(u=p,f=A)}if(o>u){const p=o;o=u,u=p}if(u-o<=r/16)throw new z;let h=u-1,g=-1;for(let p=u-1;p>o;p--){const C=p-o,A=C*C*(u-p)*(i-t[p]);A>g&&(h=p,g=A)}return h<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class me extends et{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=me.MINIMUM_DIMENSION&&i>=me.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>me.BLOCK_SIZE_POWER;r&me.BLOCK_SIZE_MASK&&l++;let u=i>>me.BLOCK_SIZE_POWER;i&me.BLOCK_SIZE_MASK&&u++;const f=me.calculateBlackPoints(o,l,u,r,i),h=new Ne(r,i);me.calculateThresholdForBlock(o,l,u,r,i,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new me(t)}static calculateThresholdForBlock(t,r,i,o,l,u,f){const h=l-me.BLOCK_SIZE,g=o-me.BLOCK_SIZE;for(let p=0;p<i;p++){let C=p<<me.BLOCK_SIZE_POWER;C>h&&(C=h);const A=me.cap(p,2,i-3);for(let T=0;T<r;T++){let O=T<<me.BLOCK_SIZE_POWER;O>g&&(O=g);const D=me.cap(T,2,r-3);let k=0;for(let J=-2;J<=2;J++){const ee=u[A+J];k+=ee[D-2]+ee[D-1]+ee[D]+ee[D+1]+ee[D+2]}const W=k/25;me.thresholdBlock(t,O,C,W,o,f)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,o,l,u){for(let f=0,h=i*l+r;f<me.BLOCK_SIZE;f++,h+=l)for(let g=0;g<me.BLOCK_SIZE;g++)(t[h+g]&255)<=o&&u.set(r+g,i+f)}static calculateBlackPoints(t,r,i,o,l){const u=l-me.BLOCK_SIZE,f=o-me.BLOCK_SIZE,h=new Array(i);for(let g=0;g<i;g++){h[g]=new Int32Array(r);let p=g<<me.BLOCK_SIZE_POWER;p>u&&(p=u);for(let C=0;C<r;C++){let A=C<<me.BLOCK_SIZE_POWER;A>f&&(A=f);let T=0,O=255,D=0;for(let W=0,J=p*o+A;W<me.BLOCK_SIZE;W++,J+=o){for(let ee=0;ee<me.BLOCK_SIZE;ee++){const K=t[J+ee]&255;T+=K,K<O&&(O=K),K>D&&(D=K)}if(D-O>me.MIN_DYNAMIC_RANGE)for(W++,J+=o;W<me.BLOCK_SIZE;W++,J+=o)for(let ee=0;ee<me.BLOCK_SIZE;ee++)T+=t[J+ee]&255}let k=T>>me.BLOCK_SIZE_POWER*2;if(D-O<=me.MIN_DYNAMIC_RANGE&&(k=O/2,g>0&&C>0)){const W=(h[g-1][C]+2*h[g][C-1]+h[g-1][C-1])/4;O<W&&(k=W)}h[g][C]=k}}return h}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class ne{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,o){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ee;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let l=0;l<this.width;l++){const u=o[l]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class ge extends ne{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,o){return new ge(this.delegate.crop(t,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class pe extends ne{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return pe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const o=new Uint8ClampedArray(r*i);for(let l=0,u=0,f=t.length;l<f;l+=4,u++){let h;if(t[l+3]===0)h=255;else{const p=t[l],C=t[l+1],A=t[l+2];h=306*p+601*C+117*A+512>>10}o[u]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,o){return super.crop(t,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*pe.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=f,r.height=h,i.translate(f/2,h/2),i.rotate(o),i.drawImage(this.canvas,l/-2,u/-2),this.buffer=pe.makeBufferFromCanvasImageData(r),this}invert(){return new ge(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Xe{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ie=(globalThis||qi||self||window||void 0)&&(globalThis||qi||self||window||void 0).__awaiter||function(E,t,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(p){try{g(i.next(p))}catch(C){u(C)}}function h(p){try{g(i.throw(p))}catch(C){u(C)}}function g(p){p.done?l(p.value):o(p.value).then(f,h)}g((i=i.apply(E,t||[])).next())})};class on{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,u=i.label||`Video device ${r.length+1}`,f=i.groupId,h={deviceId:l,label:u,kind:o,groupId:f};r.push(h)}return r})}getVideoInputDevices(){return Ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Xe(r.deviceId,r.label))})}findDeviceById(t){return Ie(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ie(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Ie(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return Ie(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return Ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return Ie(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(t,r,i){return Ie(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(t,r,i){return Ie(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ie(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new _(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new _(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new _("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new _("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new _("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new _("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new _("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new _("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new _("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new _("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,u)=>{if(this._stopAsyncDecode){u(new z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const h=r&&f instanceof z,p=(f instanceof F||f instanceof L)&&i;if(h||p)return setTimeout(o,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>o(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof F||o instanceof L,u=o instanceof z;(l||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new pe(r),o=new me(i);return new M(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ke{constructor(t,r,i=r==null?0:8*r.length,o,l,u=j.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,u==null?this.timestamp=j.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);j.arraycopy(r,0,i,0,r.length),j.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var _r;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_r||(_r={}));var ue=_r,qn;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(qn||(qn={}));var pt=qn;class Ui{constructor(t,r,i,o,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ji{exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class jt{constructor(t,r){if(r.length===0)throw new S;this.field=t;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),j.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let u=0,f=r.length;u!==f;u++){const h=r[u];i=ji.addOrSubtract(i,h)}return i}i=r[0];const o=r.length,l=this.field;for(let u=1;u<o;u++)i=ji.addOrSubtract(l.multiply(t,i),r[u]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const u=r;r=i,i=u}let o=new Int32Array(i.length);const l=i.length-r.length;j.arraycopy(i,0,o,0,l);for(let u=l;u<i.length;u++)o[u]=ji.addOrSubtract(r[u-l],i[u]);return new jt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=t.coefficients,l=o.length,u=new Int32Array(i+l-1),f=this.field;for(let h=0;h<i;h++){const g=r[h];for(let p=0;p<l;p++)u[h+p]=ji.addOrSubtract(u[h+p],f.multiply(g,o[p]))}return new jt(f,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)o[u]=i.multiply(l[u],t);return new jt(i,o)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+t),u=this.field;for(let f=0;f<o;f++)l[f]=u.multiply(i[f],r);return new jt(u,l)}divide(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new S("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const f=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),u),g=t.multiplyByMonomial(f,h),p=r.buildMonomial(f,h);i=i.addOrSubtract(p),o=o.addOrSubtract(g)}return[i,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Xs extends m{}Xs.kind="ArithmeticException";class be extends ji{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let l=1;for(let f=0;f<r;f++)o[f]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const u=new Int32Array(r);for(let f=0;f<r-1;f++)u[o[f]]=f;this.logTable=u,this.zero=new jt(this,Int32Array.from([0])),this.one=new jt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new jt(this,i)}inverse(t){if(t===0)throw new Xs;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}be.AZTEC_DATA_12=new be(4201,4096,1),be.AZTEC_DATA_10=new be(1033,1024,1),be.AZTEC_DATA_6=new be(67,64,1),be.AZTEC_PARAM=new be(19,16,1),be.QR_CODE_FIELD_256=new be(285,256,0),be.DATA_MATRIX_FIELD_256=new be(301,256,1),be.AZTEC_DATA_8=be.DATA_MATRIX_FIELD_256,be.MAXICODE_FIELD_64=be.AZTEC_DATA_6;class qr extends m{}qr.kind="ReedSolomonException";class Tn extends m{}Tn.kind="IllegalStateException";class Vi{constructor(t){this.field=t}decode(t,r){const i=this.field,o=new jt(i,t),l=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const O=o.evaluateAt(i.exp(T+i.getGeneratorBase()));l[l.length-1-T]=O,O!==0&&(u=!1)}if(u)return;const f=new jt(i,l),h=this.runEuclideanAlgorithm(i.buildMonomial(r,1),f,r),g=h[0],p=h[1],C=this.findErrorLocations(g),A=this.findErrorMagnitudes(p,C);for(let T=0;T<C.length;T++){const O=t.length-1-i.log(C[T]);if(O<0)throw new qr("Bad error location");t[O]=be.addOrSubtract(t[O],A[T])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const T=t;t=r,r=T}const o=this.field;let l=t,u=r,f=o.getZero(),h=o.getOne();for(;u.getDegree()>=(i/2|0);){let T=l,O=f;if(l=u,f=h,l.isZero())throw new qr("r_{i-1} was zero");u=T;let D=o.getZero();const k=l.getCoefficient(l.getDegree()),W=o.inverse(k);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const J=u.getDegree()-l.getDegree(),ee=o.multiply(u.getCoefficient(u.getDegree()),W);D=D.addOrSubtract(o.buildMonomial(J,ee)),u=u.addOrSubtract(l.multiplyByMonomial(J,ee))}if(h=D.multiply(f).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new Tn("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new qr("sigmaTilde(0) was zero");const p=o.inverse(g),C=h.multiplyScalar(p),A=u.multiplyScalar(p);return[C,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const l=this.field;for(let u=1;u<l.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(i[o]=l.inverse(u),o++);if(o!==r)throw new qr("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,o=new Int32Array(i),l=this.field;for(let u=0;u<i;u++){const f=l.inverse(r[u]);let h=1;for(let g=0;g<i;g++)if(u!==g){const p=l.multiply(r[g],f),C=p&1?p&-2:p|1;h=l.multiply(h,C)}o[u]=l.multiply(t.evaluateAt(f),l.inverse(h)),l.getGeneratorBase()!==0&&(o[u]=l.multiply(o[u],f))}return o}}var Ct;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Ct||(Ct={}));class Ue{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),o=this.correctBits(i),l=Ue.convertBoolArrayToByteArray(o),u=Ue.getEncodedData(o),f=new Ui(l,u,null,null);return f.setNumBits(o.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=Ct.UPPER,o=Ct.UPPER,l="",u=0;for(;u<r;)if(o===Ct.BINARY){if(r-u<5)break;let f=Ue.readCode(t,u,5);if(u+=5,f===0){if(r-u<11)break;f=Ue.readCode(t,u,11)+31,u+=11}for(let h=0;h<f;h++){if(r-u<8){u=r;break}const g=Ue.readCode(t,u,8);l+=re.castAsNonUtf8Char(g),u+=8}o=i}else{let f=o===Ct.DIGIT?4:5;if(r-u<f)break;let h=Ue.readCode(t,u,f);u+=f;let g=Ue.getCharacter(o,h);g.startsWith("CTRL_")?(i=o,o=Ue.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=o)):(l+=g,o=i)}return l}static getTable(t){switch(t){case"L":return Ct.LOWER;case"P":return Ct.PUNCT;case"M":return Ct.MIXED;case"D":return Ct.DIGIT;case"B":return Ct.BINARY;case"U":default:return Ct.UPPER}}static getCharacter(t,r){switch(t){case Ct.UPPER:return Ue.UPPER_TABLE[r];case Ct.LOWER:return Ue.LOWER_TABLE[r];case Ct.MIXED:return Ue.MIXED_TABLE[r];case Ct.PUNCT:return Ue.PUNCT_TABLE[r];case Ct.DIGIT:return Ue.DIGIT_TABLE[r];default:throw new Tn("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=be.AZTEC_DATA_10):(i=12,r=be.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/i;if(l<o)throw new L;let u=t.length%i,f=new Int32Array(l);for(let A=0;A<l;A++,u+=i)f[A]=Ue.readCode(t,u,i);try{new Vi(r).decode(f,l-o)}catch(A){throw new L(A)}let h=(1<<i)-1,g=0;for(let A=0;A<o;A++){let T=f[A];if(T===0||T===h)throw new L;(T===1||T===h-1)&&g++}let p=new Array(o*i-g),C=0;for(let A=0;A<o;A++){let T=f[A];if(T===1||T===h-1)p.fill(T>1,C,C+i-1),C+=i-1;else for(let O=i-1;O>=0;--O)p[C++]=(T&1<<O)!==0}return p}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,l=new Int32Array(o),u=new Array(this.totalBitsInLayer(i,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=o+1+2*N.truncDivision(N.truncDivision(o,2)-1,15),h=o/2,g=N.truncDivision(f,2);for(let p=0;p<h;p++){let C=p+N.truncDivision(p,15);l[h-p-1]=g-C-1,l[h+p]=g+C+1}}for(let f=0,h=0;f<i;f++){let g=(i-f)*4+(r?9:12),p=f*2,C=o-1-p;for(let A=0;A<g;A++){let T=A*2;for(let O=0;O<2;O++)u[h+T+O]=t.get(l[p+O],l[p+A]),u[h+2*g+T+O]=t.get(l[p+A],l[C-O]),u[h+4*g+T+O]=t.get(l[C-O],l[C-A]),u[h+6*g+T+O]=t.get(l[C-A],l[p+O])}h+=g*8}return u}static readCode(t,r,i){let o=0;for(let l=r;l<r+i;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let i=t.length-r;return i>=8?Ue.readCode(t,r,8):Ue.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Ue.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Ue.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ue.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ue.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,o){const l=t-i,u=r-o;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let i=0,o=t.length;i!==o;i++){const l=t[i];r+=l}return r}}class Ys{static floatToIntBits(t){return t}}Ys.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof le){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Ys.floatToIntBits(this.x)+Ys.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,u,f;if(i>=r&&i>=o?(u=t[0],l=t[1],f=t[2]):o>=i&&o>=r?(u=t[1],l=t[0],f=t[2]):(u=t[2],l=t[0],f=t[1]),this.crossProductZ(l,u,f)<0){const h=l;l=f,f=h}t[0]=l,t[1]=u,t[2]=f}static distance(t,r){return Te.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const o=r.x,l=r.y;return(i.x-o)*(t.y-l)-(i.y-l)*(t.x-o)}}class Zs{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class wc extends Zs{constructor(t,r,i,o,l){super(t,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Un{constructor(t,r,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Un.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new z}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,l=!1,u=!0,f=!1,h=!1,g=!1,p=!1,C=!1;const A=this.width,T=this.height;for(;u;){u=!1;let O=!0;for(;(O||!h)&&r<A;)O=this.containsBlackPoint(i,o,r,!1),O?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let D=!0;for(;(D||!g)&&o<T;)D=this.containsBlackPoint(t,r,o,!0),D?(o++,u=!0,g=!0):g||o++;if(o>=T){l=!0;break}let k=!0;for(;(k||!p)&&t>=0;)k=this.containsBlackPoint(i,o,t,!1),k?(t--,u=!0,p=!0):p||t--;if(t<0){l=!0;break}let W=!0;for(;(W||!C)&&i>=0;)W=this.containsBlackPoint(t,r,i,!0),W?(i--,u=!0,C=!0):C||i--;if(i<0){l=!0;break}u&&(f=!0)}if(!l&&f){const O=r-t;let D=null;for(let ee=1;D===null&&ee<O;ee++)D=this.getBlackPointOnSegment(t,o-ee,t+ee,o);if(D==null)throw new z;let k=null;for(let ee=1;k===null&&ee<O;ee++)k=this.getBlackPointOnSegment(t,i+ee,t+ee,i);if(k==null)throw new z;let W=null;for(let ee=1;W===null&&ee<O;ee++)W=this.getBlackPointOnSegment(r,i+ee,r-ee,i);if(W==null)throw new z;let J=null;for(let ee=1;J===null&&ee<O;ee++)J=this.getBlackPointOnSegment(r,o-ee,r-ee,o);if(J==null)throw new z;return this.centerEdges(J,D,W,k)}else throw new z}getBlackPointOnSegment(t,r,i,o){const l=Te.round(Te.distance(t,r,i,o)),u=(i-t)/l,f=(o-r)/l,h=this.image;for(let g=0;g<l;g++){const p=Te.round(t+g*u),C=Te.round(r+g*f);if(h.get(p,C))return new le(p,C)}return null}centerEdges(t,r,i,o){const l=t.getX(),u=t.getY(),f=r.getX(),h=r.getY(),g=i.getX(),p=i.getY(),C=o.getX(),A=o.getY(),T=Un.CORR;return l<this.width/2?[new le(C-T,A+T),new le(f+T,h+T),new le(g-T,p-T),new le(l+T,u-T)]:[new le(C+T,A+T),new le(f+T,h-T),new le(g-T,p+T),new le(l-T,u-T)]}containsBlackPoint(t,r,i,o){const l=this.image;if(o){for(let u=t;u<=r;u++)if(l.get(u,i))return!0}else for(let u=t;u<=r;u++)if(l.get(i,u))return!0;return!1}}Un.INIT_SIZE=10,Un.CORR=1;class bl{static checkAndNudgePoints(t,r){const i=t.getWidth(),o=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>o)throw new z;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>o)throw new z;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}}}class mn{constructor(t,r,i,o,l,u,f,h,g){this.a11=t,this.a21=r,this.a31=i,this.a12=o,this.a22=l,this.a32=u,this.a13=f,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(t,r,i,o,l,u,f,h,g,p,C,A,T,O,D,k){const W=mn.quadrilateralToSquare(t,r,i,o,l,u,f,h);return mn.squareToQuadrilateral(g,p,C,A,T,O,D,k).times(W)}transformPoints(t){const r=t.length,i=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,p=this.a32,C=this.a33;for(let A=0;A<r;A+=2){const T=t[A],O=t[A+1],D=l*T+h*O+C;t[A]=(i*T+u*O+g)/D,t[A+1]=(o*T+f*O+p)/D}}transformPointsWithValues(t,r){const i=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,p=this.a32,C=this.a33,A=t.length;for(let T=0;T<A;T++){const O=t[T],D=r[T],k=l*O+h*D+C;t[T]=(i*O+u*D+g)/k,r[T]=(o*O+f*D+p)/k}}static squareToQuadrilateral(t,r,i,o,l,u,f,h){const g=t-i+l-f,p=r-o+u-h;if(g===0&&p===0)return new mn(i-t,l-i,t,o-r,u-o,r,0,0,1);{const C=i-l,A=f-l,T=o-u,O=h-u,D=C*O-A*T,k=(g*O-A*p)/D,W=(C*p-g*T)/D;return new mn(i-t+k*i,f-t+W*f,t,o-r+k*o,h-r+W*h,r,k,W,1)}}static quadrilateralToSquare(t,r,i,o,l,u,f,h){return mn.squareToQuadrilateral(t,r,i,o,l,u,f,h).buildAdjoint()}buildAdjoint(){return new mn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new mn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class yc extends bl{sampleGrid(t,r,i,o,l,u,f,h,g,p,C,A,T,O,D,k,W,J,ee){const K=mn.quadrilateralToQuadrilateral(o,l,u,f,h,g,p,C,A,T,O,D,k,W,J,ee);return this.sampleGridWithTransform(t,r,i,K)}sampleGridWithTransform(t,r,i,o){if(r<=0||i<=0)throw new z;const l=new Ne(r,i),u=new Float32Array(2*r);for(let f=0;f<i;f++){const h=u.length,g=f+.5;for(let p=0;p<h;p+=2)u[p]=p/2+.5,u[p+1]=g;o.transformPoints(u),bl.checkAndNudgePoints(t,u);try{for(let p=0;p<h;p+=2)t.get(Math.floor(u[p]),Math.floor(u[p+1]))&&l.set(p/2,f)}catch{throw new z}}return l}}class Jn{static setGridSampler(t){Jn.gridSampler=t}static getInstance(){return Jn.gridSampler}}Jn.gridSampler=new yc;class kt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ec{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new wc(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new z;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let u=0;u<4;u++){let f=i[(this.shift+u)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let i=0;t.forEach((o,l,u)=>{let f=(o>>r-2<<1)+(o&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(N.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new z}getCorrectedParameterData(t,r){let i,o;r?(i=7,o=2):(i=10,o=4);let l=i-o,u=new Int32Array(i);for(let h=i-1;h>=0;--h)u[h]=t&15,t>>=4;try{new Vi(be.AZTEC_PARAM).decode(u,l)}catch{throw new z}let f=0;for(let h=0;h<o;h++)f=(f<<4)+u[h];return f}getBullsEyeCorners(t){let r=t,i=t,o=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(i,u,1,1),T=this.getFirstDifferent(o,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(O,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(C,A,T,O))break}r=C,i=A,o=T,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new z;this.compact=this.nbCenterLayers===5;let f=new le(r.getX()+.5,r.getY()-.5),h=new le(i.getX()+.5,i.getY()+.5),g=new le(o.getX()-.5,o.getY()+.5),p=new le(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,h,g,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,o;try{let f=new Un(this.image).detect();t=f[0],r=f[1],i=f[2],o=f[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new kt(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(h+7,g+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new kt(h-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(h-7,g-7),!1,-1,-1).toResultPoint()}let l=Te.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+i.getY())/4);try{let f=new Un(this.image,15,l,u).detect();t=f[0],r=f[1],i=f[2],o=f[3]}catch{t=this.getFirstDifferent(new kt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(l+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new kt(l-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Te.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+i.getY())/4),new kt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,o,l){let u=Jn.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(t,f,f,h,h,g,h,g,g,h,g,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,i){let o=0,l=this.distanceResultPoint(t,r),u=l/i,f=t.getX(),h=t.getY(),g=u*(r.getX()-t.getX())/l,p=u*(r.getY()-t.getY())/l;for(let C=0;C<i;C++)this.image.get(Te.round(f+C*g),Te.round(h+C*p))&&(o|=1<<i-C-1);return o}isWhiteOrBlackRectangle(t,r,i,o){let l=3;t=new kt(t.getX()-l,t.getY()+l),r=new kt(r.getX()-l,r.getY()-l),i=new kt(i.getX()+l,i.getY()-l),o=new kt(o.getX()+l,o.getY()+l);let u=this.getColor(o,t);if(u===0)return!1;let f=this.getColor(t,r);return f!==u||(f=this.getColor(r,i),f!==u)?!1:(f=this.getColor(i,o),f===u)}getColor(t,r){let i=this.distancePoint(t,r),o=(r.getX()-t.getX())/i,l=(r.getY()-t.getY())/i,u=0,f=t.getX(),h=t.getY(),g=this.image.get(t.getX(),t.getY()),p=Math.ceil(i);for(let A=0;A<p;A++)f+=o,h+=l,this.image.get(Te.round(f),Te.round(h))!==g&&u++;let C=u/i;return C>.1&&C<.9?0:C<=.1===g?1:-1}getFirstDifferent(t,r,i,o){let l=t.getX()+i,u=t.getY()+o;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i,u+=o;for(l-=i,u-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i;for(l-=i;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=o;return u-=o,new kt(l,u)}expandSquare(t,r,i){let o=i/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,g=new le(f+o*l,h+o*u),p=new le(f-o*l,h-o*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let C=new le(f+o*l,h+o*u),A=new le(f-o*l,h-o*u);return[g,C,p,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Te.round(t.getX()),i=Te.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Ks{decode(t,r=null){let i=null,o=new Ec(t.getBlackMatrix()),l=null,u=null;try{let p=o.detectMirror(!1);l=p.getPoints(),this.reportFoundResultPoints(r,l),u=new Ue().decode(p)}catch(p){i=p}if(u==null)try{let p=o.detectMirror(!0);l=p.getPoints(),this.reportFoundResultPoints(r,l),u=new Ue().decode(p)}catch(p){throw i??p}let f=new Ke(u.getText(),u.getRawBytes(),u.getNumBits(),l,ue.AZTEC,j.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(pt.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&f.putMetadata(pt.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(Z.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,l,u)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class eh extends on{constructor(t=500){super(new Ks,t)}}class ut{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Z.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),f=u.getResultMetadata();let h=270;f!==null&&f.get(pt.ORIENTATION)===!0&&(h=h+f.get(pt.ORIENTATION)%360),u.putMetadata(pt.ORIENTATION,h);const g=u.getResultPoints();if(g!==null){const p=l.getHeight();for(let C=0;C<g.length;C++)g[C]=new le(p-g[C].getY()-1,g[C].getX())}return u}else throw new z}}reset(){}doDecode(t,r){const i=t.getWidth(),o=t.getHeight();let l=new P(i);const u=r&&r.get(Z.TRY_HARDER)===!0,f=Math.max(1,o>>(u?8:5));let h;u?h=o:h=15;const g=Math.trunc(o/2);for(let p=0;p<h;p++){const C=Math.trunc((p+1)/2),A=(p&1)===0,T=g+f*(A?C:-C);if(T<0||T>=o)break;try{l=t.getBlackRow(T,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;r.forEach((k,W)=>D.set(W,k)),D.delete(Z.NEED_RESULT_POINT_CALLBACK),r=D}try{const D=this.decodeRow(T,l,r);if(O===1){D.putMetadata(pt.ORIENTATION,180);const k=D.getResultPoints();k!==null&&(k[0]=new le(i-k[0].getX()-1,k[0].getY()),k[1]=new le(i-k[1].getX()-1,k[1].getY()))}return D}catch{}}}throw new z}static recordPattern(t,r,i){const o=i.length;for(let g=0;g<o;g++)i[g]=0;const l=t.getSize();if(r>=l)throw new z;let u=!t.get(r),f=0,h=r;for(;h<l;){if(t.get(h)!==u)i[f]++;else{if(++f===o)break;i[f]=1,u=!u}h++}if(!(f===o||f===o-1&&h===l))throw new z}static recordPatternInReverse(t,r,i){let o=i.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new z;ut.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const o=t.length;let l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return Number.POSITIVE_INFINITY;const f=l/u;i*=f;let h=0;for(let g=0;g<o;g++){const p=t[g],C=r[g]*f,A=p>C?p-C:C-p;if(A>i)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class te extends ut{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),u=i,f=!1;const h=6;for(let g=i;g<r;g++)if(t.get(g)!==f)l[o]++;else{if(o===h-1){let p=te.MAX_AVG_VARIANCE,C=-1;for(let A=te.CODE_START_A;A<=te.CODE_START_C;A++){const T=ut.patternMatchVariance(l,te.CODE_PATTERNS[A],te.MAX_INDIVIDUAL_VARIANCE);T<p&&(p=T,C=A)}if(C>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new z}static decodeCode(t,r,i){ut.recordPattern(t,i,r);let o=te.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<te.CODE_PATTERNS.length;u++){const f=te.CODE_PATTERNS[u],h=this.patternMatchVariance(r,f,te.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new z}decodeRow(t,r,i){const o=i&&i.get(Z.ASSUME_GS1)===!0,l=te.findStartPattern(r),u=l[2];let f=0;const h=new Uint8Array(20);h[f++]=u;let g;switch(u){case te.CODE_START_A:g=te.CODE_CODE_A;break;case te.CODE_START_B:g=te.CODE_CODE_B;break;case te.CODE_START_C:g=te.CODE_CODE_C;break;default:throw new L}let p=!1,C=!1,A="",T=l[0],O=l[1];const D=Int32Array.from([0,0,0,0,0,0]);let k=0,W=0,J=u,ee=0,K=!0,ve=!1,we=!1;for(;!p;){const oi=C;switch(C=!1,k=W,W=te.decodeCode(r,D,O),h[f++]=W,W!==te.CODE_STOP&&(K=!0),W!==te.CODE_STOP&&(ee++,J+=ee*W),T=O,O+=D.reduce((Rh,bh)=>Rh+bh,0),W){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new L}switch(g){case te.CODE_CODE_A:if(W<64)we===ve?A+=String.fromCharCode(32+W):A+=String.fromCharCode(32+W+128),we=!1;else if(W<96)we===ve?A+=String.fromCharCode(W-64):A+=String.fromCharCode(W+64),we=!1;else switch(W!==te.CODE_STOP&&(K=!1),W){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!ve&&we?(ve=!0,we=!1):ve&&we?(ve=!1,we=!1):we=!0;break;case te.CODE_SHIFT:C=!0,g=te.CODE_CODE_B;break;case te.CODE_CODE_B:g=te.CODE_CODE_B;break;case te.CODE_CODE_C:g=te.CODE_CODE_C;break;case te.CODE_STOP:p=!0;break}break;case te.CODE_CODE_B:if(W<96)we===ve?A+=String.fromCharCode(32+W):A+=String.fromCharCode(32+W+128),we=!1;else switch(W!==te.CODE_STOP&&(K=!1),W){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!ve&&we?(ve=!0,we=!1):ve&&we?(ve=!1,we=!1):we=!0;break;case te.CODE_SHIFT:C=!0,g=te.CODE_CODE_A;break;case te.CODE_CODE_A:g=te.CODE_CODE_A;break;case te.CODE_CODE_C:g=te.CODE_CODE_C;break;case te.CODE_STOP:p=!0;break}break;case te.CODE_CODE_C:if(W<100)W<10&&(A+="0"),A+=W;else switch(W!==te.CODE_STOP&&(K=!1),W){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_CODE_A:g=te.CODE_CODE_A;break;case te.CODE_CODE_B:g=te.CODE_CODE_B;break;case te.CODE_STOP:p=!0;break}break}oi&&(g=g===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Ht=O-T;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-T)/2),!1))throw new z;if(J-=ee*k,J%103!==k)throw new F;const yn=A.length;if(yn===0)throw new z;yn>0&&K&&(g===te.CODE_CODE_C?A=A.substring(0,yn-2):A=A.substring(0,yn-1));const Gt=(l[1]+l[0])/2,Fe=T+Ht/2,St=h.length,qt=new Uint8Array(St);for(let oi=0;oi<St;oi++)qt[oi]=h[oi];const si=[new le(Gt,t),new le(Fe,t)];return new Ke(A,qt,0,si,ue.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class ft extends ut{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=ft.findAsteriskPattern(r,o),u=r.getNextSet(l[1]),f=r.getSize(),h,g;do{ft.recordPattern(r,u,o);let D=ft.toNarrowWidePattern(o);if(D<0)throw new z;h=ft.patternToChar(D),this.decodeRowResult+=h,g=u;for(let k of o)u+=k;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let D of o)p+=D;let C=u-g-p;if(u!==f&&C*2<p)throw new z;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,k=0;for(let W=0;W<D;W++)k+=ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(D)!==ft.ALPHABET_STRING.charAt(k%43))throw new F;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new z;let A;this.extendedMode?A=ft.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let T=(l[1]+l[0])/2,O=g+p/2;return new Ke(A,null,0,[new le(T,t),new le(O,t)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),o=t.getNextSet(0),l=0,u=o,f=!1,h=r.length;for(let g=o;g<i;g++)if(t.get(g)!==f)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===ft.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new z}static toNarrowWidePattern(t){let r=t.length,i=0,o;do{let l=2147483647;for(let h of t)h<l&&h>i&&(l=h);i=l,o=0;let u=0,f=0;for(let h=0;h<r;h++){let g=t[h];g>i&&(f|=1<<r-1-h,o++,u+=g)}if(o===3){for(let h=0;h<r&&o>0;h++){let g=t[h];if(g>i&&(o--,g*2>=u))return-1}return f}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<ft.CHARACTER_ENCODINGS.length;r++)if(ft.CHARACTER_ENCODINGS[r]===t)return ft.ALPHABET_STRING.charAt(r);if(t===ft.ASTERISK_ENCODING)return"*";throw new z}static decodeExtended(t){let r=t.length,i="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(o+1),f="\0";switch(l){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new L;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new L;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new L;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new L;break}i+=f,o++}else i+=l}return i}}ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ft.ASTERISK_ENCODING=148;class Be extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let o=this.decodeStart(r),l=this.decodeEnd(r),u=new Ee;Be.decodeMiddle(r,o[1],l[0],u);let f=u.toString(),h=null;i!=null&&(h=i.get(Z.ALLOWED_LENGTHS)),h==null&&(h=Be.DEFAULT_ALLOWED_LENGTHS);let g=f.length,p=!1,C=0;for(let O of h){if(g===O){p=!0;break}O>C&&(C=O)}if(!p&&g>C&&(p=!0),!p)throw new L;const A=[new le(o[1],t),new le(l[0],t)];return new Ke(f,null,0,A,ue.ITF,new Date().getTime())}static decodeMiddle(t,r,i,o){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);r<i;){ut.recordPattern(t,r,l);for(let g=0;g<5;g++){let p=2*g;u[g]=l[p],f[g]=l[p+1]}let h=Be.decodeDigit(u);o.append(h.toString()),h=this.decodeDigit(f),o.append(h.toString()),l.forEach(function(g){r+=g})}}decodeStart(t){let r=Be.skipWhiteSpace(t),i=Be.findGuardPattern(t,r,Be.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new z}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new z;return i}decodeEnd(t){t.reverse();try{let r=Be.skipWhiteSpace(t),i;try{i=Be.findGuardPattern(t,r,Be.END_PATTERN_REVERSED[0])}catch(l){l instanceof z&&(i=Be.findGuardPattern(t,r,Be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let o=i.length,l=new Int32Array(o),u=t.getSize(),f=!1,h=0,g=r;l.fill(0);for(let p=r;p<u;p++)if(t.get(p)!==f)l[h]++;else{if(h===o-1){if(ut.patternMatchVariance(l,i,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return[g,p];g+=l[0]+l[1],j.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new z}static decodeDigit(t){let r=Be.MAX_AVG_VARIANCE,i=-1,o=Be.PATTERNS.length;for(let l=0;l<o;l++){let u=Be.PATTERNS[l],f=ut.patternMatchVariance(t,u,Be.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,i=l):f===r&&(i=-1)}if(i>=0)return i%10;throw new z}}Be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Be.MAX_AVG_VARIANCE=.38,Be.MAX_INDIVIDUAL_VARIANCE=.5,Be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Be.START_PATTERN=Int32Array.from([1,1,1,1]),Be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tt extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=tt.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let u=i[0];o=i[1];let f=u-(o-u);f>=0&&(r=t.isRange(f,u,!1))}return i}static checkChecksum(t){return tt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return tt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new L;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new L;i+=l}return(1e3-i)%10}static decodeEnd(t,r){return tt.findGuardPattern(t,r,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))}static findGuardPattern(t,r,i,o,l){let u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let f=0,h=r,g=o.length,p=i;for(let C=r;C<u;C++)if(t.get(C)!==p)l[f]++;else{if(f===g-1){if(ut.patternMatchVariance(l,o,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let T=0;T<f-1;T++)l[T]=A[T];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,p=!p}throw new z}static decodeDigit(t,r,i,o){this.recordPattern(t,i,r);let l=this.MAX_AVG_VARIANCE,u=-1,f=o.length;for(let h=0;h<f;h++){let g=o[h],p=ut.patternMatchVariance(r,g,tt.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=h)}if(u>=0)return u;throw new z}}tt.MAX_AVG_VARIANCE=.48,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.START_END_PATTERN=Int32Array.from([1,1,1]),tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Wi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),u=o.toString(),f=Wi.parseExtensionString(u),h=[new le((i[0]+i[1])/2,t),new le(l,t)],g=new Ke(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<5&&u<l;g++){let p=tt.decodeDigit(t,o,u,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let C of o)u+=C;p>=10&&(f|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==5)throw new z;let h=this.determineCheckDigit(f);if(Wi.extensionChecksum(i.toString())!==h)throw new z;return u}static extensionChecksum(t){let r=t.length,i=0;for(let o=r-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new z}static parseExtensionString(t){if(t.length!==5)return null;let r=Wi.parseExtension5String(t);return r==null?null:new Map([[pt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),l=i%100,u=l<10?"0"+l:l.toString();return r+o+"."+u}}class Ol{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),u=o.toString(),f=Ol.parseExtensionString(u),h=[new le((i[0]+i[1])/2,t),new le(l,t)],g=new Ke(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let h=0;h<2&&u<l;h++){let g=tt.decodeDigit(t,o,u,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);for(let p of o)u+=p;g>=10&&(f|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==2)throw new z;if(parseInt(i.toString())%4!==f)throw new z;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[pt.ISSUE_NUMBER,parseInt(t)]])}}class Cc{static decodeRow(t,r,i){let o=tt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Wi().decodeRow(t,r,o)}catch{return new Ol().decodeRow(t,r,o)}}}Cc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Oe extends tt{constructor(){super(),this.decodeRowStringBuffer="",Oe.L_AND_G_PATTERNS=Oe.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Oe.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];Oe.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let o=Oe.findStartGuardPattern(r),l=i==null?null:i.get(Z.NEED_RESULT_POINT_CALLBACK);if(l!=null){const K=new le((o[0]+o[1])/2,t);l.foundPossibleResultPoint(K)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(l!=null){const K=new le(f,t);l.foundPossibleResultPoint(K)}let g=this.decodeEnd(r,f);if(l!=null){const K=new le((g[0]+g[1])/2,t);l.foundPossibleResultPoint(K)}let p=g[1],C=p+(p-g[0]);if(C>=r.getSize()||!r.isRange(p,C,!1))throw new z;let A=h.toString();if(A.length<8)throw new L;if(!Oe.checkChecksum(A))throw new F;let T=(o[1]+o[0])/2,O=(g[1]+g[0])/2,D=this.getBarcodeFormat(),k=[new le(T,t),new le(O,t)],W=new Ke(A,null,0,k,D,new Date().getTime()),J=0;try{let K=Cc.decodeRow(t,r,g[1]);W.putMetadata(pt.UPC_EAN_EXTENSION,K.getText()),W.putAllMetadata(K.getResultMetadata()),W.addResultPoints(K.getResultPoints()),J=K.getText().length}catch{}let ee=i==null?null:i.get(Z.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let K=!1;for(let ve in ee)if(J.toString()===ve){K=!0;break}if(!K)throw new z}return W}decodeEnd(t,r){return Oe.findGuardPattern(t,r,!1,Oe.START_END_PATTERN,new Int32Array(Oe.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Oe.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Oe.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new L;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new L;i+=l}return(1e3-i)%10}}class Rr extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<6&&u<l;g++){let p=Oe.decodeDigit(t,o,u,Oe.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let C of o)u+=C;p>=10&&(f|=1<<5-g)}i=Rr.determineFirstDigit(i,f),u=Oe.findGuardPattern(t,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<l;g++){let p=Oe.decodeDigit(t,o,u,Oe.L_PATTERNS);i+=String.fromCharCode(48+p);for(let C of o)u+=C}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new z}}Rr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ac extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let g=Oe.decodeDigit(t,o,u,Oe.L_PATTERNS);i+=String.fromCharCode(48+g);for(let p of o)u+=p}u=Oe.findGuardPattern(t,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let g=Oe.decodeDigit(t,o,u,Oe.L_PATTERNS);i+=String.fromCharCode(48+g);for(let p of o)u+=p}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return ue.EAN_8}}class vc extends Oe{constructor(){super(...arguments),this.ean13Reader=new Rr}getBarcodeFormat(){return ue.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new Ke(r.substring(1),null,null,t.getResultPoints(),ue.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new z}reset(){this.ean13Reader.reset()}}class wn extends Oe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let u=r[1],f=0;for(let g=0;g<6&&u<l;g++){const p=wn.decodeDigit(t,o,u,wn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let C of o)u+=C;p>=10&&(f|=1<<5-g)}let h=wn.determineNumSysAndCheckDigit(i,f);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return wn.findGuardPatternWithoutCounters(t,r,!0,wn.MIDDLE_END_PATTERN)}checkChecksum(t){return Oe.checkChecksum(wn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let l=String.fromCharCode(48+i),u=String.fromCharCode(48+o);return l+t+u}throw z.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new Ee;i.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Dl extends ut{constructor(t){super();let r=t==null?null:t.get(Z.POSSIBLE_FORMATS),i=[];a(r)?(i.push(new Rr),i.push(new vc),i.push(new Ac),i.push(new wn)):(r.indexOf(ue.EAN_13)>-1&&i.push(new Rr),r.indexOf(ue.UPC_A)>-1&&i.push(new vc),r.indexOf(ue.EAN_8)>-1&&i.push(new Ac),r.indexOf(ue.UPC_E)>-1&&i.push(new wn)),this.readers=i}decodeRow(t,r,i){for(let o of this.readers)try{const l=o.decodeRow(t,r,i),u=l.getBarcodeFormat()===ue.EAN_13&&l.getText().charAt(0)==="0",f=i==null?null:i.get(Z.POSSIBLE_FORMATS),h=f==null||f.includes(ue.UPC_A);if(u&&h){const g=l.getRawBytes(),p=new Ke(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),ue.UPC_A);return p.putAllMetadata(l.getResultMetadata()),p}return l}catch{}throw new z}reset(){for(let t of this.readers)t.reset()}}class _t extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(ut.patternMatchVariance(t,r[i],_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return i;throw new z}static count(t){return Te.sum(new Int32Array(t))}static increment(t,r){let i=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],i=l);t[i]++}static decrement(t,r){let i=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],i=l);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],o=r/i;if(o>=_t.MIN_FINDER_PATTERN_RATIO&&o<=_t.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of t)f>u&&(u=f),f<l&&(l=f);return u<10*l}return!1}}_t.MAX_AVG_VARIANCE=.2,_t.MAX_INDIVIDUAL_VARIANCE=.45,_t.MIN_FINDER_PATTERN_RATIO=9.5/12,_t.MAX_FINDER_PATTERN_RATIO=12.5/14;class Jr{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Jr))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Qs{constructor(t,r,i,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new le(i,l)),this.resultPoints.push(new le(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Qs))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class _n{constructor(){}static getRSSvalue(t,r,i){let o=0;for(let h of t)o+=h;let l=0,u=0,f=t.length;for(let h=0;h<f-1;h++){let g;for(g=1,u|=1<<h;g<t[h];g++,u&=~(1<<h)){let p=_n.combins(o-g-1,f-h-2);if(i&&u===0&&o-g-(f-h-1)>=f-h-1&&(p-=_n.combins(o-g-(f-h),f-h-2)),f-h-1>1){let C=0;for(let A=o-g-(f-h-2);A>r;A--)C+=_n.combins(o-g-A-1,f-h-3);p-=C*(f-1-h)}else o-g>r&&p--;l+=p}o-=g}return l}static combins(t,r){let i,o;t-r>r?(o=r,i=t-r):(o=t-r,i=r);let l=1,u=1;for(let f=t;f>i;f--)l*=f,u<=o&&(l/=u,u++);for(;u<=o;)l/=u,u++;return l}}class th{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new P(i),l=0,f=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let g=t[h],p=g.getLeftChar().getValue();for(let C=11;C>=0;--C)p&1<<C&&o.set(l),l++;if(g.getRightChar()!=null){let C=g.getRightChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&o.set(l),l++}}return o}}class br{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ml{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Vt extends Ml{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Vt.FNC1}}Vt.FNC1="$";class Or extends Ml{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ln extends Ml{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new L;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ln.FNC1}isSecondDigitFNC1(){return this.secondDigit===ln.FNC1}isAnyFNC1(){return this.firstDigit===ln.FNC1||this.secondDigit===ln.FNC1}}ln.FNC1=10;class ie{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new z;let r=t.substring(0,2);for(let l of ie.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,l[2],t):ie.processFixedAI(2,l[1],t);if(t.length<3)throw new z;let i=t.substring(0,3);for(let l of ie.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,l[2],t):ie.processFixedAI(3,l[1],t);for(let l of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);if(t.length<4)throw new z;let o=t.substring(0,4);for(let l of ie.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);throw new z}static processFixedAI(t,r,i){if(i.length<t)throw new z;let o=i.substring(0,t);if(i.length<t+r)throw new z;let l=i.substring(t,t+r),u=i.substring(t+r),f="("+o+")"+l,h=ie.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}static processVariableAI(t,r,i){let o=i.substring(0,t),l;i.length<t+r?l=i.length:l=t+r;let u=i.substring(t,l),f=i.substring(l),h="("+o+")"+u,g=ie.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class $r{constructor(t){this.buffer=new Ee,this.information=t}decodeAllCodes(t,r){let i=r,o=null;do{let l=this.decodeGeneralPurposeField(i,o),u=ie.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new ln(this.information.getSize(),ln.FNC1,ln.FNC1):new ln(this.information.getSize(),l-1,ln.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new ln(t+7,i,o)}extractNumericValueFromBitArray(t,r){return $r.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let o=0;for(let l=0;l<i;++l)t.get(r+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Or(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Or(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Or(this.current.getPosition(),this.buffer.toString()):r=new Or(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new br(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Or(this.current.getPosition(),this.buffer.toString());return new br(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new br(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Or(this.current.getPosition(),this.buffer.toString());return new br(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new br(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Or(this.current.getPosition(),this.buffer.toString());return new br(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new br(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Vt(t+5,Vt.FNC1);if(r>=5&&r<15)return new Vt(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new Vt(t+7,""+(i+1));if(i>=90&&i<116)return new Vt(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new L}return new Vt(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Vt(t+5,Vt.FNC1);if(r>=5&&r<15)return new Vt(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new Vt(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Tn("Decoding invalid alphanumeric value: "+i)}return new Vt(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class kl{constructor(t){this.information=t,this.generalDecoder=new $r(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends kl{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Wt.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;i+=o&1?l:3*l}i=10-i%10,i===10&&(i=0),t.append(i)}}Wt.GTIN_SIZE=40;class ei extends Wt{constructor(t){super(t)}parseInformation(){let t=new Ee;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(ei.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,ei.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,ei.HEADER_SIZE+44)}}ei.HEADER_SIZE=4;class qs extends kl{constructor(t){super(t)}parseInformation(){let t=new Ee;return this.getGeneralDecoder().decodeAllCodes(t,qs.HEADER_SIZE)}}qs.HEADER_SIZE=5;class Js extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);let l=this.checkWeight(o),u=1e5;for(let f=0;f<5;++f)l/u===0&&t.append("0"),u/=10;t.append(l)}}class Rn extends Js{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Rn.HEADER_SIZE+Js.GTIN_SIZE+Rn.WEIGHT_SIZE)throw new z;let t=new Ee;return this.encodeCompressedGtin(t,Rn.HEADER_SIZE),this.encodeCompressedWeight(t,Rn.HEADER_SIZE+Js.GTIN_SIZE,Rn.WEIGHT_SIZE),t.toString()}}Rn.HEADER_SIZE=5,Rn.WEIGHT_SIZE=15;class nh extends Rn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class rh extends Rn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class bn extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<bn.HEADER_SIZE+Wt.GTIN_SIZE)throw new z;let t=new Ee;this.encodeCompressedGtin(t,bn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE+Wt.GTIN_SIZE,bn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(bn.HEADER_SIZE+Wt.GTIN_SIZE+bn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}bn.HEADER_SIZE=8,bn.LAST_DIGIT_SIZE=2;class Pt extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Pt.HEADER_SIZE+Wt.GTIN_SIZE)throw new z;let t=new Ee;this.encodeCompressedGtin(t,Pt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pt.HEADER_SIZE+Wt.GTIN_SIZE,Pt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Pt.HEADER_SIZE+Wt.GTIN_SIZE+Pt.LAST_DIGIT_SIZE,Pt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Pt.HEADER_SIZE+Wt.GTIN_SIZE+Pt.LAST_DIGIT_SIZE+Pt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Pt.HEADER_SIZE=8,Pt.LAST_DIGIT_SIZE=2,Pt.FIRST_THREE_DIGITS_SIZE=10;class Ye extends Js{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ye.HEADER_SIZE+Ye.GTIN_SIZE+Ye.WEIGHT_SIZE+Ye.DATE_SIZE)throw new z;let t=new Ee;return this.encodeCompressedGtin(t,Ye.HEADER_SIZE),this.encodeCompressedWeight(t,Ye.HEADER_SIZE+Ye.GTIN_SIZE,Ye.WEIGHT_SIZE),this.encodeCompressedDate(t,Ye.HEADER_SIZE+Ye.GTIN_SIZE+Ye.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ye.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let u=i;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ye.HEADER_SIZE=8,Ye.WEIGHT_SIZE=20,Ye.DATE_SIZE=16;function Sc(E){try{if(E.get(1))return new ei(E);if(!E.get(2))return new qs(E);switch($r.extractNumericValueFromBitArray(E,1,4)){case 4:return new nh(E);case 5:return new rh(E)}switch($r.extractNumericValueFromBitArray(E,1,5)){case 12:return new bn(E);case 13:return new Pt(E)}switch($r.extractNumericValueFromBitArray(E,1,7)){case 56:return new Ye(E,"310","11");case 57:return new Ye(E,"320","11");case 58:return new Ye(E,"310","13");case 59:return new Ye(E,"320","13");case 60:return new Ye(E,"310","15");case 61:return new Ye(E,"320","15");case 62:return new Ye(E,"310","17");case 63:return new Ye(E,"320","17")}}catch(t){throw console.log(t),new Tn("unknown decoder: "+E)}}class $n{constructor(t,r,i,o){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof $n?$n.equalsOrNull(t.leftchar,r.leftchar)&&$n.equalsOrNull(t.rightchar,r.rightchar)&&$n.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:$n.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Pl{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Pl?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((o,l)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class Y extends _t{constructor(t){super(...arguments),this.pairs=new Array(Y.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return Y.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Y.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof z){if(!this.pairs.length)throw new z;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new z}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!Y.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,i+1)}catch(u){this.verbose&&console.log(u)}}throw new z}static isValidSequence(t){for(let r of Y.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),i++}l||o||Y.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Pl(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let l of t)if($n.equals(o,l))break}}static isPartialRow(t,r){for(let i of r){let o=!0;for(let l of t){let u=!1;for(let f of i.getPairs())if(l.equals(f)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=th.buildBitArray(t),o=Sc(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new Ke(o,null,null,f,ue.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);o+=h.getLeftChar().getChecksumPortion(),l++;let g=h.getRightChar();g!=null&&(o+=g.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,u=!0,f=-1;do this.findNextPair(t,r,f),l=this.parseFoundFinderPattern(t,i,o),l==null?f=Y.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new z;let g;try{g=this.decodeDataCharacter(t,l,o,!1)}catch(p){g=null,this.verbose&&console.log(p)}return new $n(h,g,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u;i>=0?u=i:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;u<l&&(h=!t.get(u),!!h);)u++;let g=0,p=u;for(let C=u;C<l;C++)if(t.get(C)!=h)o[g]++;else{if(g==3){if(f&&Y.reverseCounters(o),Y.isFinderPattern(o)){this.startEnd[0]=p,this.startEnd[1]=C;return}f&&Y.reverseCounters(o),p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new z}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}}parseFoundFinderPattern(t,r,i){let o,l,u;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,o=this.startEnd[0]-g,l=g,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let f=this.getDecodeFinderCounters();j.arraycopy(f,0,f,1,f.length-1),f[0]=o;let h;try{h=this.parseFinderValue(f,Y.FINDER_PATTERNS)}catch{return null}return new Qs(h,[l,u],l,u,r)}decodeDataCharacter(t,r,i,o){let l=this.getDataCharacterCounters();for(let Fe=0;Fe<l.length;Fe++)l[Fe]=0;if(o)Y.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Y.recordPattern(t,r.getStartEnd()[1],l);for(let Fe=0,St=l.length-1;Fe<St;Fe++,St--){let qt=l[Fe];l[Fe]=l[St],l[St]=qt}}let u=17,f=Te.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new z;let g=this.getOddCounts(),p=this.getEvenCounts(),C=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Fe=0;Fe<l.length;Fe++){let St=1*l[Fe]/f,qt=St+.5;if(qt<1){if(St<.3)throw new z;qt=1}else if(qt>8){if(St>8.7)throw new z;qt=8}let si=Fe/2;Fe&1?(p[si]=qt,A[si]=St-qt):(g[si]=qt,C[si]=St-qt)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(i?0:2)+(o?0:1)-1,O=0,D=0;for(let Fe=g.length-1;Fe>=0;Fe--){if(Y.isNotA1left(r,i,o)){let St=Y.WEIGHTS[T][2*Fe];D+=g[Fe]*St}O+=g[Fe]}let k=0;for(let Fe=p.length-1;Fe>=0;Fe--)if(Y.isNotA1left(r,i,o)){let St=Y.WEIGHTS[T][2*Fe+1];k+=p[Fe]*St}let W=D+k;if(O&1||O>13||O<4)throw new z;let J=(13-O)/2,ee=Y.SYMBOL_WIDEST[J],K=9-ee,ve=_n.getRSSvalue(g,ee,!0),we=_n.getRSSvalue(p,K,!1),Ht=Y.EVEN_TOTAL_SUBSET[J],yn=Y.GSUM[J],Gt=ve*Ht+we+yn;return new Jr(Gt,W)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=Te.sum(new Int32Array(this.getOddCounts())),i=Te.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=!1,f=!1;i>13?f=!0:i<4&&(u=!0);let h=r+i-t,g=(r&1)==1,p=(i&1)==0;if(h==1)if(g){if(p)throw new z;l=!0}else{if(!p)throw new z;f=!0}else if(h==-1)if(g){if(p)throw new z;o=!0}else{if(!p)throw new z;u=!0}else if(h==0){if(g){if(!p)throw new z;r<i?(o=!0,f=!0):(l=!0,u=!0)}else if(p)throw new z}else throw new z;if(o){if(l)throw new z;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new z;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Y.SYMBOL_WIDEST=[7,5,4,3,1],Y.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Y.GSUM=[0,348,1388,2948,3988],Y.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Y.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Y.FINDER_PAT_A=0,Y.FINDER_PAT_B=1,Y.FINDER_PAT_C=2,Y.FINDER_PAT_D=3,Y.FINDER_PAT_E=4,Y.FINDER_PAT_F=5,Y.FINDER_PATTERN_SEQUENCES=[[Y.FINDER_PAT_A,Y.FINDER_PAT_A],[Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B],[Y.FINDER_PAT_A,Y.FINDER_PAT_C,Y.FINDER_PAT_B,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_C],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F]],Y.MAX_PAIRS=11;class ih extends Jr{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class nt extends _t{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const o=this.decodePair(r,!1,t,i);nt.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,i);nt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&nt.checkChecksum(u,f))return nt.constructResult(u,f)}throw new z}static addOrTally(t,r){if(r==null)return;let i=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),l=new Ee;for(let g=13-o.length;g>0;g--)l.append("0");l.append(o);let u=0;for(let g=0;g<13;g++){let p=l.charAt(g).charCodeAt(0)-48;u+=g&1?p:3*p}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Ke(l.toString(),null,0,[f[0],f[1],h[0],h[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,r,i,o){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,l),f=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(f!=null){let p=(l[0]+l[1])/2;r&&(p=t.getSize()-1-p),f.foundPossibleResultPoint(new le(p,i))}let h=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new ih(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,i){let o=this.getDataCharacterCounters();for(let k=0;k<o.length;k++)o[k]=0;if(i)ut.recordPatternInReverse(t,r.getStartEnd()[0],o);else{ut.recordPattern(t,r.getStartEnd()[1]+1,o);for(let k=0,W=o.length-1;k<W;k++,W--){let J=o[k];o[k]=o[W],o[W]=J}}let l=i?16:15,u=Te.sum(new Int32Array(o))/l,f=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let k=0;k<o.length;k++){let W=o[k]/u,J=Math.floor(W+.5);J<1?J=1:J>8&&(J=8);let ee=Math.floor(k/2);k&1?(h[ee]=J,p[ee]=W-J):(f[ee]=J,g[ee]=W-J)}this.adjustOddEvenCounts(i,l);let C=0,A=0;for(let k=f.length-1;k>=0;k--)A*=9,A+=f[k],C+=f[k];let T=0,O=0;for(let k=h.length-1;k>=0;k--)T*=9,T+=h[k],O+=h[k];let D=A+3*T;if(i){if(C&1||C>12||C<4)throw new z;let k=(12-C)/2,W=nt.OUTSIDE_ODD_WIDEST[k],J=9-W,ee=_n.getRSSvalue(f,W,!1),K=_n.getRSSvalue(h,J,!0),ve=nt.OUTSIDE_EVEN_TOTAL_SUBSET[k],we=nt.OUTSIDE_GSUM[k];return new Jr(ee*ve+K+we,D)}else{if(O&1||O>10||O<4)throw new z;let k=(10-O)/2,W=nt.INSIDE_ODD_WIDEST[k],J=9-W,ee=_n.getRSSvalue(f,W,!0),K=_n.getRSSvalue(h,J,!1),ve=nt.INSIDE_ODD_TOTAL_SUBSET[k],we=nt.INSIDE_GSUM[k];return new Jr(K*ve+ee+we,D)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),l=!1,u=0;for(;u<o&&(l=!t.get(u),r!==l);)u++;let f=0,h=u;for(let g=u;g<o;g++)if(t.get(g)!==l)i[f]++;else{if(f===3){if(_t.isFinderPattern(i))return[h,g];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,l=!l}throw new z}parseFoundFinderPattern(t,r,i,o){let l=t.get(o[0]),u=o[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const f=o[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);j.arraycopy(h,0,g,1,h.length-1),g[0]=f;const p=this.parseFinderValue(g,nt.FINDER_PATTERNS);let C=u,A=o[1];return i&&(C=t.getSize()-1-C,A=t.getSize()-1-A),new Qs(p,[u,o[1]],C,A,r)}adjustOddEvenCounts(t,r){let i=Te.sum(new Int32Array(this.getOddCounts())),o=Te.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,h=!1;t?(i>12?u=!0:i<4&&(l=!0),o>12?h=!0:o<4&&(f=!0)):(i>11?u=!0:i<5&&(l=!0),o>10?h=!0:o<4&&(f=!0));let g=i+o-r,p=(i&1)===(t?1:0),C=(o&1)===1;if(g===1)if(p){if(C)throw new z;u=!0}else{if(!C)throw new z;h=!0}else if(g===-1)if(p){if(C)throw new z;l=!0}else{if(!C)throw new z;f=!0}else if(g===0){if(p){if(!C)throw new z;i<o?(l=!0,h=!0):(u=!0,f=!0)}else if(C)throw new z}else throw new z;if(l){if(u)throw new z;_t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&_t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new z;_t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&_t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],nt.OUTSIDE_GSUM=[0,161,961,2015,2715],nt.INSIDE_GSUM=[0,336,1036,1516],nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],nt.INSIDE_ODD_WIDEST=[2,4,6,8],nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ti extends ut{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(Z.POSSIBLE_FORMATS):null,o=t&&t.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ue.EAN_13)||i.includes(ue.UPC_A)||i.includes(ue.EAN_8)||i.includes(ue.UPC_E))&&this.readers.push(new Dl(t)),i.includes(ue.CODE_39)&&this.readers.push(new ft(o)),i.includes(ue.CODE_128)&&this.readers.push(new te),i.includes(ue.ITF)&&this.readers.push(new Be),i.includes(ue.RSS_14)&&this.readers.push(new nt),i.includes(ue.RSS_EXPANDED)&&this.readers.push(new Y(this.verbose))):(this.readers.push(new Dl(t)),this.readers.push(new ft),this.readers.push(new Dl(t)),this.readers.push(new te),this.readers.push(new Be),this.readers.push(new nt),this.readers.push(new Y(this.verbose)))}decodeRow(t,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new z}reset(){this.readers.forEach(t=>t.reset())}}class sh extends on{constructor(t=500,r){super(new ti(r),t,r)}}class Me{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class De{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Se{constructor(t,r,i,o,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0;const h=u.getECCodewords(),g=u.getECBlocks();for(let p of g)f+=p.getCount()*(p.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new L;for(let i of Se.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Se(1,10,10,8,8,new Me(5,new De(1,3))),new Se(2,12,12,10,10,new Me(7,new De(1,5))),new Se(3,14,14,12,12,new Me(10,new De(1,8))),new Se(4,16,16,14,14,new Me(12,new De(1,12))),new Se(5,18,18,16,16,new Me(14,new De(1,18))),new Se(6,20,20,18,18,new Me(18,new De(1,22))),new Se(7,22,22,20,20,new Me(20,new De(1,30))),new Se(8,24,24,22,22,new Me(24,new De(1,36))),new Se(9,26,26,24,24,new Me(28,new De(1,44))),new Se(10,32,32,14,14,new Me(36,new De(1,62))),new Se(11,36,36,16,16,new Me(42,new De(1,86))),new Se(12,40,40,18,18,new Me(48,new De(1,114))),new Se(13,44,44,20,20,new Me(56,new De(1,144))),new Se(14,48,48,22,22,new Me(68,new De(1,174))),new Se(15,52,52,24,24,new Me(42,new De(2,102))),new Se(16,64,64,14,14,new Me(56,new De(2,140))),new Se(17,72,72,16,16,new Me(36,new De(4,92))),new Se(18,80,80,18,18,new Me(48,new De(4,114))),new Se(19,88,88,20,20,new Me(56,new De(4,144))),new Se(20,96,96,22,22,new Me(68,new De(4,174))),new Se(21,104,104,24,24,new Me(56,new De(6,136))),new Se(22,120,120,18,18,new Me(68,new De(6,175))),new Se(23,132,132,20,20,new Me(62,new De(8,163))),new Se(24,144,144,22,22,new Me(62,new De(8,156),new De(2,155))),new Se(25,8,18,6,16,new Me(7,new De(1,5))),new Se(26,8,32,6,14,new Me(11,new De(1,10))),new Se(27,12,26,10,24,new Me(14,new De(1,16))),new Se(28,12,36,10,16,new Me(18,new De(1,22))),new Se(29,16,36,14,16,new Me(24,new De(1,32))),new Se(30,16,48,14,22,new Me(28,new De(1,49)))]}}Se.VERSIONS=Se.buildVersions();class Bl{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new L;this.version=Bl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return Se.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,h=!1,g=!1,p=!1;do if(i===l&&o===0&&!f)t[r++]=this.readCorner1(l,u)&255,i-=2,o+=2,f=!0;else if(i===l-2&&o===0&&u&3&&!h)t[r++]=this.readCorner2(l,u)&255,i-=2,o+=2,h=!0;else if(i===l+4&&o===2&&!(u&7)&&!g)t[r++]=this.readCorner3(l,u)&255,i-=2,o+=2,g=!0;else if(i===l-2&&o===0&&(u&7)===4&&!p)t[r++]=this.readCorner4(l,u)&255,i-=2,o+=2,p=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,l,u)&255),i-=2,o+=2;while(i>=0&&o<u);i+=1,o+=3;do i>=0&&o<u&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,l,u)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<u);if(r!==this.version.getTotalCodewords())throw new L;return t}readModule(t,r,i,o){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,o){let l=0;return this.readModule(t-2,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r,i,o)&&(l|=1),l<<=1,this.readModule(t,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t,r,i,o)&&(l|=1),l}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/o|0,f=i/l|0,h=u*o,g=f*l,p=new Ne(g,h);for(let C=0;C<u;++C){const A=C*o;for(let T=0;T<f;++T){const O=T*l;for(let D=0;D<o;++D){const k=C*(o+2)+1+D,W=A+D;for(let J=0;J<l;++J){const ee=T*(l+2)+1+J;if(t.get(ee,k)){const K=O+J;p.set(K,W)}}}}}return p}}class Ll{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let o=0;const l=i.getECBlocks();for(let D of l)o+=D.getCount();const u=new Array(o);let f=0;for(let D of l)for(let k=0;k<D.getCount();k++){const W=D.getDataCodewords(),J=i.getECCodewords()+W;u[f++]=new Ll(W,new Uint8Array(J))}const g=u[0].codewords.length-i.getECCodewords(),p=g-1;let C=0;for(let D=0;D<p;D++)for(let k=0;k<f;k++)u[k].codewords[D]=t[C++];const A=r.getVersionNumber()===24,T=A?8:f;for(let D=0;D<T;D++)u[D].codewords[g-1]=t[C++];const O=u[0].codewords.length;for(let D=g;D<O;D++)for(let k=0;k<f;k++){const W=A?(k+8)%f:k,J=A&&W>7?D-1:D;u[W].codewords[J]=t[C++]}if(C!==t.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Fl{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new S(""+t);let r=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const u=8-i,f=t<u?t:u,h=u-f,g=255>>8-f<<h;r=(l[o]&g)>>h,t-=f,i+=f,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const u=8-t,f=255>>u<<u;r=r<<t|(l[o]&f)>>u,i+=t}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dt;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(dt||(dt={}));class er{static decode(t){const r=new Fl(t),i=new Ee,o=new Ee,l=new Array;let u=dt.ASCII_ENCODE;do if(u===dt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,i,o);else{switch(u){case dt.C40_ENCODE:this.decodeC40Segment(r,i);break;case dt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case dt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case dt.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new L}u=dt.ASCII_ENCODE}while(u!==dt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new Ui(t,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,i){let o=!1;do{let l=t.readBits(8);if(l===0)throw new L;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),dt.ASCII_ENCODE;if(l===129)return dt.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return dt.C40_ENCODE;case 231:return dt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return dt.ANSIX12_ENCODE;case 239:return dt.TEXT_ENCODE;case 240:return dt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new L;break}}while(t.available()>0);return dt.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const o=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new L;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new L}l=0;break;case 3:i?(r.append(String.fromCharCode(h+224)),i=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new L}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,o=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new L;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new L}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g),l=0}else throw new L;break;default:throw new L}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let l=0;l<3;l++){const u=i[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new L;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let o=(t<<8)+r-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new L;const f=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new L;f[h]=this.unrandomize255State(t.readBits(8),o++)}i.push(f);try{r.append(ce.decode(f,re.ISO88591))}catch(h){throw new Tn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const i=149*r%255+1,o=t-i;return o>=0?o:o+256}}er.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],er.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],er.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],er.TEXT_SHIFT2_SET_CHARS=er.C40_SHIFT2_SET_CHARS,er.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class oh{constructor(){this.rsDecoder=new Vi(be.DATA_MATRIX_FIELD_256)}decode(t){const r=new Bl(t),i=r.getVersion(),o=r.readCodewords(),l=Ll.getDataBlocks(o,i);let u=0;for(let g of l)u+=g.getNumDataCodewords();const f=new Uint8Array(u),h=l.length;for(let g=0;g<h;g++){const p=l[g],C=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(C,A);for(let T=0;T<A;T++)f[T*h+g]=C[T]}return er.decode(f)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new F}for(let o=0;o<r;o++)t[o]=i[o]}}class lt{constructor(t){this.image=t,this.rectangleDetector=new Un(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new z;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],l=r[2],u=r[3];let f=this.transitionsBetween(i,u)+1,h=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let g=lt.sampleGrid(this.image,i,o,l,u,f,h);return new Zs(g,[i,o,l,u])}static shiftPoint(t,r,i){let o=(r.getX()-t.getX())/(i+1),l=(r.getY()-t.getY())/(i+1);return new le(t.getX()+o,t.getY()+l)}static moveAway(t,r,i){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<i?l-=1:l+=1,new le(o,l)}detectSolid1(t){let r=t[0],i=t[1],o=t[3],l=t[2],u=this.transitionsBetween(r,i),f=this.transitionsBetween(i,o),h=this.transitionsBetween(o,l),g=this.transitionsBetween(l,r),p=u,C=[l,r,i,o];return p>f&&(p=f,C[0]=r,C[1]=i,C[2]=o,C[3]=l),p>h&&(p=h,C[0]=i,C[1]=o,C[2]=l,C[3]=r),p>g&&(C[0]=o,C[1]=l,C[2]=r,C[3]=i),C}detectSolid2(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=lt.shiftPoint(i,o,(u+1)*4),h=lt.shiftPoint(o,i,(u+1)*4),g=this.transitionsBetween(f,r),p=this.transitionsBetween(h,l);return g<p?(t[0]=r,t[1]=i,t[2]=o,t[3]=l):(t[0]=i,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=this.transitionsBetween(i,l),h=lt.shiftPoint(r,i,(f+1)*4),g=lt.shiftPoint(o,i,(u+1)*4);u=this.transitionsBetween(h,l),f=this.transitionsBetween(g,l);let p=new le(l.getX()+(o.getX()-i.getX())/(u+1),l.getY()+(o.getY()-i.getY())/(u+1)),C=new le(l.getX()+(r.getX()-i.getX())/(f+1),l.getY()+(r.getY()-i.getY())/(f+1));if(!this.isValid(p))return this.isValid(C)?C:null;if(!this.isValid(C))return p;let A=this.transitionsBetween(h,p)+this.transitionsBetween(g,p),T=this.transitionsBetween(h,C)+this.transitionsBetween(g,C);return A>T?p:C}shiftToModuleCenter(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1,h=lt.shiftPoint(r,i,f*4),g=lt.shiftPoint(o,i,u*4);u=this.transitionsBetween(h,l)+1,f=this.transitionsBetween(g,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let p=(r.getX()+i.getX()+o.getX()+l.getX())/4,C=(r.getY()+i.getY()+o.getY()+l.getY())/4;r=lt.moveAway(r,p,C),i=lt.moveAway(i,p,C),o=lt.moveAway(o,p,C),l=lt.moveAway(l,p,C);let A,T;return h=lt.shiftPoint(r,i,f*4),h=lt.shiftPoint(h,l,u*4),A=lt.shiftPoint(i,r,f*4),A=lt.shiftPoint(A,o,u*4),g=lt.shiftPoint(o,l,f*4),g=lt.shiftPoint(g,i,u*4),T=lt.shiftPoint(l,o,f*4),T=lt.shiftPoint(T,r,u*4),[h,A,g,T]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,o,l,u,f){return Jn.getInstance().sampleGrid(t,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),f=Math.abs(u-o)>Math.abs(l-i);if(f){let D=i;i=o,o=D,D=l,l=u,u=D}let h=Math.abs(l-i),g=Math.abs(u-o),p=-h/2,C=o<u?1:-1,A=i<l?1:-1,T=0,O=this.image.get(f?o:i,f?i:o);for(let D=i,k=o;D!==l;D+=A){let W=this.image.get(f?k:D,f?D:k);if(W!==O&&(T++,O=W),p+=g,p>0){if(k===u)break;k+=C,p-=h}}return T}}class tr{constructor(){this.decoder=new oh}decode(t,r=null){let i,o;if(r!=null&&r.has(Z.PURE_BARCODE)){const g=tr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(g),o=tr.NO_POINTS}else{const g=new lt(t.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),o=g.getPoints()}const l=i.getRawBytes(),u=new Ke(i.getText(),l,8*l.length,o,ue.DATA_MATRIX,j.currentTimeMillis()),f=i.getByteSegments();f!=null&&u.putMetadata(pt.BYTE_SEGMENTS,f);const h=i.getECLevel();return h!=null&&u.putMetadata(pt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new z;const o=this.moduleSize(r,t);let l=r[1];const u=i[1];let f=r[0];const g=(i[0]-f+1)/o,p=(u-l+1)/o;if(g<=0||p<=0)throw new z;const C=o/2;l+=C,f+=C;const A=new Ne(g,p);for(let T=0;T<p;T++){const O=l+T*o;for(let D=0;D<g;D++)t.get(f+D*o,O)&&A.set(D,T)}return A}static moduleSize(t,r){const i=r.getWidth();let o=t[0];const l=t[1];for(;o<i&&r.get(o,l);)o++;if(o===i)throw new z;const u=o-t[0];if(u===0)throw new z;return u}}tr.NO_POINTS=[];class lh extends on{constructor(t=500){super(new tr,t)}}var ni;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(ni||(ni={}));class je{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,je.FOR_BITS.set(i,this),je.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return je.L;case"M":return je.M;case"Q":return je.Q;case"H":return je.H;default:throw new _(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof je))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=je.FOR_BITS.size)throw new S;return je.FOR_BITS.get(t)}}je.FOR_BITS=new Map,je.FOR_VALUE=new Map,je.L=new je(ni.L,"L",1),je.M=new je(ni.M,"M",0),je.Q=new je(ni.Q,"Q",3),je.H=new je(ni.H,"H",2);class Rt{constructor(t){this.errorCorrectionLevel=je.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return N.bitCount(t^r)}static decodeFormatInformation(t,r){const i=Rt.doDecodeFormatInformation(t,r);return i!==null?i:Rt.doDecodeFormatInformation(t^Rt.FORMAT_INFO_MASK_QR,r^Rt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of Rt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new Rt(l[1]);let f=Rt.numBitsDiffering(t,u);f<i&&(o=l[1],i=f),t!==r&&(f=Rt.numBitsDiffering(r,u),f<i&&(o=l[1],i=f))}return i<=3?new Rt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Rt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Rt.FORMAT_INFO_MASK_QR=21522,Rt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class B{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fe{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const f of u)o+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new L;try{return this.getVersionForNumber((t-17)/4)}catch{throw new L}}static getVersionForNumber(t){if(t<1||t>40)throw new S;return fe.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<fe.VERSION_DECODE_INFO.length;o++){const l=fe.VERSION_DECODE_INFO[o];if(l===t)return fe.getVersionForNumber(o+7);const u=Rt.numBitsDiffering(t,l);u<r&&(i=o+7,r=u)}return r<=3?fe.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Ne(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let u=0;u<i;u++)o===0&&(u===0||u===i-1)||o===i-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),fe.VERSIONS=[new fe(1,new Int32Array(0),new B(7,new I(1,19)),new B(10,new I(1,16)),new B(13,new I(1,13)),new B(17,new I(1,9))),new fe(2,Int32Array.from([6,18]),new B(10,new I(1,34)),new B(16,new I(1,28)),new B(22,new I(1,22)),new B(28,new I(1,16))),new fe(3,Int32Array.from([6,22]),new B(15,new I(1,55)),new B(26,new I(1,44)),new B(18,new I(2,17)),new B(22,new I(2,13))),new fe(4,Int32Array.from([6,26]),new B(20,new I(1,80)),new B(18,new I(2,32)),new B(26,new I(2,24)),new B(16,new I(4,9))),new fe(5,Int32Array.from([6,30]),new B(26,new I(1,108)),new B(24,new I(2,43)),new B(18,new I(2,15),new I(2,16)),new B(22,new I(2,11),new I(2,12))),new fe(6,Int32Array.from([6,34]),new B(18,new I(2,68)),new B(16,new I(4,27)),new B(24,new I(4,19)),new B(28,new I(4,15))),new fe(7,Int32Array.from([6,22,38]),new B(20,new I(2,78)),new B(18,new I(4,31)),new B(18,new I(2,14),new I(4,15)),new B(26,new I(4,13),new I(1,14))),new fe(8,Int32Array.from([6,24,42]),new B(24,new I(2,97)),new B(22,new I(2,38),new I(2,39)),new B(22,new I(4,18),new I(2,19)),new B(26,new I(4,14),new I(2,15))),new fe(9,Int32Array.from([6,26,46]),new B(30,new I(2,116)),new B(22,new I(3,36),new I(2,37)),new B(20,new I(4,16),new I(4,17)),new B(24,new I(4,12),new I(4,13))),new fe(10,Int32Array.from([6,28,50]),new B(18,new I(2,68),new I(2,69)),new B(26,new I(4,43),new I(1,44)),new B(24,new I(6,19),new I(2,20)),new B(28,new I(6,15),new I(2,16))),new fe(11,Int32Array.from([6,30,54]),new B(20,new I(4,81)),new B(30,new I(1,50),new I(4,51)),new B(28,new I(4,22),new I(4,23)),new B(24,new I(3,12),new I(8,13))),new fe(12,Int32Array.from([6,32,58]),new B(24,new I(2,92),new I(2,93)),new B(22,new I(6,36),new I(2,37)),new B(26,new I(4,20),new I(6,21)),new B(28,new I(7,14),new I(4,15))),new fe(13,Int32Array.from([6,34,62]),new B(26,new I(4,107)),new B(22,new I(8,37),new I(1,38)),new B(24,new I(8,20),new I(4,21)),new B(22,new I(12,11),new I(4,12))),new fe(14,Int32Array.from([6,26,46,66]),new B(30,new I(3,115),new I(1,116)),new B(24,new I(4,40),new I(5,41)),new B(20,new I(11,16),new I(5,17)),new B(24,new I(11,12),new I(5,13))),new fe(15,Int32Array.from([6,26,48,70]),new B(22,new I(5,87),new I(1,88)),new B(24,new I(5,41),new I(5,42)),new B(30,new I(5,24),new I(7,25)),new B(24,new I(11,12),new I(7,13))),new fe(16,Int32Array.from([6,26,50,74]),new B(24,new I(5,98),new I(1,99)),new B(28,new I(7,45),new I(3,46)),new B(24,new I(15,19),new I(2,20)),new B(30,new I(3,15),new I(13,16))),new fe(17,Int32Array.from([6,30,54,78]),new B(28,new I(1,107),new I(5,108)),new B(28,new I(10,46),new I(1,47)),new B(28,new I(1,22),new I(15,23)),new B(28,new I(2,14),new I(17,15))),new fe(18,Int32Array.from([6,30,56,82]),new B(30,new I(5,120),new I(1,121)),new B(26,new I(9,43),new I(4,44)),new B(28,new I(17,22),new I(1,23)),new B(28,new I(2,14),new I(19,15))),new fe(19,Int32Array.from([6,30,58,86]),new B(28,new I(3,113),new I(4,114)),new B(26,new I(3,44),new I(11,45)),new B(26,new I(17,21),new I(4,22)),new B(26,new I(9,13),new I(16,14))),new fe(20,Int32Array.from([6,34,62,90]),new B(28,new I(3,107),new I(5,108)),new B(26,new I(3,41),new I(13,42)),new B(30,new I(15,24),new I(5,25)),new B(28,new I(15,15),new I(10,16))),new fe(21,Int32Array.from([6,28,50,72,94]),new B(28,new I(4,116),new I(4,117)),new B(26,new I(17,42)),new B(28,new I(17,22),new I(6,23)),new B(30,new I(19,16),new I(6,17))),new fe(22,Int32Array.from([6,26,50,74,98]),new B(28,new I(2,111),new I(7,112)),new B(28,new I(17,46)),new B(30,new I(7,24),new I(16,25)),new B(24,new I(34,13))),new fe(23,Int32Array.from([6,30,54,78,102]),new B(30,new I(4,121),new I(5,122)),new B(28,new I(4,47),new I(14,48)),new B(30,new I(11,24),new I(14,25)),new B(30,new I(16,15),new I(14,16))),new fe(24,Int32Array.from([6,28,54,80,106]),new B(30,new I(6,117),new I(4,118)),new B(28,new I(6,45),new I(14,46)),new B(30,new I(11,24),new I(16,25)),new B(30,new I(30,16),new I(2,17))),new fe(25,Int32Array.from([6,32,58,84,110]),new B(26,new I(8,106),new I(4,107)),new B(28,new I(8,47),new I(13,48)),new B(30,new I(7,24),new I(22,25)),new B(30,new I(22,15),new I(13,16))),new fe(26,Int32Array.from([6,30,58,86,114]),new B(28,new I(10,114),new I(2,115)),new B(28,new I(19,46),new I(4,47)),new B(28,new I(28,22),new I(6,23)),new B(30,new I(33,16),new I(4,17))),new fe(27,Int32Array.from([6,34,62,90,118]),new B(30,new I(8,122),new I(4,123)),new B(28,new I(22,45),new I(3,46)),new B(30,new I(8,23),new I(26,24)),new B(30,new I(12,15),new I(28,16))),new fe(28,Int32Array.from([6,26,50,74,98,122]),new B(30,new I(3,117),new I(10,118)),new B(28,new I(3,45),new I(23,46)),new B(30,new I(4,24),new I(31,25)),new B(30,new I(11,15),new I(31,16))),new fe(29,Int32Array.from([6,30,54,78,102,126]),new B(30,new I(7,116),new I(7,117)),new B(28,new I(21,45),new I(7,46)),new B(30,new I(1,23),new I(37,24)),new B(30,new I(19,15),new I(26,16))),new fe(30,Int32Array.from([6,26,52,78,104,130]),new B(30,new I(5,115),new I(10,116)),new B(28,new I(19,47),new I(10,48)),new B(30,new I(15,24),new I(25,25)),new B(30,new I(23,15),new I(25,16))),new fe(31,Int32Array.from([6,30,56,82,108,134]),new B(30,new I(13,115),new I(3,116)),new B(28,new I(2,46),new I(29,47)),new B(30,new I(42,24),new I(1,25)),new B(30,new I(23,15),new I(28,16))),new fe(32,Int32Array.from([6,34,60,86,112,138]),new B(30,new I(17,115)),new B(28,new I(10,46),new I(23,47)),new B(30,new I(10,24),new I(35,25)),new B(30,new I(19,15),new I(35,16))),new fe(33,Int32Array.from([6,30,58,86,114,142]),new B(30,new I(17,115),new I(1,116)),new B(28,new I(14,46),new I(21,47)),new B(30,new I(29,24),new I(19,25)),new B(30,new I(11,15),new I(46,16))),new fe(34,Int32Array.from([6,34,62,90,118,146]),new B(30,new I(13,115),new I(6,116)),new B(28,new I(14,46),new I(23,47)),new B(30,new I(44,24),new I(7,25)),new B(30,new I(59,16),new I(1,17))),new fe(35,Int32Array.from([6,30,54,78,102,126,150]),new B(30,new I(12,121),new I(7,122)),new B(28,new I(12,47),new I(26,48)),new B(30,new I(39,24),new I(14,25)),new B(30,new I(22,15),new I(41,16))),new fe(36,Int32Array.from([6,24,50,76,102,128,154]),new B(30,new I(6,121),new I(14,122)),new B(28,new I(6,47),new I(34,48)),new B(30,new I(46,24),new I(10,25)),new B(30,new I(2,15),new I(64,16))),new fe(37,Int32Array.from([6,28,54,80,106,132,158]),new B(30,new I(17,122),new I(4,123)),new B(28,new I(29,46),new I(14,47)),new B(30,new I(49,24),new I(10,25)),new B(30,new I(24,15),new I(46,16))),new fe(38,Int32Array.from([6,32,58,84,110,136,162]),new B(30,new I(4,122),new I(18,123)),new B(28,new I(13,46),new I(32,47)),new B(30,new I(48,24),new I(14,25)),new B(30,new I(42,15),new I(32,16))),new fe(39,Int32Array.from([6,26,54,82,110,138,166]),new B(30,new I(20,117),new I(4,118)),new B(28,new I(40,47),new I(7,48)),new B(30,new I(43,24),new I(22,25)),new B(30,new I(10,15),new I(67,16))),new fe(40,Int32Array.from([6,30,58,86,114,142,170]),new B(30,new I(19,118),new I(6,119)),new B(28,new I(18,47),new I(31,48)),new B(30,new I(34,24),new I(34,25)),new B(30,new I(20,15),new I(61,16)))];var mt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(mt||(mt={}));class an{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&t.flip(o,i)}}an.values=new Map([[mt.DATA_MASK_000,new an(mt.DATA_MASK_000,(E,t)=>(E+t&1)===0)],[mt.DATA_MASK_001,new an(mt.DATA_MASK_001,(E,t)=>(E&1)===0)],[mt.DATA_MASK_010,new an(mt.DATA_MASK_010,(E,t)=>t%3===0)],[mt.DATA_MASK_011,new an(mt.DATA_MASK_011,(E,t)=>(E+t)%3===0)],[mt.DATA_MASK_100,new an(mt.DATA_MASK_100,(E,t)=>(Math.floor(E/2)+Math.floor(t/3)&1)===0)],[mt.DATA_MASK_101,new an(mt.DATA_MASK_101,(E,t)=>E*t%6===0)],[mt.DATA_MASK_110,new an(mt.DATA_MASK_110,(E,t)=>E*t%6<3)],[mt.DATA_MASK_111,new an(mt.DATA_MASK_111,(E,t)=>(E+t+E*t%3&1)===0)]]);class ah{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new L;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let l=r-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=Rt.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return fe.getVersionForNumber(r);let i=0;const o=t-11;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)i=this.copyBit(f,u,i);let l=fe.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;i=0;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)i=this.copyBit(u,f,i);if(l=fe.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new L}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=an.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let u=!0;const f=new Uint8Array(r.getTotalCodewords());let h=0,g=0,p=0;for(let C=o-1;C>0;C-=2){C===6&&C--;for(let A=0;A<o;A++){const T=u?o-1-A:A;for(let O=0;O<2;O++)l.get(C-O,T)||(p++,g<<=1,this.bitMatrix.get(C-O,T)&&(g|=1),p===8&&(f[h++]=g,p=0,g=0))}u=!u}if(h!==r.getTotalCodewords())throw new L;return f}remask(){if(this.parsedFormatInfo===null)return;const t=an.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class Ul{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new S;const o=r.getECBlocksForLevel(i);let l=0;const u=o.getECBlocks();for(const O of u)l+=O.getCount();const f=new Array(l);let h=0;for(const O of u)for(let D=0;D<O.getCount();D++){const k=O.getDataCodewords(),W=o.getECCodewordsPerBlock()+k;f[h++]=new Ul(k,new Uint8Array(W))}const g=f[0].codewords.length;let p=f.length-1;for(;p>=0&&f[p].codewords.length!==g;)p--;p++;const C=g-o.getECCodewordsPerBlock();let A=0;for(let O=0;O<C;O++)for(let D=0;D<h;D++)f[D].codewords[O]=t[A++];for(let O=p;O<h;O++)f[O].codewords[C]=t[A++];const T=f[0].codewords.length;for(let O=C;O<T;O++)for(let D=0;D<h;D++){const k=D<p?O:O+1;f[D].codewords[k]=t[A++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var un;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(un||(un={}));class de{constructor(t,r,i,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,de.FOR_BITS.set(o,this),de.FOR_VALUE.set(t,this)}static forBits(t){const r=de.FOR_BITS.get(t);if(r===void 0)throw new S;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof de))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}de.FOR_BITS=new Map,de.FOR_VALUE=new Map,de.TERMINATOR=new de(un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),de.NUMERIC=new de(un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),de.ALPHANUMERIC=new de(un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),de.STRUCTURED_APPEND=new de(un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),de.BYTE=new de(un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),de.ECI=new de(un.ECI,"ECI",Int32Array.from([0,0,0]),7),de.KANJI=new de(un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),de.FNC1_FIRST_POSITION=new de(un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),de.FNC1_SECOND_POSITION=new de(un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),de.HANZI=new de(un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Qe{static decode(t,r,i,o){const l=new Fl(t);let u=new Ee;const f=new Array;let h=-1,g=-1;try{let p=null,C=!1,A;do{if(l.available()<4)A=de.TERMINATOR;else{const T=l.readBits(4);A=de.forBits(T)}switch(A){case de.TERMINATOR:break;case de.FNC1_FIRST_POSITION:case de.FNC1_SECOND_POSITION:C=!0;break;case de.STRUCTURED_APPEND:if(l.available()<16)throw new L;h=l.readBits(8),g=l.readBits(8);break;case de.ECI:const T=Qe.parseECIValue(l);if(p=G.getCharacterSetECIByValue(T),p===null)throw new L;break;case de.HANZI:const O=l.readBits(4),D=l.readBits(A.getCharacterCountBits(r));O===Qe.GB2312_SUBSET&&Qe.decodeHanziSegment(l,u,D);break;default:const k=l.readBits(A.getCharacterCountBits(r));switch(A){case de.NUMERIC:Qe.decodeNumericSegment(l,u,k);break;case de.ALPHANUMERIC:Qe.decodeAlphanumericSegment(l,u,k,C);break;case de.BYTE:Qe.decodeByteSegment(l,u,k,p,f,o);break;case de.KANJI:Qe.decodeKanjiSegment(l,u,k);break;default:throw new L}break}}while(A!==de.TERMINATOR)}catch{throw new L}return new Ui(t,u.toString(),f.length===0?null:f,i===null?null:i.toString(),h,g)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new L;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,o[l]=f>>8&255,o[l+1]=f&255,l+=2,i--}try{r.append(ce.decode(o,re.GB2312))}catch(u){throw new L(u)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new L;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,o[l]=f>>8,o[l+1]=f,l+=2,i--}try{r.append(ce.decode(o,re.SHIFT_JIS))}catch(u){throw new L(u)}}static decodeByteSegment(t,r,i,o,l,u){if(8*i>t.available())throw new L;const f=new Uint8Array(i);for(let g=0;g<i;g++)f[g]=t.readBits(8);let h;o===null?h=re.guessEncoding(f,u):h=o.getName();try{r.append(ce.decode(f,h))}catch(g){throw new L(g)}l.push(f)}static toAlphaNumericChar(t){if(t>=Qe.ALPHANUMERIC_CHARS.length)throw new L;return Qe.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,o){const l=r.length();for(;i>1;){if(t.available()<11)throw new L;const u=t.readBits(11);r.append(Qe.toAlphaNumericChar(Math.floor(u/45))),r.append(Qe.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(t.available()<6)throw new L;r.append(Qe.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new L;const o=t.readBits(10);if(o>=1e3)throw new L;r.append(Qe.toAlphaNumericChar(Math.floor(o/100))),r.append(Qe.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Qe.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new L;const o=t.readBits(7);if(o>=100)throw new L;r.append(Qe.toAlphaNumericChar(Math.floor(o/10))),r.append(Qe.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new L;const o=t.readBits(4);if(o>=10)throw new L;r.append(Qe.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new L}}Qe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Qe.GB2312_SUBSET=1;class Ic{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class uh{constructor(){this.rsDecoder=new Vi(be.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Ne.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new ah(t);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new Ic(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Ul.getDataBlocks(l,i,o);let f=0;for(const p of u)f+=p.getNumDataCodewords();const h=new Uint8Array(f);let g=0;for(const p of u){const C=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(C,A);for(let T=0;T<A;T++)h[g++]=C[T]}return Qe.decode(h,i,o,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new F}for(let o=0;o<r;o++)t[o]=i[o]}}class jl extends le{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new jl(o,l,u)}}class $s{constructor(t,r,i,o,l,u,f){this.image=t,this.startX=r,this.startY=i,this.width=o,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,o=t+i,l=this.startY+r/2,u=new Int32Array(3),f=this.image;for(let h=0;h<r;h++){const g=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let p=t;for(;p<o&&!f.get(p,g);)p++;let C=0;for(;p<o;){if(f.get(p,g))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,p);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;p++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,o);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new z}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=i)return!1;return!0}crossCheckVertical(t,r,i,o){const l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&!l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h)&&f[1]<=i;)f[1]++,h++;if(h===u||f[1]>i)return NaN;for(;h<u&&!l.get(r,h)&&f[2]<=i;)f[2]++,h++;if(f[2]>i)return NaN;const g=f[0]+f[1]+f[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(f)?$s.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i){const o=t[0]+t[1]+t[2],l=$s.centerFromEnd(t,i),u=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(u)){const f=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(f,u,l))return g.combineEstimate(u,l,f);const h=new jl(l,u,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Vl extends le{constructor(t,r,i,o){super(t,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new Vl(l,u,f,o)}}class ch{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Z.TRY_HARDER)!==void 0,i=t!=null&&t.get(Z.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),u=o.getWidth();let f=Math.floor(3*l/(4*wt.MAX_MODULES));(f<wt.MIN_SKIP||r)&&(f=wt.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let C=f-1;C<l&&!h;C+=f){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let A=0;for(let T=0;T<u;T++)if(o.get(T,C))(A&1)===1&&A++,g[A]++;else if(A&1)g[A]++;else if(A===4)if(wt.foundPatternCross(g)){if(this.handlePossibleCenter(g,C,T,i)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>g[2]&&(C+=D-g[2]-f,T=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;continue}A=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;else g[++A]++;wt.foundPatternCross(g)&&this.handlePossibleCenter(g,C,u,i)===!0&&(f=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return le.orderBestPatterns(p),new ch(p)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,o){const l=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;t>=u&&r>=u&&f.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!f.get(r-u,t-u)&&l[1]<=i;)l[1]++,u++;if(t<u||r<u||l[1]>i)return!1;for(;t>=u&&r>=u&&f.get(r-u,t-u)&&l[0]<=i;)l[0]++,u++;if(l[0]>i)return!1;const h=f.getHeight(),g=f.getWidth();for(u=1;t+u<h&&r+u<g&&f.get(r+u,t+u);)l[2]++,u++;if(t+u>=h||r+u>=g)return!1;for(;t+u<h&&r+u<g&&!f.get(r+u,t+u)&&l[3]<i;)l[3]++,u++;if(t+u>=h||r+u>=g||l[3]>=i)return!1;for(;t+u<h&&r+u<g&&f.get(r+u,t+u)&&l[4]<i;)l[4]++,u++;if(l[4]>=i)return!1;const p=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(p-o)<2*o&&wt.foundPatternCross(l)}crossCheckVertical(t,r,i,o){const l=this.image,u=l.getHeight(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(r,h)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=2*o?NaN:wt.foundPatternCross(f)?wt.centerFromEnd(f,h):NaN}crossCheckHorizontal(t,r,i,o){const l=this.image,u=l.getWidth(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(h,r)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(h,r);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(h,r)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=o?NaN:wt.foundPatternCross(f)?wt.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=wt.centerFromEnd(t,i),f=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),t[2],l),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),t[2],l)))){const h=l/7;let g=!1;const p=this.possibleCenters;for(let C=0,A=p.length;C<A;C++){const T=p[C];if(T.aboutEquals(h,f,u)){p[C]=T.combineEstimate(f,u,h),g=!0;break}}if(!g){const C=new Vl(u,f,h);p.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=wt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=wt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/i;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new z;const r=this.possibleCenters;let i;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();o+=g,l+=g*g}i=o/t;let u=Math.sqrt(l/t-i*i);r.sort((h,g)=>{const p=Math.abs(g.getEstimatedModuleSize()-i),C=Math.abs(h.getEstimatedModuleSize()-i);return p<C?-1:p>C?1:0});const f=Math.max(.2*i,u);for(let h=0;h<r.length&&r.length>3;h++){const g=r[h];Math.abs(g.getEstimatedModuleSize()-i)>f&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();i=o/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-i),h=Math.abs(l.getEstimatedModuleSize()-i);return f<h?1:f>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class zi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Z.NEED_RESULT_POINT_CALLBACK);const i=new wt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,i,o);if(l<1)throw new z("No pattern found in proccess finder.");const u=zi.computeDimension(r,i,o,l),f=fe.getProvisionalVersionForDimension(u),h=f.getDimensionForVersion()-7;let g=null;if(f.getAlignmentPatternCenters().length>0){const T=i.getX()-r.getX()+o.getX(),O=i.getY()-r.getY()+o.getY(),D=1-3/h,k=Math.floor(r.getX()+D*(T-r.getX())),W=Math.floor(r.getY()+D*(O-r.getY()));for(let J=4;J<=16;J<<=1)try{g=this.findAlignmentInRegion(l,k,W,J);break}catch(ee){if(!(ee instanceof z))throw ee}}const p=zi.createTransform(r,i,o,g,u),C=zi.sampleGrid(this.image,p,u);let A;return g===null?A=[o,r,i]:A=[o,r,i,g],new Zs(C,A)}static createTransform(t,r,i,o,l){const u=l-3.5;let f,h,g,p;return o!==null?(f=o.getX(),h=o.getY(),g=u-3,p=g):(f=r.getX()-t.getX()+i.getX(),h=r.getY()-t.getY()+i.getY(),g=u,p=u),mn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,p,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),f,h,i.getX(),i.getY())}static sampleGrid(t,r,i){return Jn.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,o){const l=Te.round(le.distance(t,r)/o),u=Te.round(le.distance(t,i)/o);let f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new z("Dimensions could be not found.")}return f}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,i,o),u=1,f=t-(i-t);f<0?(u=t/(t-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),f=Math.floor(t+(f-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,f,h),l-1}sizeOfBlackWhiteBlackRun(t,r,i,o){const l=Math.abs(o-r)>Math.abs(i-t);if(l){let T=t;t=r,r=T,T=i,i=o,o=T}const u=Math.abs(i-t),f=Math.abs(o-r);let h=-u/2;const g=t<i?1:-1,p=r<o?1:-1;let C=0;const A=i+g;for(let T=t,O=r;T!==A;T+=g){const D=l?O:T,k=l?T:O;if(C===1===this.image.get(D,k)){if(C===2)return Te.distance(T,O,t,r);C++}if(h+=f,h>0){if(O===o)break;O+=p,h-=u}}return C===2?Te.distance(i+g,o,t,r):NaN}findAlignmentInRegion(t,r,i,o){const l=Math.floor(o*t),u=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-u<t*3)throw new z("Alignment top exceeds estimated module size.");const h=Math.max(0,i-l),g=Math.min(this.image.getHeight()-1,i+l);if(g-h<t*3)throw new z("Alignment bottom exceeds estimated module size.");return new $s(this.image,u,h,f-u,g-h,t,this.resultPointCallback).find()}}class nr{constructor(){this.decoder=new uh}getDecoder(){return this.decoder}decode(t,r){let i,o;if(r!=null&&r.get(Z.PURE_BARCODE)!==void 0){const h=nr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,r),o=nr.NO_POINTS}else{const h=new zi(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}i.getOther()instanceof Ic&&i.getOther().applyMirroredCorrection(o);const l=new Ke(i.getText(),i.getRawBytes(),void 0,o,ue.QR_CODE,void 0),u=i.getByteSegments();u!==null&&l.putMetadata(pt.BYTE_SEGMENTS,u);const f=i.getECLevel();return f!==null&&l.putMetadata(pt.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(l.putMetadata(pt.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(pt.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new z;const o=this.moduleSize(r,t);let l=r[1],u=i[1],f=r[0],h=i[0];if(f>=h||l>=u)throw new z;if(u-l!==h-f&&(h=f+(u-l),h>=t.getWidth()))throw new z;const g=Math.round((h-f+1)/o),p=Math.round((u-l+1)/o);if(g<=0||p<=0)throw new z;if(p!==g)throw new z;const C=Math.floor(o/2);l+=C,f+=C;const A=f+Math.floor((g-1)*o)-h;if(A>0){if(A>C)throw new z;f-=A}const T=l+Math.floor((p-1)*o)-u;if(T>0){if(T>C)throw new z;l-=T}const O=new Ne(g,p);for(let D=0;D<p;D++){const k=l+Math.floor(D*o);for(let W=0;W<g;W++)t.get(f+Math.floor(W*o),k)&&O.set(W,D)}return O}static moduleSize(t,r){const i=r.getHeight(),o=r.getWidth();let l=t[0],u=t[1],f=!0,h=0;for(;l<o&&u<i;){if(f!==r.get(l,u)){if(++h===5)break;f=!f}l++,u++}if(l===o||u===i)throw new z;return(l-t[0])/7}}nr.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(t){return Te.sum(t)}static toIntArray(t){if(t==null||!t.length)return xe.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const o of t)r[i++]=o;return r}static getCodeword(t){const r=v.binarySearch(xe.SYMBOL_TABLE,t&262143);return r<0?-1:(xe.CODEWORD_TABLE[r]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ye{static detectMultiple(t,r,i){let o=t.getBlackMatrix(),l=ye.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=ye.detect(i,o)),new fh(o,l)}static detect(t,r){const i=new Array;let o=0,l=0,u=!1;for(;o<r.getHeight();){const f=ye.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(const h of i)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=ye.ROW_STEP;continue}if(u=!0,i.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return i}static findVertices(t,r,i){const o=t.getHeight(),l=t.getWidth(),u=new Array(8);return ye.copyToResult(u,ye.findRowsWithPattern(t,o,l,r,i,ye.START_PATTERN),ye.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),ye.copyToResult(u,ye.findRowsWithPattern(t,o,l,r,i,ye.STOP_PATTERN),ye.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,i){for(let o=0;o<i.length;o++)t[i[o]]=r[o]}static findRowsWithPattern(t,r,i,o,l,u){const f=new Array(4);let h=!1;const g=new Int32Array(u.length);for(;o<r;o+=ye.ROW_STEP){let C=ye.findGuardPattern(t,l,o,i,!1,u,g);if(C!=null){for(;o>0;){const A=ye.findGuardPattern(t,l,--o,i,!1,u,g);if(A!=null)C=A;else{o++;break}}f[0]=new le(C[0],o),f[1]=new le(C[1],o),h=!0;break}}let p=o+1;if(h){let C=0,A=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;p<r;p++){const T=ye.findGuardPattern(t,A[0],p,i,!1,u,g);if(T!=null&&Math.abs(A[0]-T[0])<ye.MAX_PATTERN_DRIFT&&Math.abs(A[1]-T[1])<ye.MAX_PATTERN_DRIFT)A=T,C=0;else{if(C>ye.SKIPPED_ROW_COUNT_MAX)break;C++}}p-=C+1,f[2]=new le(A[0],p),f[3]=new le(A[1],p)}return p-o<ye.BARCODE_MIN_HEIGHT&&v.fill(f,null),f}static findGuardPattern(t,r,i,o,l,u,f){v.fillWithin(f,0,f.length,0);let h=r,g=0;for(;t.get(h,i)&&h>0&&g++<ye.MAX_PIXEL_DRIFT;)h--;let p=h,C=0,A=u.length;for(let T=l;p<o;p++)if(t.get(p,i)!==T)f[C]++;else{if(C===A-1){if(ye.patternMatchVariance(f,u,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE)return new Int32Array([h,p]);h+=f[0]+f[1],j.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,T=!T}return C===A-1&&ye.patternMatchVariance(f,u,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE?new Int32Array([h,p-1]):null}static patternMatchVariance(t,r,i){let o=t.length,l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return 1/0;let f=l/u;i*=f;let h=0;for(let g=0;g<o;g++){let p=t[g],C=r[g]*f,A=p>C?p-C:C-p;if(A>i)return 1/0;h+=A}return h/l}}ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ye.MAX_AVG_VARIANCE=.42,ye.MAX_INDIVIDUAL_VARIANCE=.8,ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ye.MAX_PIXEL_DRIFT=3,ye.MAX_PATTERN_DRIFT=5,ye.SKIPPED_ROW_COUNT_MAX=25,ye.ROW_STEP=5,ye.BARCODE_MIN_HEIGHT=10;class At{constructor(t,r){if(r.length===0)throw new S;this.field=t;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),j.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let u=r;r=i,i=u}let o=new Int32Array(i.length),l=i.length-r.length;j.arraycopy(i,0,o,0,l);for(let u=l;u<i.length;u++)o[u]=this.field.add(r[u-l],i[u]);return new At(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof At?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new At(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=t.coefficients,l=o.length,u=new Int32Array(i+l-1);for(let f=0;f<i;f++){let h=r[f];for(let g=0;g<l;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(h,o[g]))}return new At(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new At(this.field,r)}multiplyScalar(t){if(t===0)return new At(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new At(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return new At(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new At(this.field,o)}toString(){let t=new Ee;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class dh{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}inverse(t){if(t===0)throw new Xs;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Wl extends dh{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new At(this,new Int32Array([0])),this.one=new At(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new At(this,i)}}Wl.PDF417_GF=new Wl(xe.NUMBER_OF_CODEWORDS,3);class Nc{constructor(){this.field=Wl.PDF417_GF}decode(t,r,i){let o=new At(this.field,t),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let D=o.evaluateAt(this.field.exp(O));l[r-O]=D,D!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(i!=null)for(const O of i){let D=this.field.exp(t.length-1-O),k=new At(this.field,new Int32Array([this.field.subtract(0,D),1]));f=f.multiply(k)}let h=new At(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),p=g[0],C=g[1],A=this.findErrorLocations(p),T=this.findErrorMagnitudes(C,p,A);for(let O=0;O<A.length;O++){let D=t.length-1-this.field.log(A[O]);if(D<0)throw F.getChecksumInstance();t[D]=this.field.subtract(t[D],T[O])}return A.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let o=t,l=r,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let A=o,T=u;if(o=l,u=f,o.isZero())throw F.getChecksumInstance();l=A;let O=this.field.getZero(),D=o.getCoefficient(o.getDegree()),k=this.field.inverse(D);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let W=l.getDegree()-o.getDegree(),J=this.field.multiply(l.getCoefficient(l.getDegree()),k);O=O.add(this.field.buildMonomial(W,J)),l=l.subtract(o.multiplyByMonomial(W,J))}f=O.multiply(u).subtract(T).negative()}let h=f.getCoefficient(0);if(h===0)throw F.getChecksumInstance();let g=this.field.inverse(h),p=f.multiply(g),C=l.multiply(g);return[p,C]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==r)throw F.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let o=r.getDegree(),l=new Int32Array(o);for(let g=1;g<=o;g++)l[o-g]=this.field.multiply(g,r.getCoefficient(g));let u=new At(this.field,l),f=i.length,h=new Int32Array(f);for(let g=0;g<f;g++){let p=this.field.inverse(i[g]),C=this.field.subtract(0,t.evaluateAt(p)),A=this.field.inverse(u.evaluateAt(p));h[g]=this.field.multiply(C,A)}return h}}class Dr{constructor(t,r,i,o,l){t instanceof Dr?this.constructor_2(t):this.constructor_1(t,r,i,o,l)}constructor_1(t,r,i,o,l){const u=r==null||i==null,f=o==null||l==null;if(u&&f)throw new z;u?(r=new le(0,o.getY()),i=new le(0,l.getY())):f&&(o=new le(t.getWidth()-1,r.getY()),l=new le(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Dr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let o=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(t>0){let h=i?this.topLeft:this.topRight,g=Math.trunc(h.getY()-t);g<0&&(g=0);let p=new le(h.getX(),g);i?o=p:u=p}if(r>0){let h=i?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let p=new le(h.getX(),g);i?l=p:f=p}return new Dr(this.image,o,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class hh{constructor(t,r,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hi{constructor(){this.buffer=""}static form(t,r){let i=-1;function o(u,f,h,g,p,C){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,T;switch(C){case"s":T=r[i];break;case"c":T=r[i][0];break;case"f":T=parseFloat(r[i]).toFixed(u);break;case"p":T=parseFloat(r[i]).toPrecision(u);break;case"e":T=parseFloat(r[i]).toExponential(u);break;case"x":T=parseInt(r[i]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[i],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;T.length<O;)T=f!==void 0?T+D:D+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=Hi.form(t,r)}toString(){return this.buffer}}class Gi{constructor(t){this.boundingBox=new Dr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<Gi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Hi;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}Gi.MAX_NEARBY_DISTANCE=5;class Xi{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return xe.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Tc extends Gi{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,g=1,p=0;for(let C=u;C<f;C++){if(r[C]==null)continue;let A=r[C],T=A.getRowNumber()-h;if(T===0)p++;else if(T===1)g=Math.max(g,p),p=1,h=A.getRowNumber();else if(T<0||A.getRowNumber()>=t.getRowCount()||T>C)r[C]=null;else{let O;g>2?O=(g-2)*T:O=T;let D=O>=C;for(let k=1;k<=O&&!D;k++)D=r[C-k]!=null;D?r[C]=null:(h=A.getRowNumber(),p=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),h=-1;for(let g=l;g<u;g++){if(f[g]==null)continue;let p=f[g];p.setRowNumberAsRowIndicatorColumn();let C=p.getRowNumber()-h;C===0||(C===1?h=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?f[g]=null:h=p.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new Xi,i=new Xi,o=new Xi,l=new Xi;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let u=new hh(r.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:l+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Yi{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=xe.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(t[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=Yi.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=Yi.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let o=i[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=i[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=i[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<i.length-1&&(f[1]=i[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<i.length-2&&(f[9]=i[r+2],f[12]=l[r+2],f[13]=u[r+2]);for(let h of f)if(Yi.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Hi;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class Zi{constructor(t,r,i,o){this.rowNumber=Zi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Zi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Zi.BARCODE_ROW_UNKNOWN=-1;class zt{static initialize(){for(let t=0;t<xe.SYMBOL_TABLE.length;t++){let r=xe.SYMBOL_TABLE[t],i=r&1;for(let o=0;o<xe.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,zt.RATIOS_TABLE[t]||(zt.RATIOS_TABLE[t]=new Array(xe.BARS_IN_MODULE)),zt.RATIOS_TABLE[t][xe.BARS_IN_MODULE-o-1]=Math.fround(l/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=zt.getDecodedCodewordValue(zt.sampleBitCounts(t));return r!==-1?r:zt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Te.sum(t),i=new Int32Array(xe.BARS_IN_MODULE),o=0,l=0;for(let u=0;u<xe.MODULES_IN_CODEWORD;u++){let f=r/(2*xe.MODULES_IN_CODEWORD)+u*r/xe.MODULES_IN_CODEWORD;l+t[o]<=f&&(l+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let r=zt.getBitValue(t);return xe.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Te.sum(t),i=new Array(xe.BARS_IN_MODULE);if(r>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(t[u]/r);let o=Ys.MAX_VALUE,l=-1;this.bSymbolTableReady||zt.initialize();for(let u=0;u<zt.RATIOS_TABLE.length;u++){let f=0,h=zt.RATIOS_TABLE[u];for(let g=0;g<xe.BARS_IN_MODULE;g++){let p=Math.fround(h[g]-i[g]);if(f+=Math.fround(p*p),f>=o)break}f<o&&(o=f,l=xe.SYMBOL_TABLE[u])}return l}}zt.bSymbolTableReady=!1,zt.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(E=>new Array(xe.BARS_IN_MODULE));class _c{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Rc{static parseLong(t,r=void 0){return parseInt(t,r)}}class bc extends m{}bc.kind="NullPointerException";class gh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new bc;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new $;if(i===0)return;for(let o=0;o<i;o++)this.write(t[r+o])}flush(){}close(){}}class xh extends m{}class ph extends gh{constructor(t=32){if(super(),this.count=0,t<0)throw new S("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new xh;i=N.MAX_VALUE}this.buf=v.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new $;this.ensureCapacity(this.count+i),j.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return v.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Pe;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pe||(Pe={}));function Oc(){if(typeof window<"u")return window.BigInt||null;if(typeof qi<"u")return qi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let eo;function rr(E){if(typeof eo>"u"&&(eo=Oc()),eo===null)throw new Error("BigInt is not supported!");return eo(E)}function mh(){let E=[];E[0]=rr(1);let t=rr(900);E[1]=t;for(let r=2;r<16;r++)E[r]=E[r-1]*t;return E}class V{static decode(t,r){let i=new Ee(""),o=G.ISO8859_1;i.enableDecoding(o);let l=1,u=t[l++],f=new _c;for(;l<t[0];){switch(u){case V.TEXT_COMPACTION_MODE_LATCH:l=V.textCompaction(t,l,i);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:l=V.byteCompaction(u,t,o,l,i);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:l=V.numericCompaction(t,l,i);break;case V.ECI_CHARSET:G.getCharacterSetECIByValue(t[l++]);break;case V.ECI_GENERAL_PURPOSE:l+=2;break;case V.ECI_USER_DEFINED:l++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=V.decodeMacroBlock(t,l,f);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new L;default:l--,l=V.textCompaction(t,l,i);break}if(l<t.length)u=t[l++];else throw L.getFormatInstance()}if(i.length()===0)throw L.getFormatInstance();let h=new Ui(null,i.toString(),null,r);return h.setOther(f),h}static decodeMacroBlock(t,r,i){if(r+V.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw L.getFormatInstance();let o=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<V.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)o[f]=t[r];i.setSegmentIndex(N.parseInt(V.decodeBase900toBase10(o,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ee;r=V.textCompaction(t,r,l),i.setFileId(l.toString());let u=-1;for(t[r]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Ee;r=V.textCompaction(t,r+1,f),i.setFileName(f.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Ee;r=V.textCompaction(t,r+1,h),i.setSender(h.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Ee;r=V.textCompaction(t,r+1,g),i.setAddressee(g.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new Ee;r=V.numericCompaction(t,r+1,p),i.setSegmentCount(N.parseInt(p.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Ee;r=V.numericCompaction(t,r+1,C),i.setTimestamp(Rc.parseLong(C.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new Ee;r=V.numericCompaction(t,r+1,A),i.setChecksum(N.parseInt(A.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new Ee;r=V.numericCompaction(t,r+1,T),i.setFileSize(Rc.parseLong(T.toString()));break;default:throw L.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(u!==-1){let f=r-u;i.isLastSegment()&&f--,i.setOptionalData(v.copyOfRange(t,u,u+f))}return r}static textCompaction(t,r,i){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,f=!1;for(;r<t[0]&&!f;){let h=t[r++];if(h<V.TEXT_COMPACTION_MODE_LATCH)o[u]=h/30,o[u+1]=h%30,u+=2;else switch(h){case V.TEXT_COMPACTION_MODE_LATCH:o[u++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[u]=h,u++;break}}return V.decodeTextCompaction(o,l,u,i),r}static decodeTextCompaction(t,r,i,o){let l=Pe.ALPHA,u=Pe.ALPHA,f=0;for(;f<i;){let h=t[f],g="";switch(l){case Pe.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case V.LL:l=Pe.LOWER;break;case V.ML:l=Pe.MIXED;break;case V.PS:u=l,l=Pe.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Pe.ALPHA;break}break;case Pe.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case V.AS:u=l,l=Pe.ALPHA_SHIFT;break;case V.ML:l=Pe.MIXED;break;case V.PS:u=l,l=Pe.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Pe.ALPHA;break}break;case Pe.MIXED:if(h<V.PL)g=V.MIXED_CHARS[h];else switch(h){case V.PL:l=Pe.PUNCT;break;case 26:g=" ";break;case V.LL:l=Pe.LOWER;break;case V.AL:l=Pe.ALPHA;break;case V.PS:u=l,l=Pe.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Pe.ALPHA;break}break;case Pe.PUNCT:if(h<V.PAL)g=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Pe.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Pe.ALPHA;break}break;case Pe.ALPHA_SHIFT:if(l=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:l=Pe.ALPHA;break}break;case Pe.PUNCT_SHIFT:if(l=u,h<V.PAL)g=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Pe.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Pe.ALPHA;break}break}g!==""&&o.append(g),f++}}static byteCompaction(t,r,i,o,l){let u=new ph,f=0,h=0,g=!1;switch(t){case V.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),C=r[o++];for(;o<r[0]&&!g;)switch(p[f++]=C,h=900*h+C,C=r[o++],C){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(f%5===0&&f>0){for(let A=0;A<6;++A)u.write(Number(rr(h)>>rr(8*(5-A))));h=0,f=0}break}o===r[0]&&C<V.TEXT_COMPACTION_MODE_LATCH&&(p[f++]=C);for(let A=0;A<f;A++)u.write(p[A]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let A=r[o++];if(A<V.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+A;else switch(A){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(f%5===0&&f>0){for(let T=0;T<6;++T)u.write(Number(rr(h)>>rr(8*(5-T))));h=0,f=0}}break}return l.append(ce.decode(u.toByteArray(),i)),o}static numericCompaction(t,r,i){let o=0,l=!1,u=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let f=t[r++];if(r===t[0]&&(l=!0),f<V.TEXT_COMPACTION_MODE_LATCH)u[o]=f,o++;else switch(f){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%V.MAX_NUMERIC_CODEWORDS===0||f===V.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append(V.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let i=rr(0);for(let l=0;l<r;l++)i+=V.EXP900[r-l-1]*rr(t[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new L;return o.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=Oc()?mh():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ce{constructor(){}static decode(t,r,i,o,l,u,f){let h=new Dr(t,r,i,o,l),g=null,p=null,C;for(let O=!0;;O=!1){if(r!=null&&(g=Ce.getRowIndicatorColumn(t,h,r,!0,u,f)),o!=null&&(p=Ce.getRowIndicatorColumn(t,h,o,!1,u,f)),C=Ce.merge(g,p),C==null)throw z.getNotFoundInstance();let D=C.getBoundingBox();if(O&&D!=null&&(D.getMinY()<h.getMinY()||D.getMaxY()>h.getMaxY()))h=D;else break}C.setBoundingBox(h);let A=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,g),C.setDetectionResultColumn(A,p);let T=g!=null;for(let O=1;O<=A;O++){let D=T?O:A-O;if(C.getDetectionResultColumn(D)!==void 0)continue;let k;D===0||D===A?k=new Tc(h,D===0):k=new Gi(h),C.setDetectionResultColumn(D,k);let W=-1,J=W;for(let ee=h.getMinY();ee<=h.getMaxY();ee++){if(W=Ce.getStartColumn(C,D,ee,T),W<0||W>h.getMaxX()){if(J===-1)continue;W=J}let K=Ce.detectCodeword(t,h.getMinX(),h.getMaxX(),T,W,ee,u,f);K!=null&&(k.setCodeword(ee,K),J=W,u=Math.min(u,K.getWidth()),f=Math.max(f,K.getWidth()))}}return Ce.createDecoderResult(C)}static merge(t,r){if(t==null&&r==null)return null;let i=Ce.getBarcodeMetadata(t,r);if(i==null)return null;let o=Dr.merge(Ce.adjustBoundingBox(t),Ce.adjustBoundingBox(r));return new Yi(i,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=Ce.getMax(r),o=0;for(let f of r)if(o+=i-f,f>0)break;let l=t.getCodewords();for(let f=0;o>0&&l[f]==null;f++)o--;let u=0;for(let f=r.length-1;f>=0&&(u+=i-r[f],!(r[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,o,l,u){let f=new Tc(r,o);for(let h=0;h<2;h++){let g=h===0?1:-1,p=Math.trunc(Math.trunc(i.getX()));for(let C=Math.trunc(Math.trunc(i.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=g){let A=Ce.detectCodeword(t,0,t.getWidth(),o,p,C,l,u);A!=null&&(f.setCodeword(C,A),o?p=A.getStartX():p=A.getEndX())}}return f}static adjustCodewordCount(t,r){let i=r[0][1],o=i.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ce.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>xe.MAX_CODEWORDS_IN_BARCODE)throw z.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(t){let r=Ce.createBarcodeMatrix(t);Ce.adjustCodewordCount(t,r);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let g=0;g<t.getBarcodeColumnCount();g++){let p=r[h][g+1].getValue(),C=h*t.getBarcodeColumnCount()+g;p.length===0?i.push(C):p.length===1?o[C]=p[0]:(u.push(C),l.push(p))}let f=new Array(l.length);for(let h=0;h<f.length;h++)f[h]=l[h];return Ce.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,xe.toIntArray(i),xe.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(t,r,i,o,l){let u=new Int32Array(o.length),f=100;for(;f-- >0;){for(let h=0;h<u.length;h++)r[o[h]]=l[h][u[h]];try{return Ce.decodeCodewords(r,t,i)}catch(h){if(!(h instanceof F))throw h}if(u.length===0)throw F.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw F.getChecksumInstance()}throw F.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new Xi;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,o){let l=o?1:-1,u=null;if(Ce.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(i)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(i),u!=null)return o?u.getStartX():u.getEndX();if(Ce.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(i)),u!=null)return o?u.getEndX():u.getStartX();let f=0;for(;Ce.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*f*(h.getEndX()-h.getStartX());f++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,o,l,u,f,h){l=Ce.adjustCodewordStartColumn(t,r,i,o,l,u);let g=Ce.getModuleBitCount(t,r,i,o,l,u);if(g==null)return null;let p,C=Te.sum(g);if(o)p=l+C;else{for(let O=0;O<g.length/2;O++){let D=g[O];g[O]=g[g.length-1-O],g[g.length-1-O]=D}p=l,l=p-C}if(!Ce.checkCodewordSkew(C,f,h))return null;let A=zt.getDecodedValue(g),T=xe.getCodeword(A);return T===-1?null:new Zi(l,p,Ce.getCodewordBucketNumber(A),T)}static getModuleBitCount(t,r,i,o,l,u){let f=l,h=new Int32Array(8),g=0,p=o?1:-1,C=o;for(;(o?f<i:f>=r)&&g<h.length;)t.get(f,u)===C?(h[g]++,f+=p):(g++,C=!C);return g===h.length||f===(o?i:r)&&g===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,o,l,u){let f=l,h=o?-1:1;for(let g=0;g<2;g++){for(;(o?f>=r:f<i)&&o===t.get(f,u);){if(Math.abs(l-f)>Ce.CODEWORD_SKEW_SIZE)return l;f+=h}h=-h,o=!o}return f}static checkCodewordSkew(t,r,i){return r-Ce.CODEWORD_SKEW_SIZE<=t&&t<=i+Ce.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw L.getFormatInstance();let o=1<<r+1,l=Ce.correctErrors(t,i,o);Ce.verifyCodewordCount(t,o);let u=V.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(i.length),u}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+Ce.MAX_ERRORS||i<0||i>Ce.MAX_EC_CODEWORDS)throw F.getChecksumInstance();return Ce.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw L.getFormatInstance();let i=t[0];if(i>t.length)throw L.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw L.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ce.getCodewordBucketNumber(Ce.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Hi;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let l=t[i][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ce.CODEWORD_SKEW_SIZE=2,Ce.MAX_ERRORS=3,Ce.MAX_EC_CODEWORDS=512,Ce.errorCorrection=new Nc;class vt{decode(t,r=null){let i=vt.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw z.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return vt.decode(t,r,!0)}catch(i){throw i instanceof L||i instanceof F?z.getNotFoundInstance():i}}static decode(t,r,i){const o=new Array,l=ye.detectMultiple(t,r,i);for(const u of l.getPoints()){const f=Ce.decode(l.getBits(),u[4],u[5],u[6],u[7],vt.getMinCodewordWidth(u),vt.getMaxCodewordWidth(u)),h=new Ke(f.getText(),f.getRawBytes(),void 0,u,ue.PDF_417);h.putMetadata(pt.ERROR_CORRECTION_LEVEL,f.getECLevel());const g=f.getOther();g!=null&&h.putMetadata(pt.PDF417_EXTRA_METADATA,g),o.push(h)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?N.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(vt.getMaxWidth(t[0],t[4]),vt.getMaxWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max(vt.getMaxWidth(t[1],t[5]),vt.getMaxWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(vt.getMinWidth(t[0],t[4]),vt.getMinWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min(vt.getMinWidth(t[1],t[5]),vt.getMinWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class to extends m{}to.kind="ReaderException";class Dc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(Z.TRY_HARDER)===!0,i=a(t)?null:t.get(Z.POSSIBLE_FORMATS),o=new Array;if(!a(i)){const l=i.some(u=>u===ue.UPC_A||u===ue.UPC_E||u===ue.EAN_13||u===ue.EAN_8||u===ue.CODABAR||u===ue.CODE_39||u===ue.CODE_93||u===ue.CODE_128||u===ue.ITF||u===ue.RSS_14||u===ue.RSS_EXPANDED);l&&!r&&o.push(new ti(t,this.verbose)),i.includes(ue.QR_CODE)&&o.push(new nr),i.includes(ue.DATA_MATRIX)&&o.push(new tr),i.includes(ue.AZTEC)&&o.push(new Ks),i.includes(ue.PDF_417)&&o.push(new vt),l&&r&&o.push(new ti(t,this.verbose))}o.length===0&&(r||o.push(new ti(t,this.verbose)),o.push(new nr),o.push(new tr),o.push(new Ks),o.push(new vt),r&&o.push(new ti(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new to("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof to)continue}throw new z("No MultiFormat Readers were able to detect the code.")}}class wh extends on{constructor(t=null,r=500){const i=new Dc;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class yh extends on{constructor(t=500){super(new vt,t)}}class Eh extends on{constructor(t=500){super(new nr,t)}}var zl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(zl||(zl={}));var ht=zl;class Hl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new jt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const u=i.multiply(new jt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(u),i=u}}return r[t]}encode(t,r){if(r===0)throw new S("No error correction bytes");const i=t.length-r;if(i<=0)throw new S("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(i);j.arraycopy(t,0,l,0,i);let u=new jt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(o)[1].getCoefficients(),g=r-h.length;for(let p=0;p<g;p++)t[i+p]=0;j.arraycopy(h,0,t,i+g,h.length)}}class rt{constructor(){}static applyMaskPenaltyRule1(t){return rt.applyMaskPenaltyRule1Internal(t,!0)+rt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const f=i[u];for(let h=0;h<o-1;h++){const g=f[h];g===f[h+1]&&g===i[u+1][h]&&g===i[u+1][h+1]&&r++}}return rt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let f=0;f<o;f++){const h=i[u];f+6<o&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(rt.isWhiteHorizontal(h,f-4,f)||rt.isWhiteHorizontal(h,f+7,f+11))&&r++,u+6<l&&i[u][f]===1&&i[u+1][f]===0&&i[u+2][f]===1&&i[u+3][f]===1&&i[u+4][f]===1&&i[u+5][f]===0&&i[u+6][f]===1&&(rt.isWhiteVertical(i,f,u-4,u)||rt.isWhiteVertical(i,f,u+7,u+11))&&r++}return r*rt.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let o=r;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let l=i;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const g=i[h];for(let p=0;p<o;p++)g[p]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*rt.N4}static getDataMaskBit(t,r,i){let o,l;switch(t){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,o=(l&1)+l%3;break;case 6:l=i*r,o=(l&1)+l%3&1;break;case 7:l=i*r,o=l%3+(i+r&1)&1;break;default:throw new S("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let f=0;f<o;f++){let h=0,g=-1;for(let p=0;p<l;p++){const C=r?u[f][p]:u[p][f];C===g?h++:(h>=5&&(i+=rt.N1+(h-5)),h=1,g=C)}h>=5&&(i+=rt.N1+(h-5))}return i}}rt.N1=3,rt.N2=3,rt.N3=40,rt.N4=10;class no{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)v.fill(r,t)}equals(t){if(!(t instanceof no))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],u=r.bytes[i];for(let f=0,h=this.width;f<h;++f)if(l[f]!==u[f])return!1}return!0}toString(){const t=new Ee;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Mr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ee;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Mr.NUM_MASK_PATTERNS}}Mr.NUM_MASK_PATTERNS=8;class Le extends m{}Le.kind="WriterException";class he{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,o,l){he.clearMatrix(l),he.embedBasicPatterns(i,l),he.embedTypeInfo(r,o,l),he.maybeEmbedVersionInfo(i,l),he.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){he.embedPositionDetectionPatternsAndSeparators(r),he.embedDarkDotAtLeftBottomCorner(r),he.maybeEmbedPositionAdjustmentPatterns(t,r),he.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const o=new P;he.makeTypeInfoBits(t,r,o);for(let l=0,u=o.getSize();l<u;++l){const f=o.get(o.getSize()-1-l),h=he.TYPE_INFO_COORDINATES[l],g=h[0],p=h[1];if(i.setBoolean(g,p,f),l<8){const C=i.getWidth()-l-1;i.setBoolean(C,8,f)}else{const A=i.getHeight()-7+(l-8);i.setBoolean(8,A,f)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new P;he.makeVersionInfoBits(t,i);let o=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const f=i.get(o);o--,r.setBoolean(l,r.getHeight()-11+u,f),r.setBoolean(r.getHeight()-11+u,l,f)}}static embedDataBits(t,r,i){let o=0,l=-1,u=i.getWidth()-1,f=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<i.getHeight();){for(let h=0;h<2;++h){const g=u-h;if(!he.isEmpty(i.get(g,f)))continue;let p;o<t.getSize()?(p=t.get(o),++o):p=!1,r!==255&&rt.getDataMaskBit(r,g,f)&&(p=!p),i.setBoolean(g,f,p)}f+=l}l=-l,f+=l,u-=2}if(o!==t.getSize())throw new Le("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-N.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new S("0 polynomial");const i=he.findMSBSet(r);for(t<<=i-1;he.findMSBSet(t)>=i;)t^=r<<he.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!Mr.isValidMaskPattern(r))throw new Le("Invalid mask pattern");const o=t.getBits()<<3|r;i.appendBits(o,5);const l=he.calculateBCHCode(o,he.TYPE_INFO_POLY);i.appendBits(l,10);const u=new P;if(u.appendBits(he.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Le("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=he.calculateBCHCode(t.getVersionNumber(),he.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new Le("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;he.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),he.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Le;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let o=0;o<8;++o){if(!he.isEmpty(i.get(t+o,r)))throw new Le;i.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let o=0;o<7;++o){if(!he.isEmpty(i.get(t,r+o)))throw new Le;i.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let o=0;o<5;++o){const l=he.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)i.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPattern(t,r,i){for(let o=0;o<7;++o){const l=he.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)i.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=he.POSITION_DETECTION_PATTERN[0].length;he.embedPositionDetectionPattern(0,0,t),he.embedPositionDetectionPattern(t.getWidth()-r,0,t),he.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;he.embedHorizontalSeparationPattern(0,i-1,t),he.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),he.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;he.embedVerticalSeparationPattern(o,0,t),he.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),he.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,u=o.length;l!==u;l++){const f=o[l];if(f>=0)for(let h=0;h!==u;h++){const g=o[h];g>=0&&he.isEmpty(r.get(g,f))&&he.embedPositionAdjustmentPattern(g-2,f-2,r)}}}}he.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),he.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),he.VERSION_INFO_POLY=7973,he.TYPE_INFO_POLY=1335,he.TYPE_INFO_MASK_PATTERN=21522;class Ch{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class We{constructor(){}static calculateMaskPenalty(t){return rt.applyMaskPenaltyRule1(t)+rt.applyMaskPenaltyRule2(t)+rt.applyMaskPenaltyRule3(t)+rt.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let o=We.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(ht.CHARACTER_SET)!==void 0;l&&(o=i.get(ht.CHARACTER_SET).toString());const u=this.chooseMode(t,o),f=new P;if(u===de.BYTE&&(l||We.DEFAULT_BYTE_MODE_ENCODING!==o)){const ee=G.getCharacterSetECIByName(o);ee!==void 0&&this.appendECI(ee,f)}this.appendModeInfo(u,f);const h=new P;this.appendBytes(t,u,h,o);let g;if(i!==null&&i.get(ht.QR_VERSION)!==void 0){const ee=Number.parseInt(i.get(ht.QR_VERSION).toString(),10);g=fe.getVersionForNumber(ee);const K=this.calculateBitsNeeded(u,f,h,g);if(!this.willFit(K,g,r))throw new Le("Data too big for requested version")}else g=this.recommendVersion(r,u,f,h);const p=new P;p.appendBitArray(f);const C=u===de.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(C,g,u,p),p.appendBitArray(h);const A=g.getECBlocksForLevel(r),T=g.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(T,p);const O=this.interleaveWithECBytes(p,g.getTotalCodewords(),T,A.getNumBlocks()),D=new Mr;D.setECLevel(r),D.setMode(u),D.setVersion(g);const k=g.getDimensionForVersion(),W=new no(k,k),J=this.chooseMaskPattern(O,r,g,W);return D.setMaskPattern(J),he.buildMatrix(O,r,g,J,W),D.setMatrix(W),D}static recommendVersion(t,r,i,o){const l=this.calculateBitsNeeded(r,i,o,fe.getVersionForNumber(1)),u=this.chooseVersion(l,t),f=this.calculateBitsNeeded(r,i,o,u);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,r,i,o){return r.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<We.ALPHANUMERIC_TABLE.length?We.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return de.KANJI;let i=!1,o=!1;for(let l=0,u=t.length;l<u;++l){const f=t.charAt(l);if(We.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return de.BYTE}return o?de.ALPHANUMERIC:i?de.NUMERIC:de.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=ce.encode(t,G.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,i,o){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<Mr.NUM_MASK_PATTERNS;f++){he.buildMatrix(t,r,i,f,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,u=f)}return u}static chooseVersion(t,r){for(let i=1;i<=40;i++){const o=fe.getVersionForNumber(i);if(We.willFit(t,o,r))return o}throw new Le("Data too big")}static willFit(t,r,i){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(i).getTotalECCodewords(),f=o-u,h=(t+7)/8;return f>=h}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new Le("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let u=0;u<4&&r.getSize()<i;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==i)throw new Le("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,o,l,u){if(o>=i)throw new Le("Block ID too large");const f=t%i,h=i-f,g=Math.floor(t/i),p=g+1,C=Math.floor(r/i),A=C+1,T=g-C,O=p-A;if(T!==O)throw new Le("EC bytes mismatch");if(i!==h+f)throw new Le("RS blocks mismatch");if(t!==(C+T)*h+(A+O)*f)throw new Le("Total bytes mismatch");o<h?(l[0]=C,u[0]=T):(l[0]=A,u[0]=O)}static interleaveWithECBytes(t,r,i,o){if(t.getSizeInBytes()!==i)throw new Le("Number of bits and data bytes does not match");let l=0,u=0,f=0;const h=new Array;for(let p=0;p<o;++p){const C=new Int32Array(1),A=new Int32Array(1);We.getNumDataBytesAndNumECBytesForBlockID(r,i,o,p,C,A);const T=C[0],O=new Uint8Array(T);t.toBytes(8*l,O,0,T);const D=We.generateECBytes(O,A[0]);h.push(new Ch(O,D)),u=Math.max(u,T),f=Math.max(f,D.length),l+=C[0]}if(i!==l)throw new Le("Data bytes does not match offset");const g=new P;for(let p=0;p<u;++p)for(const C of h){const A=C.getDataBytes();p<A.length&&g.appendBits(A[p],8)}for(let p=0;p<f;++p)for(const C of h){const A=C.getErrorCorrectionBytes();p<A.length&&g.appendBits(A[p],8)}if(r!==g.getSizeInBytes())throw new Le("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const i=t.length,o=new Int32Array(i+r);for(let u=0;u<i;u++)o[u]=t[u]&255;new Hl(be.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=o[i+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,o){const l=i.getCharacterCountBits(r);if(t>=1<<l)throw new Le(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,i,o){switch(r){case de.NUMERIC:We.appendNumericBytes(t,i);break;case de.ALPHANUMERIC:We.appendAlphanumericBytes(t,i);break;case de.BYTE:We.append8BitBytes(t,i,o);break;case de.KANJI:We.appendKanjiBytes(t,i);break;default:throw new Le("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=We.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const l=We.getDigit(t.charAt(o));if(o+2<i){const u=We.getDigit(t.charAt(o+1)),f=We.getDigit(t.charAt(o+2));r.appendBits(l*100+u*10+f,10),o+=3}else if(o+1<i){const u=We.getDigit(t.charAt(o+1));r.appendBits(l*10+u,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const l=We.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Le;if(o+1<i){const u=We.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new Le;r.appendBits(l*45+u,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,i){let o;try{o=ce.encode(t,i)}catch(l){throw new Le(l)}for(let l=0,u=o.length;l!==u;l++){const f=o[l];r.appendBits(f,8)}}static appendKanjiBytes(t,r){let i;try{i=ce.encode(t,G.SJIS)}catch(l){throw new Le(l)}const o=i.length;for(let l=0;l<o;l+=2){const u=i[l]&255,f=i[l+1]&255,h=u<<8&4294967295|f;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Le("Invalid byte sequence");const p=(g>>8)*192+(g&255);r.appendBits(p,13)}}static appendECI(t,r){r.appendBits(de.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}We.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),We.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class kr{write(t,r,i,o=null){if(t.length===0)throw new S("Found empty contents");if(r<0||i<0)throw new S("Requested dimensions are too small: "+r+"x"+i);let l=je.L,u=kr.QUIET_ZONE_SIZE;o!==null&&(o.get(ht.ERROR_CORRECTION)!==void 0&&(l=je.fromString(o.get(ht.ERROR_CORRECTION).toString())),o.get(ht.MARGIN)!==void 0&&(u=Number.parseInt(o.get(ht.MARGIN).toString(),10)));const f=We.encode(t,l,o);return this.renderResult(f,r,i,u)}writeToDom(t,r,i,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,i,o,l);t&&t.appendChild(u)}renderResult(t,r,i,o){const l=t.getMatrix();if(l===null)throw new Tn;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,p=Math.max(r,h),C=Math.max(i,g),A=Math.min(Math.floor(p/h),Math.floor(C/g)),T=Math.floor((p-u*A)/2),O=Math.floor((C-f*A)/2),D=this.createSVGElement(p,C);for(let k=0,W=O;k<f;k++,W+=A)for(let J=0,ee=T;J<u;J++,ee+=A)if(l.get(J,k)===1){const K=this.createSvgRectElement(ee,W,A,A);D.appendChild(K)}return D}createSVGElement(t,r){const i=document.createElementNS(kr.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,o){const l=document.createElementNS(kr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}kr.QUIET_ZONE_SIZE=4,kr.SVG_NS="http://www.w3.org/2000/svg";class ri{encode(t,r,i,o,l){if(t.length===0)throw new S("Found empty contents");if(r!==ue.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new S(`Requested dimensions are too small: ${i}x${o}`);let u=je.L,f=ri.QUIET_ZONE_SIZE;l!==null&&(l.get(ht.ERROR_CORRECTION)!==void 0&&(u=je.fromString(l.get(ht.ERROR_CORRECTION).toString())),l.get(ht.MARGIN)!==void 0&&(f=Number.parseInt(l.get(ht.MARGIN).toString(),10)));const h=We.encode(t,u,l);return ri.renderResult(h,i,o,f)}static renderResult(t,r,i,o){const l=t.getMatrix();if(l===null)throw new Tn;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,p=Math.max(r,h),C=Math.max(i,g),A=Math.min(Math.floor(p/h),Math.floor(C/g)),T=Math.floor((p-u*A)/2),O=Math.floor((C-f*A)/2),D=new Ne(p,C);for(let k=0,W=O;k<f;k++,W+=A)for(let J=0,ee=T;J<u;J++,ee+=A)l.get(J,k)===1&&D.setRegion(ee,W,A,A);return D}}ri.QUIET_ZONE_SIZE=4;class Ah{encode(t,r,i,o,l){let u;switch(r){case ue.QR_CODE:u=new ri;break;default:throw new S("No encoder available for format "+r)}return u.encode(t,r,i,o,l)}}class On extends ne{constructor(t,r,i,o,l,u,f,h){if(super(u,f),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=l,o+u>r||l+f>i)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,f)}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return j.arraycopy(this.yuvData,l,o,0,i),o;for(let u=0;u<r;u++){const f=u*t;j.arraycopy(this.yuvData,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new On(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)}renderThumbnail(){const t=this.getWidth()/On.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/On.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const f=u*t;for(let h=0;h<t;h++){const g=o[l+h*On.THUMBNAIL_SCALE_FACTOR]&255;i[f+h]=4278190080|g*65793}l+=this.dataWidth*On.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/On.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/On.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const u=l+t/2;for(let f=l,h=l+t-1;f<u;f++,h--){const g=i[f];i[f]=i[h],i[h]=g}}}invert(){return new ge(this)}}On.THUMBNAIL_SCALE_FACTOR=2;class Gl extends ne{constructor(t,r,i,o,l,u,f){if(super(r,i),this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=f,t.BYTES_PER_ELEMENT===4){const h=r*i,g=new Uint8ClampedArray(h);for(let p=0;p<h;p++){const C=t[p],A=C>>16&255,T=C>>7&510,O=C&255;g[p]=(A+T+O)/4&255}this.luminances=g}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return j.arraycopy(this.luminances,l,o,0,i),o;for(let u=0;u<r;u++){const f=u*t;j.arraycopy(this.luminances,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new Gl(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new ge(this)}}class Mc extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class Xl{}Xl.ISO_8859_1=G.ISO8859_1;class kc{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Pc{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class vh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class ii extends vh{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new ii(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ii(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+N.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Yl extends ii{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new Yl(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sh(E,t,r){return new Yl(E,t,r)}function Ki(E,t,r){return new ii(E,t,r)}const Ih=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ir=0,ro=1,cn=2,Bc=3,Dn=4,Nh=new ii(null,0,0),Zl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Th(E){for(let t of E)v.fill(t,-1);return E[ir][Dn]=0,E[ro][Dn]=0,E[ro][ir]=28,E[Bc][Dn]=0,E[cn][Dn]=0,E[cn][ir]=15,E}const Lc=Th(v.createInt32Array(6,6));class Mn{constructor(t,r,i,o){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,o=this.token;if(t!==this.mode){let u=Zl[this.mode][t];o=Ki(o,u&65535,u>>16),i+=u>>16}let l=t===cn?4:5;return o=Ki(o,r,l),new Mn(o,t,0,i+l)}shiftAndAppend(t,r){let i=this.token,o=this.mode===cn?4:5;return i=Ki(i,Lc[this.mode][t],o),i=Ki(i,r,5),new Mn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Dn||this.mode===cn){let f=Zl[i][ir];r=Ki(r,f&65535,f>>16),o+=f>>16,i=ir}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Mn(r,i,this.binaryShiftByteCount+1,o+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Sh(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Zl[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Mn.calculateBinaryShiftCost(t)-Mn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new P;for(const o of r)o.appendTo(i,t);return i}toString(){return re.format("%s bits=%d bytes=%d",Ih[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Mn.INITIAL_STATE=new Mn(Nh,ir,0,0);function _h(E){const t=re.getCharCode(" "),r=re.getCharCode("."),i=re.getCharCode(",");E[ir][t]=1;const o=re.getCharCode("Z"),l=re.getCharCode("A");for(let A=l;A<=o;A++)E[ir][A]=A-l+2;E[ro][t]=1;const u=re.getCharCode("z"),f=re.getCharCode("a");for(let A=f;A<=u;A++)E[ro][A]=A-f+2;E[cn][t]=1;const h=re.getCharCode("9"),g=re.getCharCode("0");for(let A=g;A<=h;A++)E[cn][A]=A-g+2;E[cn][i]=12,E[cn][r]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<p.length;A++)E[Bc][re.getCharCode(p[A])]=A;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<C.length;A++)re.getCharCode(C[A])>0&&(E[Dn][re.getCharCode(C[A])]=A);return E}const Kl=_h(v.createInt32Array(5,256));class Qi{constructor(t){this.text=t}encode(){const t=re.getCharCode(" "),r=re.getCharCode(`
`);let i=Pc.singletonList(Mn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case re.getCharCode("\r"):u=f===r?2:0;break;case re.getCharCode("."):u=f===t?3:0;break;case re.getCharCode(","):u=f===t?4:0;break;case re.getCharCode(":"):u=f===t?5:0;break;default:u=0}u>0?(i=Qi.updateStateListForPair(i,l,u),l++):i=this.updateStateListForChar(i,l)}return Pc.min(i,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let o of t)this.updateStateForChar(o,r,i);return Qi.simplifyStates(i)}updateStateForChar(t,r,i){let o=this.text[r]&255,l=Kl[t.getMode()][o]>0,u=null;for(let f=0;f<=Dn;f++){let h=Kl[f][o];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!l||f===t.getMode()||f===cn){const g=u.latchAndAppend(f,h);i.push(g)}if(!l&&Lc[t.getMode()][f]>=0){const g=u.shiftAndAppend(f,h);i.push(g)}}}if(t.getBinaryShiftByteCount()>0||Kl[t.getMode()][o]===0){let f=t.addBinaryShiftChar(r);i.push(f)}}static updateStateListForPair(t,r,i){const o=[];for(let l of t)this.updateStateForPair(l,r,i,o);return this.simplifyStates(o)}static updateStateForPair(t,r,i,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Dn,i)),t.getMode()!==Dn&&o.push(l.shiftAndAppend(Dn,i)),i===3||i===4){let u=l.latchAndAppend(cn,16-i).latchAndAppend(cn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const i of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}o&&r.push(i)}return r}}class _e{constructor(){}static encodeBytes(t){return _e.encode(t,_e.DEFAULT_EC_PERCENT,_e.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let o=new Qi(t).encode(),l=N.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+l,f,h,g,p,C;if(i!==_e.DEFAULT_AZTEC_LAYERS){if(f=i<0,h=Math.abs(i),h>(f?_e.MAX_NB_BITS_COMPACT:_e.MAX_NB_BITS))throw new S(re.format("Illegal value %s for layers",i));g=_e.totalBitsInLayer(h,f),p=_e.WORD_SIZE[h];let K=g-g%p;if(C=_e.stuffBits(o,p),C.getSize()+l>K)throw new S("Data to large for user specified layer");if(f&&C.getSize()>p*64)throw new S("Data to large for user specified layer")}else{p=0,C=null;for(let K=0;;K++){if(K>_e.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(f=K<=3,h=f?K+1:K,g=_e.totalBitsInLayer(h,f),u>g)continue;(C==null||p!==_e.WORD_SIZE[h])&&(p=_e.WORD_SIZE[h],C=_e.stuffBits(o,p));let ve=g-g%p;if(!(f&&C.getSize()>p*64)&&C.getSize()+l<=ve)break}}let A=_e.generateCheckWords(C,g,p),T=C.getSize()/p,O=_e.generateModeMessage(f,h,T),D=(f?11:14)+h*4,k=new Int32Array(D),W;if(f){W=D;for(let K=0;K<k.length;K++)k[K]=K}else{W=D+1+2*N.truncDivision(N.truncDivision(D,2)-1,15);let K=N.truncDivision(D,2),ve=N.truncDivision(W,2);for(let we=0;we<K;we++){let Ht=we+N.truncDivision(we,15);k[K-we-1]=ve-Ht-1,k[K+we]=ve+Ht+1}}let J=new Ne(W);for(let K=0,ve=0;K<h;K++){let we=(h-K)*4+(f?9:12);for(let Ht=0;Ht<we;Ht++){let yn=Ht*2;for(let Gt=0;Gt<2;Gt++)A.get(ve+yn+Gt)&&J.set(k[K*2+Gt],k[K*2+Ht]),A.get(ve+we*2+yn+Gt)&&J.set(k[K*2+Ht],k[D-1-K*2-Gt]),A.get(ve+we*4+yn+Gt)&&J.set(k[D-1-K*2-Gt],k[D-1-K*2-Ht]),A.get(ve+we*6+yn+Gt)&&J.set(k[D-1-K*2-Ht],k[K*2+Gt])}ve+=we*8}if(_e.drawModeMessage(J,f,W,O),f)_e.drawBullsEye(J,N.truncDivision(W,2),5);else{_e.drawBullsEye(J,N.truncDivision(W,2),7);for(let K=0,ve=0;K<N.truncDivision(D,2)-1;K+=15,ve+=16)for(let we=N.truncDivision(W,2)&1;we<W;we+=2)J.set(N.truncDivision(W,2)-ve,we),J.set(N.truncDivision(W,2)+ve,we),J.set(we,N.truncDivision(W,2)-ve),J.set(we,N.truncDivision(W,2)+ve)}let ee=new kc;return ee.setCompact(f),ee.setSize(W),ee.setLayers(h),ee.setCodeWords(T),ee.setMatrix(J),ee}static drawBullsEye(t,r,i){for(let o=0;o<i;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let o=new P;return t?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=_e.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=_e.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,i,o){let l=N.truncDivision(i,2);if(r)for(let u=0;u<7;u++){let f=l-3+u;o.get(u)&&t.set(f,l-5),o.get(u+7)&&t.set(l+5,f),o.get(20-u)&&t.set(f,l+5),o.get(27-u)&&t.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+N.truncDivision(u,5);o.get(u)&&t.set(f,l-7),o.get(u+10)&&t.set(l+7,f),o.get(29-u)&&t.set(f,l+7),o.get(39-u)&&t.set(l-7,f)}}static generateCheckWords(t,r,i){let o=t.getSize()/i,l=new Hl(_e.getGF(i)),u=N.truncDivision(r,i),f=_e.bitsToWords(t,i,u);l.encode(f,u-o);let h=r%i,g=new P;g.appendBits(0,h);for(const p of Array.from(f))g.appendBits(p,i);return g}static bitsToWords(t,r,i){let o=new Int32Array(i),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let f=0;for(let h=0;h<r;h++)f|=t.get(l*r+h)?1<<r-h-1:0;o[l]=f}return o}static getGF(t){switch(t){case 4:return be.AZTEC_PARAM;case 6:return be.AZTEC_DATA_6;case 8:return be.AZTEC_DATA_8;case 10:return be.AZTEC_DATA_10;case 12:return be.AZTEC_DATA_12;default:throw new S("Unsupported word size "+t)}}static stuffBits(t,r){let i=new P,o=t.getSize(),l=(1<<r)-2;for(let u=0;u<o;u+=r){let f=0;for(let h=0;h<r;h++)(u+h>=o||t.get(u+h))&&(f|=1<<r-1-h);(f&l)===l?(i.appendBits(f&l,r),u--):f&l?i.appendBits(f,r):(i.appendBits(f|1,r),u--)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}_e.DEFAULT_EC_PERCENT=33,_e.DEFAULT_AZTEC_LAYERS=0,_e.MAX_NB_BITS=32,_e.MAX_NB_BITS_COMPACT=4,_e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class io{encode(t,r,i,o){return this.encodeWithHints(t,r,i,o,null)}encodeWithHints(t,r,i,o,l){let u=Xl.ISO_8859_1,f=_e.DEFAULT_EC_PERCENT,h=_e.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(ht.CHARACTER_SET)&&(u=Mc.forName(l.get(ht.CHARACTER_SET).toString())),l.has(ht.ERROR_CORRECTION)&&(f=N.parseInt(l.get(ht.ERROR_CORRECTION).toString())),l.has(ht.AZTEC_LAYERS)&&(h=N.parseInt(l.get(ht.AZTEC_LAYERS).toString()))),io.encodeLayers(t,r,i,o,u,f,h)}static encodeLayers(t,r,i,o,l,u,f){if(r!==ue.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=_e.encode(re.getBytes(t,l),u,f);return io.renderResult(h,i,o)}static renderResult(t,r,i){let o=t.getMatrix();if(o==null)throw new Tn;let l=o.getWidth(),u=o.getHeight(),f=Math.max(r,l),h=Math.max(i,u),g=Math.min(f/l,h/u),p=(f-l*g)/2,C=(h-u*g)/2,A=new Ne(f,h);for(let T=0,O=C;T<u;T++,O+=g)for(let D=0,k=p;D<l;D++,k+=g)o.get(D,T)&&A.setRegion(k,O,g,g);return A}}s.AbstractExpandedDecoder=kl,s.ArgumentException=_,s.ArithmeticException=Xs,s.AztecCode=kc,s.AztecCodeReader=Ks,s.AztecCodeWriter=io,s.AztecDecoder=Ue,s.AztecDetector=Ec,s.AztecDetectorResult=wc,s.AztecEncoder=_e,s.AztecHighLevelEncoder=Qi,s.AztecPoint=kt,s.BarcodeFormat=ue,s.Binarizer=H,s.BinaryBitmap=M,s.BitArray=P,s.BitMatrix=Ne,s.BitSource=Fl,s.BrowserAztecCodeReader=eh,s.BrowserBarcodeReader=sh,s.BrowserCodeReader=on,s.BrowserDatamatrixCodeReader=lh,s.BrowserMultiFormatReader=wh,s.BrowserPDF417Reader=yh,s.BrowserQRCodeReader=Eh,s.BrowserQRCodeSvgWriter=kr,s.CharacterSetECI=G,s.ChecksumException=F,s.Code128Reader=te,s.Code39Reader=ft,s.DataMatrixDecodedBitStreamParser=er,s.DataMatrixReader=tr,s.DecodeHintType=Z,s.DecoderResult=Ui,s.DefaultGridSampler=yc,s.DetectorResult=Zs,s.EAN13Reader=Rr,s.EncodeHintType=ht,s.Exception=m,s.FormatException=L,s.GenericGF=be,s.GenericGFPoly=jt,s.GlobalHistogramBinarizer=et,s.GridSampler=bl,s.GridSamplerInstance=Jn,s.HTMLCanvasElementLuminanceSource=pe,s.HybridBinarizer=me,s.ITFReader=Be,s.IllegalArgumentException=S,s.IllegalStateException=Tn,s.InvertedLuminanceSource=ge,s.LuminanceSource=ne,s.MathUtils=Te,s.MultiFormatOneDReader=ti,s.MultiFormatReader=Dc,s.MultiFormatWriter=Ah,s.NotFoundException=z,s.OneDReader=ut,s.PDF417DecodedBitStreamParser=V,s.PDF417DecoderErrorCorrection=Nc,s.PDF417Reader=vt,s.PDF417ResultMetadata=_c,s.PerspectiveTransform=mn,s.PlanarYUVLuminanceSource=On,s.QRCodeByteMatrix=no,s.QRCodeDataMask=an,s.QRCodeDecodedBitStreamParser=Qe,s.QRCodeDecoderErrorCorrectionLevel=je,s.QRCodeDecoderFormatInformation=Rt,s.QRCodeEncoder=We,s.QRCodeEncoderQRCode=Mr,s.QRCodeMaskUtil=rt,s.QRCodeMatrixUtil=he,s.QRCodeMode=de,s.QRCodeReader=nr,s.QRCodeVersion=fe,s.QRCodeWriter=ri,s.RGBLuminanceSource=Gl,s.RSS14Reader=nt,s.RSSExpandedReader=Y,s.ReaderException=to,s.ReedSolomonDecoder=Vi,s.ReedSolomonEncoder=Hl,s.ReedSolomonException=qr,s.Result=Ke,s.ResultMetadataType=pt,s.ResultPoint=le,s.StringUtils=re,s.UnsupportedOperationException=ae,s.VideoInputDevice=Xe,s.WhiteRectangleDetector=Un,s.WriterException=Le,s.ZXingArrays=v,s.ZXingCharset=Mc,s.ZXingInteger=N,s.ZXingStandardCharsets=Xl,s.ZXingStringBuilder=Ee,s.ZXingStringEncoding=ce,s.ZXingSystem=j,s.createAbstractExpandedDecoder=Sc,Object.defineProperty(s,"__esModule",{value:!0})})})(Au,Au.exports);var He=Au.exports;const Pp=C0(He),Bp=E0({__proto__:null,default:Pp},[He]);var c0=function(){function e(n,s,a){if(this.formatMap=new Map([[se.QR_CODE,He.BarcodeFormat.QR_CODE],[se.AZTEC,He.BarcodeFormat.AZTEC],[se.CODABAR,He.BarcodeFormat.CODABAR],[se.CODE_39,He.BarcodeFormat.CODE_39],[se.CODE_93,He.BarcodeFormat.CODE_93],[se.CODE_128,He.BarcodeFormat.CODE_128],[se.DATA_MATRIX,He.BarcodeFormat.DATA_MATRIX],[se.MAXICODE,He.BarcodeFormat.MAXICODE],[se.ITF,He.BarcodeFormat.ITF],[se.EAN_13,He.BarcodeFormat.EAN_13],[se.EAN_8,He.BarcodeFormat.EAN_8],[se.PDF_417,He.BarcodeFormat.PDF_417],[se.RSS_14,He.BarcodeFormat.RSS_14],[se.RSS_EXPANDED,He.BarcodeFormat.RSS_EXPANDED],[se.UPC_A,He.BarcodeFormat.UPC_A],[se.UPC_E,He.BarcodeFormat.UPC_E],[se.UPC_EAN_EXTENSION,He.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Bp)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=a;var c=this.createZXingFormats(n),d=new Map;d.set(He.DecodeHintType.POSSIBLE_FORMATS,c),d.set(He.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(n){var s=this;return new Promise(function(a,c){try{a(s.decode(n))}catch(d){c(d)}})},e.prototype.decode=function(n){var s=new He.MultiFormatReader(this.verbose,this.hints),a=new He.HTMLCanvasElementLuminanceSource(n),c=new He.BinaryBitmap(new He.HybridBinarizer(a)),d=s.decode(c);return{text:d.text,format:qd.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,c){n.set(s,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var s=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Lp=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(_){try{m(a.next(_))}catch(S){x(S)}}function y(_){try{m(a.throw(_))}catch(S){x(S)}}function m(_){_.done?d(_.value):c(_.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},Fp=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(_){return y([m,_])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(_){m=[6,_],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},f0=function(){function e(n,s,a){if(this.formatMap=new Map([[se.QR_CODE,"qr_code"],[se.AZTEC,"aztec"],[se.CODABAR,"codabar"],[se.CODE_39,"code_39"],[se.CODE_93,"code_93"],[se.CODE_128,"code_128"],[se.DATA_MATRIX,"data_matrix"],[se.ITF,"itf"],[se.EAN_13,"ean_13"],[se.EAN_8,"ean_8"],[se.PDF_417,"pdf417"],[se.UPC_A,"upc_a"],[se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Lp(this,void 0,void 0,function(){var s,a;return Fp(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=c.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(s),[2,{text:a.rawValue,format:qd.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var s=null,a=0,c=0,d=n;c<d.length;c++){var x=d[c],w=x.boundingBox.width*x.boundingBox.height;w>a&&(a=w,s=x)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,c){n.set(s,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),d0=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(_){try{m(a.next(_))}catch(S){x(S)}}function y(_){try{m(a.throw(_))}catch(S){x(S)}}function m(_){_.done?d(_.value):c(_.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},h0=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(_){return y([m,_])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(_){m=[6,_],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Up=function(){function e(n,s,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,s&&f0.isSupported()?(this.primaryDecoder=new f0(n,a,c),this.secondaryDecoder=new c0(n,a,c)):this.primaryDecoder=new c0(n,a,c)}return e.prototype.decodeAsync=function(n){return d0(this,void 0,void 0,function(){var s;return h0(this,function(a){switch(a.label){case 0:s=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return d0(this,void 0,void 0,function(){var s,a;return h0(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,a=this.executionResults;s<a.length;s++){var c=a[s];n+=c}var d=n/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),mc=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),ul=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(_){try{m(a.next(_))}catch(S){x(S)}}function y(_){try{m(a.throw(_))}catch(S){x(S)}}function m(_){_.done?d(_.value):c(_.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},cl=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(_){return y([m,_])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(_){m=[6,_],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},$d=function(){function e(n,s){this.name=n,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},e}(),jp=function(e){mc(n,e);function n(s,a){return e.call(this,s,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var a={};a[this.name]=s;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),a=s[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}($d),Vp=function(e){mc(n,e);function n(s){return e.call(this,"zoom",s)||this}return n}(jp),Wp=function(e){mc(n,e);function n(s){return e.call(this,"torch",s)||this}return n}($d),zp=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Vp(this.track)},e.prototype.torchFeature=function(){return new Wp(this.track)},e}(),Hp=function(){function e(n,s,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var a=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,c),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,s,a,c){return ul(this,void 0,void 0,function(){var d,x;return cl(this,function(w){switch(w.label){case 0:return d=new e(n,s,c),a.aspectRatio?(x={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:w.sent(),w.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var s=this,a=function(){setTimeout(n,200),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return ul(this,void 0,void 0,function(){return cl(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,a){var c=n.mediaStream.getVideoTracks(),d=c.length,x=0;n.mediaStream.getVideoTracks().forEach(function(w){n.mediaStream.removeTrack(w),w.stop(),++x,x>=d&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},e.prototype.getCapabilities=function(){return new zp(this.getFirstTrackOrFail())},e}(),Gp=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,s,a){return ul(this,void 0,void 0,function(){return cl(this,function(c){return[2,Hp.create(n,this.mediaStream,s,a)]})})},e.create=function(n){return ul(this,void 0,void 0,function(){var s,a;return cl(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),g0=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(_){try{m(a.next(_))}catch(S){x(S)}}function y(_){try{m(a.throw(_))}catch(S){x(S)}}function m(_){_.done?d(_.value):c(_.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},x0=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(_){return y([m,_])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(_){m=[6,_],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Xp=function(){function e(){}return e.failIfNotSupported=function(){return g0(this,void 0,void 0,function(){return x0(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return g0(this,void 0,void 0,function(){return x0(this,function(s){return[2,Gp.create(n)]})})},e}(),Yp=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(_){try{m(a.next(_))}catch(S){x(S)}}function y(_){try{m(a.throw(_))}catch(S){x(S)}}function m(_){_.done?d(_.value):c(_.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},Zp=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(_){return y([m,_])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(_){m=[6,_],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Kp=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Ei.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Ei.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return Yp(this,void 0,void 0,function(){var n,s,a,c,d,x,w;return Zp(this,function(y){switch(y.label){case 0:return n=function(m){for(var _=m.getVideoTracks(),S=0,M=_;S<M.length;S++){var F=M[S];F.enabled=!1,F.stop(),m.removeTrack(F)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=y.sent(),c=[],d=0,x=a;d<x.length;d++)w=x[d],w.kind==="videoinput"&&c.push({id:w.deviceId,label:w.label});return n(s),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var a=function(d){for(var x=[],w=0,y=d;w<y.length;w++){var m=y[w];m.kind==="video"&&x.push({id:m.id,label:m.label})}n(x)},c=MediaStreamTrack;c.getSources(a)})},e}(),it;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(it||(it={}));var Qp=function(){function e(){this.state=it.NOT_STARTED,this.onGoingTransactionNewState=it.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=it.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=it.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==it.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case it.UNKNOWN:throw"Transition from unknown is not allowed";case it.NOT_STARTED:this.failIfNewStateIs(n,[it.PAUSED]);break;case it.SCANNING:break;case it.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,s){for(var a=0,c=s;a<c.length;a++){var d=c[a];if(n===d)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),qp=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===it.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==it.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===it.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===it.PAUSED},e}(),Jp=function(){function e(){}return e.create=function(){return new qp(new Qp)},e}(),$p=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),Jt=function(e){$p(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Dp),em=function(){function e(n,s){this.logger=s,this.fps=Jt.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Jt.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Jd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!jn(this.qrbox)},e.create=function(n,s){return new e(n,s)},e}(),p0=function(){function e(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof s=="boolean"?this.verbose=s===!0:s&&(a=s,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new kp(this.verbose),this.qrcode=new Up(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Jp.create()}return e.prototype.start=function(n,s,a,c){var d=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;c?x=c:x=this.verbose?this.logger.log:function(){};var w=em.create(s,this.logger);this.clearElement();var y=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=y,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:Jt.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var S=this,M=this.stateManagerProxy.startTransition(it.SCANNING);return new Promise(function(F,H){var j=m?w.videoConstraints:S.createVideoConstraints(n);if(!j){M.cancel(),H("videoConstraints should be defined");return}var $={};(!m||w.aspectRatio)&&($.aspectRatio=w.aspectRatio);var b={onRenderSurfaceReady:function(v,N){S.setupUi(v,N,w),S.isScanning=!0,S.foreverScan(w,a,x)}};Xp.failIfNotSupported().then(function(v){v.create(j).then(function(N){return N.render(d.element,$,b).then(function(P){S.renderedCamera=P,M.execute(),F(null)}).catch(function(P){M.cancel(),H(P)})}).catch(function(N){M.cancel(),H(Ei.errorGettingUserMedia(N))})}).catch(function(v){M.cancel(),H(Ei.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(it.PAUSED),this.showPausedState(),(jn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(it.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(it.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var d=document.getElementById(Jt.SHADED_REGION_ELEMENT_ID);d&&n.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),s.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,s){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(jn(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var x=new Image;x.onload=function(){var w=x.width,y=x.height,m=document.getElementById(a.elementId),_=m.clientWidth?m.clientWidth:Jt.DEFAULT_WIDTH,S=Math.max(m.clientHeight?m.clientHeight:y,Jt.FILE_SCAN_MIN_HEIGHT),M=a.computeCanvasDrawConfig(w,y,_,S);if(s){var F=a.createCanvasElement(_,S,"qr-canvas-visible");F.style.display="inline-block",m.appendChild(F);var H=F.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=_,H.canvas.height=S,H.drawImage(x,0,0,w,y,M.x,M.y,M.width,M.height)}var j=Jt.FILE_SCAN_HIDDEN_CANVAS_PADDING,$=Math.max(x.width,M.width),b=Math.max(x.height,M.height),v=$+2*j,N=b+2*j,P=a.createCanvasElement(v,N);m.appendChild(P);var X=P.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=v,X.canvas.height=N,X.drawImage(x,0,0,w,y,j,j,$,b);try{a.qrcode.decodeRobustlyAsync(P).then(function(Z){c(u0.createFromQrcodeResult(Z))}).catch(d)}catch(Z){d("QR code parse error, error = ".concat(Z))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Kp.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!Jd.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var s=[se.QR_CODE,se.AZTEC,se.CODABAR,se.CODE_39,se.CODE_93,se.CODE_128,se.DATA_MATRIX,se.MAXICODE,se.ITF,se.EAN_13,se.EAN_8,se.PDF_417,se.RSS_14,se.RSS_EXPANDED,se.UPC_A,se.UPC_E,se.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=n.formatsToSupport;c<d.length;c++){var x=d[c];Op(x)?a.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(jn(n))return!0;if(!jn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(jn(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return jn(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,s,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(n,s,d),w=function(m){if(m<Jt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Jt.MIN_QR_BOX_SIZE,"px.")},y=function(m){return m>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=n),m};w(x.width),w(x.height),x.width=y(x.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,s,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,s)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,s,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,a);var c=jn(a.qrbox)?{width:n,height:s}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(n,s,c);d.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=a.isShadedBoxEnabled()&&d.height<=s,w={x:0,y:0,width:n,height:s},y=x?this.getShadedRegionBounds(n,s,d):w,m=this.createCanvasElement(y.width,y.height),_={willReadFrequently:!0},S=m.getContext("2d",_);S.canvas.width=y.width,S.canvas.height=y.height,this.element.append(m),x&&this.possiblyInsertShadingElement(this.element,n,s,d),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=S,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=Ei.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(n,s){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,u0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=Ei.codeParseError(c);return s(d,Mp.createFrom(d)),!1})},e.prototype.foreverScan=function(n,s,a){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,w=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*x,m=this.qrRegion.height*w,_=this.qrRegion.x*x,S=this.qrRegion.y*w;this.context.drawImage(d,_,S,y,m,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,s,a)},c.getTimeoutFps(n.fps))};this.scanContext(s,a).then(function(F){!F&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(s,a).finally(function(){M()})):M()}).catch(function(F){c.logger.logError("Error happend while scanning context",F),M()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",x=function(H){if(H in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},w=Object.keys(n);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var y=Object.keys(n)[0];if(y!==s&&y!==a)throw"Only '".concat(s,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(y===s){var m=n.facingMode;if(typeof m=="string"){if(x(m))return{facingMode:m}}else if(typeof m=="object")if(d in m){if(x(m["".concat(d)]))return{facingMode:{exact:m["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var _=typeof m;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var S=n.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(d in S)return{deviceId:{exact:S["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var M=typeof S;throw"Invalid type of 'deviceId' = ".concat(M)}}}var F=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(F)},e.prototype.computeCanvasDrawConfig=function(n,s,a,c){if(n<=a&&s<=c){var d=(a-n)/2,x=(c-s)/2;return{x:d,y:x,width:n,height:s}}else{var w=n,y=s;return n>a&&(s=a/n*s,n=a),s>c&&(n=c/s*n,s=c),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(y)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?Jt.BORDER_SHADER_MATCH_COLOR:Jt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,s,a){var c=n,d=s,x=document.createElement("canvas");return x.style.width="".concat(c,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=jn(a)?"qr-canvas":a,x},e.prototype.getShadedRegionBounds=function(n,s,a){if(a.width>n||a.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(s-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,s,a,c){if(!(s-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(s-c.width)/2,w=(a-c.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(Jt.SHADED_REGION_ELEMENT_ID),s-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var y=5,m=40;this.insertShaderBorders(d,m,y,-y,null,0,!0),this.insertShaderBorders(d,m,y,-y,null,0,!1),this.insertShaderBorders(d,m,y,null,-y,0,!0),this.insertShaderBorders(d,m,y,null,-y,0,!1),this.insertShaderBorders(d,y,m+y,-y,null,-y,!0),this.insertShaderBorders(d,y,m+y,null,-y,-y,!0),this.insertShaderBorders(d,y,m+y,-y,null,-y,!1),this.insertShaderBorders(d,y,m+y,null,-y,-y,!1),this.hasBorderShaders=!0}n.append(d)}},e.prototype.insertShaderBorders=function(n,s,a,c,d,x,w){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=Jt.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(s,"px"),y.style.height="".concat(a,"px"),c!==null&&(y.style.top="".concat(c,"px")),d!==null&&(y.style.bottom="".concat(d,"px")),w?y.style.left="".concat(x,"px"):y.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),n.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),m0;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(m0||(m0={}));const w0="qr-reader-container",y0=1500;function tm(e=[]){if(!e.length)return null;const n=e.find(s=>/back|rear|environment/i.test(s.label));return(n==null?void 0:n.id)??e[0].id}function nm(){var L,Q,G,ae;const e=U.useRef(null),n=U.useRef(null),s=U.useRef({text:null,timestamp:0}),[a,c]=U.useState("Align QR code within the frame"),[d,x]=U.useState(null),[w,y]=U.useState(!1),[m,_]=U.useState(!0),[S,M]=U.useState(!1),[F,H]=U.useState(null),[j,$]=U.useState([]),[b,v]=U.useState(null),N=U.useCallback(async ce=>{var Ee;const re=Date.now();if(!w&&!(s.current.text===ce&&re-s.current.timestamp<y0)){if(s.current={text:ce,timestamp:re},(Ee=e.current)!=null&&Ee.isScanning)try{e.current.pause(!0)}catch(Ne){console.warn("Failed to pause scanner",Ne)}y(!0),c("Checking ticket");try{const Ne=await Yr("/api/scanner/verify-qr",{method:"POST",body:{qr:ce}});x({ok:!0,data:Ne,at:new Date}),c(` Ticket accepted (${Ne.ticketCode})`)}catch(Ne){x({ok:!1,message:Ne.message,at:new Date,data:Ne.payload||null}),c(` ${Ne.message||"Rejected"}`)}finally{y(!1),clearTimeout(n.current),n.current=setTimeout(()=>{var Ne;try{(Ne=e.current)==null||Ne.resume()}catch(z){console.warn("Failed to resume scanner",z)}},y0)}}},[w]),P=U.useCallback(async()=>{if(e.current){if(e.current.isScanning)try{await e.current.stop()}catch(ce){console.warn("Failed to stop scanner",ce)}try{await e.current.clear()}catch{}}},[]),X=U.useCallback(async ce=>{if(!(!e.current||!ce)){M(!0),H(null),c("Starting camera");try{e.current.isScanning&&await e.current.stop()}catch(re){console.warn("Failed to stop existing scan",re)}try{await e.current.start({deviceId:{exact:ce}},{fps:10,qrbox:{width:280,height:280}},N,re=>{typeof re=="string"&&re.toLowerCase().includes("no qr code")||console.warn("QR scan error",re)}),c("Scanner ready. Present the QR code.")}catch(re){console.error("Failed to start scanner",re),H("Unable to start the selected camera. Try a different device or check permissions."),c("Scanner inactive.")}finally{M(!1)}}},[N]),Z=U.useCallback(async()=>{_(!0),H(null);try{const ce=await p0.getCameras();if(!ce||ce.length===0){$([]),v(null),c("No camera detected. Connect a camera and refresh.");return}$(ce),v(re=>re&&ce.some(Ee=>Ee.id===re)?re:tm(ce))}catch(ce){console.error("Failed to enumerate cameras",ce),H("Unable to access camera list. Check browser permissions."),c("Camera access blocked.")}finally{_(!1)}},[]);return U.useEffect(()=>{const ce=new p0(w0);return e.current=ce,Z(),()=>{clearTimeout(n.current),P().catch(()=>{})}},[Z,P]),U.useEffect(()=>{b&&X(b)},[b,X]),R.jsxs("div",{className:"mx-auto flex max-w-5xl flex-col gap-6",children:[R.jsxs("section",{className:"rounded-3xl bg-white px-6 py-6 shadow-sm",children:[R.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"QR Scanner"}),R.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Scan attendee QR codes to validate tickets in real time. Grant camera access when prompted."})]}),R.jsxs("section",{className:"grid gap-6 lg:grid-cols-[3fr_2fr]",children:[R.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[R.jsxs("div",{className:"flex items-center justify-between gap-4",children:[R.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"camera-select",children:"Camera source"}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("select",{id:"camera-select",value:b??"",onChange:ce=>v(ce.target.value||null),disabled:m||S||j.length===0,className:"rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/20",children:j.length===0?R.jsx("option",{value:"",children:m?"Detecting cameras":"No cameras found"}):j.map(ce=>R.jsx("option",{value:ce.id,children:ce.label||`Camera ${ce.id}`},ce.id))}),R.jsx("button",{type:"button",onClick:Z,disabled:m,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-60",children:m?"Refreshing":"Refresh"})]})]}),R.jsx("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-4",children:R.jsx("div",{id:w0,className:"mx-auto aspect-square max-w-sm rounded-lg bg-black/5"})}),R.jsx("p",{className:"mt-4 text-center text-sm font-medium text-slate-600",children:S?"Starting camera":a}),F&&R.jsx("p",{className:"mt-2 text-center text-sm text-rose-600",children:F})]}),R.jsxs("div",{className:"flex flex-col gap-4",children:[R.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[R.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Last scan"}),d?R.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[R.jsxs("p",{children:["Result:"," ",R.jsx("span",{className:`font-semibold ${d.ok?"text-emerald-600":"text-rose-600"}`,children:d.ok?"ACCEPTED":"REJECTED"})]}),R.jsxs("p",{children:["Timestamp: ",d.at.toLocaleTimeString()]}),d.ok?R.jsxs(R.Fragment,{children:[R.jsxs("p",{children:["Ticket: ",d.data.ticketCode]}),d.data.attendee&&R.jsxs("p",{children:["Attendee: ",d.data.attendee]}),d.data.eventName&&R.jsxs("p",{children:["Event: ",d.data.eventName]}),d.data.seatLabel&&R.jsxs("p",{children:["Seat: ",d.data.seatLabel]}),R.jsxs("p",{children:["Status: ",d.data.message]})]}):R.jsxs("div",{className:"space-y-1",children:[R.jsxs("p",{children:["Reason: ",d.message]}),((L=d.data)==null?void 0:L.ticketCode)&&R.jsxs("p",{children:["Ticket: ",d.data.ticketCode]}),((Q=d.data)==null?void 0:Q.attendee)&&R.jsxs("p",{children:["Attendee: ",d.data.attendee]}),((G=d.data)==null?void 0:G.eventName)&&R.jsxs("p",{children:["Event: ",d.data.eventName]}),((ae=d.data)==null?void 0:ae.seatLabel)&&R.jsxs("p",{children:["Seat: ",d.data.seatLabel]})]})]}):R.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No scans yet."})]}),R.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50/70 p-5 text-sm text-amber-700",children:[R.jsx("h4",{className:"text-base font-semibold",children:"Tips"}),R.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[R.jsx("li",{children:"Hold the ticket steady and fill the frame with the QR code."}),R.jsx("li",{children:"If scanning fails, try refreshing the camera list or switching to a different device."}),R.jsx("li",{children:"Ensure the ticket hasn't already been marked as used."})]})]})]})]})]})}const rm=[{to:"/",label:"Dashboard",icon:gp},{to:"/events",label:"Manage Events",icon:dp},{to:"/scanner",label:"Scanner",icon:Cp}];function im(){return R.jsxs("div",{className:"flex h-full",children:[R.jsxs("aside",{className:"hidden w-64 flex-col border-r border-slate-200 bg-white p-6 md:flex",children:[R.jsx("h1",{className:"mb-10 text-xl font-semibold text-brand",children:"CCIS Admin Console"}),R.jsx("nav",{className:"space-y-2",children:rm.map(({to:e,label:n,icon:s})=>R.jsxs(sp,{to:e,end:e==="/",className:({isActive:a})=>`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${a?"bg-brand text-white shadow-sm":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[R.jsx(s,{className:"h-5 w-5"}),n]},e))})]}),R.jsxs("div",{className:"flex flex-1 flex-col",children:[R.jsx("header",{className:"flex items-center justify-between border-b border-slate-200 bg-white px-4 py-3 shadow-sm md:hidden",children:R.jsx("span",{className:"text-lg font-semibold text-brand",children:"CCIS Admin"})}),R.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 p-4 md:p-8",children:R.jsxs(Yx,{children:[R.jsx(cs,{path:"/",element:R.jsx(r0,{})}),R.jsx(cs,{path:"/events",element:R.jsx(Rp,{})}),R.jsx(cs,{path:"/scanner",element:R.jsx(nm,{})}),R.jsx(cs,{path:"*",element:R.jsx(r0,{})})]})})]})]})}Sa.createRoot(document.getElementById("root")).render(R.jsx(D0.StrictMode,{children:R.jsx(tp,{children:R.jsx(im,{})})}));
